try{self["workbox:core:7.2.0"]&&_()}catch{}const kd=(e,...t)=>{let r=e;return t.length>0&&(r+=` :: ${JSON.stringify(t)}`),r},Dd=kd;class Le extends Error{constructor(t,r){const i=Dd(t,r);super(i),this.name=t,this.details=r}}const Cd=new Set,Ct={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration<"u"?registration.scope:""},Qa=e=>[Ct.prefix,e,Ct.suffix].filter(t=>t&&t.length>0).join("-"),Md=e=>{for(const t of Object.keys(Ct))e(t)},Rs={updateDetails:e=>{Md(t=>{typeof e[t]=="string"&&(Ct[t]=e[t])})},getGoogleAnalyticsName:e=>e||Qa(Ct.googleAnalytics),getPrecacheName:e=>e||Qa(Ct.precache),getPrefix:()=>Ct.prefix,getRuntimeName:e=>e||Qa(Ct.runtime),getSuffix:()=>Ct.suffix};function Uc(e,t){const r=new URL(e);for(const i of t)r.searchParams.delete(i);return r.href}async function Nd(e,t,r,i){const a=Uc(t.url,r);if(t.url===a)return e.match(t,i);const c=Object.assign(Object.assign({},i),{ignoreSearch:!0}),f=await e.keys(t,c);for(const d of f){const m=Uc(d.url,r);if(a===m)return e.match(d,i)}}let Vr;function jd(){if(Vr===void 0){const e=new Response("");if("body"in e)try{new Response(e.body),Vr=!0}catch{Vr=!1}Vr=!1}return Vr}class Kd{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}async function Ad(){for(const e of Cd)await e()}const Bd=e=>new URL(String(e),location.href).href.replace(new RegExp(`^${location.origin}`),"");function Fd(e){return new Promise(t=>setTimeout(t,e))}function Lc(e,t){const r=t();return e.waitUntil(r),r}async function qd(e,t){let r=null;if(e.url&&(r=new URL(e.url).origin),r!==self.location.origin)throw new Le("cross-origin-copy-response",{origin:r});const i=e.clone(),c={headers:new Headers(i.headers),status:i.status,statusText:i.statusText},f=jd()?i.body:await i.blob();return new Response(f,c)}function Ud(){self.addEventListener("activate",()=>self.clients.claim())}function Ld(){self.skipWaiting()}try{self["workbox:precaching:7.2.0"]&&_()}catch{}const Yd="__WB_REVISION__";function Zd(e){if(!e)throw new Le("add-to-cache-list-unexpected-type",{entry:e});if(typeof e=="string"){const c=new URL(e,location.href);return{cacheKey:c.href,url:c.href}}const{revision:t,url:r}=e;if(!r)throw new Le("add-to-cache-list-unexpected-type",{entry:e});if(!t){const c=new URL(r,location.href);return{cacheKey:c.href,url:c.href}}const i=new URL(r,location.href),a=new URL(r,location.href);return i.searchParams.set(Yd,t),{cacheKey:i.href,url:a.href}}class Wd{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:r})=>{r&&(r.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:r,cachedResponse:i})=>{if(t.type==="install"&&r&&r.originalRequest&&r.originalRequest instanceof Request){const a=r.originalRequest.url;i?this.notUpdatedURLs.push(a):this.updatedURLs.push(a)}return i}}}class $d{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:r,params:i})=>{const a=(i==null?void 0:i.cacheKey)||this._precacheController.getCacheKeyForURL(r.url);return a?new Request(a,{headers:r.headers}):r},this._precacheController=t}}try{self["workbox:strategies:7.2.0"]&&_()}catch{}function ci(e){return typeof e=="string"?new Request(e):e}class Hd{constructor(t,r){this._cacheKeys={},Object.assign(this,r),this.event=r.event,this._strategy=t,this._handlerDeferred=new Kd,this._extendLifetimePromises=[],this._plugins=[...t.plugins],this._pluginStateMap=new Map;for(const i of this._plugins)this._pluginStateMap.set(i,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(t){const{event:r}=this;let i=ci(t);if(i.mode==="navigate"&&r instanceof FetchEvent&&r.preloadResponse){const f=await r.preloadResponse;if(f)return f}const a=this.hasCallback("fetchDidFail")?i.clone():null;try{for(const f of this.iterateCallbacks("requestWillFetch"))i=await f({request:i.clone(),event:r})}catch(f){if(f instanceof Error)throw new Le("plugin-error-request-will-fetch",{thrownErrorMessage:f.message})}const c=i.clone();try{let f;f=await fetch(i,i.mode==="navigate"?void 0:this._strategy.fetchOptions);for(const d of this.iterateCallbacks("fetchDidSucceed"))f=await d({event:r,request:c,response:f});return f}catch(f){throw a&&await this.runCallbacks("fetchDidFail",{error:f,event:r,originalRequest:a.clone(),request:c.clone()}),f}}async fetchAndCachePut(t){const r=await this.fetch(t),i=r.clone();return this.waitUntil(this.cachePut(t,i)),r}async cacheMatch(t){const r=ci(t);let i;const{cacheName:a,matchOptions:c}=this._strategy,f=await this.getCacheKey(r,"read"),d=Object.assign(Object.assign({},c),{cacheName:a});i=await caches.match(f,d);for(const m of this.iterateCallbacks("cachedResponseWillBeUsed"))i=await m({cacheName:a,matchOptions:c,cachedResponse:i,request:f,event:this.event})||void 0;return i}async cachePut(t,r){const i=ci(t);await Fd(0);const a=await this.getCacheKey(i,"write");if(!r)throw new Le("cache-put-with-no-response",{url:Bd(a.url)});const c=await this._ensureResponseSafeToCache(r);if(!c)return!1;const{cacheName:f,matchOptions:d}=this._strategy,m=await self.caches.open(f),g=this.hasCallback("cacheDidUpdate"),I=g?await Nd(m,a.clone(),["__WB_REVISION__"],d):null;try{await m.put(a,g?c.clone():c)}catch(R){if(R instanceof Error)throw R.name==="QuotaExceededError"&&await Ad(),R}for(const R of this.iterateCallbacks("cacheDidUpdate"))await R({cacheName:f,oldResponse:I,newResponse:c.clone(),request:a,event:this.event});return!0}async getCacheKey(t,r){const i=`${t.url} | ${r}`;if(!this._cacheKeys[i]){let a=t;for(const c of this.iterateCallbacks("cacheKeyWillBeUsed"))a=ci(await c({mode:r,request:a,event:this.event,params:this.params}));this._cacheKeys[i]=a}return this._cacheKeys[i]}hasCallback(t){for(const r of this._strategy.plugins)if(t in r)return!0;return!1}async runCallbacks(t,r){for(const i of this.iterateCallbacks(t))await i(r)}*iterateCallbacks(t){for(const r of this._strategy.plugins)if(typeof r[t]=="function"){const i=this._pluginStateMap.get(r);yield c=>{const f=Object.assign(Object.assign({},c),{state:i});return r[t](f)}}}waitUntil(t){return this._extendLifetimePromises.push(t),t}async doneWaiting(){let t;for(;t=this._extendLifetimePromises.shift();)await t}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(t){let r=t,i=!1;for(const a of this.iterateCallbacks("cacheWillUpdate"))if(r=await a({request:this.request,response:r,event:this.event})||void 0,i=!0,!r)break;return i||r&&r.status!==200&&(r=void 0),r}}class Vd{constructor(t={}){this.cacheName=Rs.getRuntimeName(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[r]=this.handleAll(t);return r}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const r=t.event,i=typeof t.request=="string"?new Request(t.request):t.request,a="params"in t?t.params:void 0,c=new Hd(this,{event:r,request:i,params:a}),f=this._getResponse(c,i,r),d=this._awaitComplete(f,c,i,r);return[f,d]}async _getResponse(t,r,i){await t.runCallbacks("handlerWillStart",{event:i,request:r});let a;try{if(a=await this._handle(r,t),!a||a.type==="error")throw new Le("no-response",{url:r.url})}catch(c){if(c instanceof Error){for(const f of t.iterateCallbacks("handlerDidError"))if(a=await f({error:c,event:i,request:r}),a)break}if(!a)throw c}for(const c of t.iterateCallbacks("handlerWillRespond"))a=await c({event:i,request:r,response:a});return a}async _awaitComplete(t,r,i,a){let c,f;try{c=await t}catch{}try{await r.runCallbacks("handlerDidRespond",{event:a,request:i,response:c}),await r.doneWaiting()}catch(d){d instanceof Error&&(f=d)}if(await r.runCallbacks("handlerDidComplete",{event:a,request:i,response:c,error:f}),r.destroy(),f)throw f}}class rn extends Vd{constructor(t={}){t.cacheName=Rs.getPrecacheName(t.cacheName),super(t),this._fallbackToNetwork=t.fallbackToNetwork!==!1,this.plugins.push(rn.copyRedirectedCacheableResponsesPlugin)}async _handle(t,r){const i=await r.cacheMatch(t);return i||(r.event&&r.event.type==="install"?await this._handleInstall(t,r):await this._handleFetch(t,r))}async _handleFetch(t,r){let i;const a=r.params||{};if(this._fallbackToNetwork){const c=a.integrity,f=t.integrity,d=!f||f===c;i=await r.fetch(new Request(t,{integrity:t.mode!=="no-cors"?f||c:void 0})),c&&d&&t.mode!=="no-cors"&&(this._useDefaultCacheabilityPluginIfNeeded(),await r.cachePut(t,i.clone()))}else throw new Le("missing-precache-entry",{cacheName:this.cacheName,url:t.url});return i}async _handleInstall(t,r){this._useDefaultCacheabilityPluginIfNeeded();const i=await r.fetch(t);if(!await r.cachePut(t,i.clone()))throw new Le("bad-precaching-response",{url:t.url,status:i.status});return i}_useDefaultCacheabilityPluginIfNeeded(){let t=null,r=0;for(const[i,a]of this.plugins.entries())a!==rn.copyRedirectedCacheableResponsesPlugin&&(a===rn.defaultPrecacheCacheabilityPlugin&&(t=i),a.cacheWillUpdate&&r++);r===0?this.plugins.push(rn.defaultPrecacheCacheabilityPlugin):r>1&&t!==null&&this.plugins.splice(t,1)}}rn.defaultPrecacheCacheabilityPlugin={async cacheWillUpdate({response:e}){return!e||e.status>=400?null:e}};rn.copyRedirectedCacheableResponsesPlugin={async cacheWillUpdate({response:e}){return e.redirected?await qd(e):e}};class zd{constructor({cacheName:t,plugins:r=[],fallbackToNetwork:i=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new rn({cacheName:Rs.getPrecacheName(t),plugins:[...r,new $d({precacheController:this})],fallbackToNetwork:i}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(t){this.addToCacheList(t),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(t){const r=[];for(const i of t){typeof i=="string"?r.push(i):i&&i.revision===void 0&&r.push(i.url);const{cacheKey:a,url:c}=Zd(i),f=typeof i!="string"&&i.revision?"reload":"default";if(this._urlsToCacheKeys.has(c)&&this._urlsToCacheKeys.get(c)!==a)throw new Le("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(c),secondEntry:a});if(typeof i!="string"&&i.integrity){if(this._cacheKeysToIntegrities.has(a)&&this._cacheKeysToIntegrities.get(a)!==i.integrity)throw new Le("add-to-cache-list-conflicting-integrities",{url:c});this._cacheKeysToIntegrities.set(a,i.integrity)}if(this._urlsToCacheKeys.set(c,a),this._urlsToCacheModes.set(c,f),r.length>0){const d=`Workbox is precaching URLs without revision info: ${r.join(", ")}
This is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(d)}}}install(t){return Lc(t,async()=>{const r=new Wd;this.strategy.plugins.push(r);for(const[c,f]of this._urlsToCacheKeys){const d=this._cacheKeysToIntegrities.get(f),m=this._urlsToCacheModes.get(c),g=new Request(c,{integrity:d,cache:m,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:f},request:g,event:t}))}const{updatedURLs:i,notUpdatedURLs:a}=r;return{updatedURLs:i,notUpdatedURLs:a}})}activate(t){return Lc(t,async()=>{const r=await self.caches.open(this.strategy.cacheName),i=await r.keys(),a=new Set(this._urlsToCacheKeys.values()),c=[];for(const f of i)a.has(f.url)||(await r.delete(f),c.push(f.url));return{deletedURLs:c}})}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(t){const r=new URL(t,location.href);return this._urlsToCacheKeys.get(r.href)}getIntegrityForCacheKey(t){return this._cacheKeysToIntegrities.get(t)}async matchPrecache(t){const r=t instanceof Request?t.url:t,i=this.getCacheKeyForURL(r);if(i)return(await self.caches.open(this.strategy.cacheName)).match(i)}createHandlerBoundToURL(t){const r=this.getCacheKeyForURL(t);if(!r)throw new Le("non-precached-url",{url:t});return i=>(i.request=new Request(t),i.params=Object.assign({cacheKey:r},i.params),this.strategy.handle(i))}}let Ja;const Cl=()=>(Ja||(Ja=new zd),Ja);try{self["workbox:routing:7.2.0"]&&_()}catch{}const Ml="GET",Ti=e=>e&&typeof e=="object"?e:{handle:e};class to{constructor(t,r,i=Ml){this.handler=Ti(r),this.match=t,this.method=i}setCatchHandler(t){this.catchHandler=Ti(t)}}class Gd extends to{constructor(t,r,i){const a=({url:c})=>{const f=t.exec(c.href);if(f&&!(c.origin!==location.origin&&f.index!==0))return f.slice(1)};super(a,r,i)}}class Qd{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",t=>{const{request:r}=t,i=this.handleRequest({request:r,event:t});i&&t.respondWith(i)})}addCacheListener(){self.addEventListener("message",t=>{if(t.data&&t.data.type==="CACHE_URLS"){const{payload:r}=t.data,i=Promise.all(r.urlsToCache.map(a=>{typeof a=="string"&&(a=[a]);const c=new Request(...a);return this.handleRequest({request:c,event:t})}));t.waitUntil(i),t.ports&&t.ports[0]&&i.then(()=>t.ports[0].postMessage(!0))}})}handleRequest({request:t,event:r}){const i=new URL(t.url,location.href);if(!i.protocol.startsWith("http"))return;const a=i.origin===location.origin,{params:c,route:f}=this.findMatchingRoute({event:r,request:t,sameOrigin:a,url:i});let d=f&&f.handler;const m=t.method;if(!d&&this._defaultHandlerMap.has(m)&&(d=this._defaultHandlerMap.get(m)),!d)return;let g;try{g=d.handle({url:i,request:t,event:r,params:c})}catch(R){g=Promise.reject(R)}const I=f&&f.catchHandler;return g instanceof Promise&&(this._catchHandler||I)&&(g=g.catch(async R=>{if(I)try{return await I.handle({url:i,request:t,event:r,params:c})}catch(D){D instanceof Error&&(R=D)}if(this._catchHandler)return this._catchHandler.handle({url:i,request:t,event:r});throw R})),g}findMatchingRoute({url:t,sameOrigin:r,request:i,event:a}){const c=this._routes.get(i.method)||[];for(const f of c){let d;const m=f.match({url:t,sameOrigin:r,request:i,event:a});if(m)return d=m,(Array.isArray(d)&&d.length===0||m.constructor===Object&&Object.keys(m).length===0||typeof m=="boolean")&&(d=void 0),{route:f,params:d}}return{}}setDefaultHandler(t,r=Ml){this._defaultHandlerMap.set(r,Ti(t))}setCatchHandler(t){this._catchHandler=Ti(t)}registerRoute(t){this._routes.has(t.method)||this._routes.set(t.method,[]),this._routes.get(t.method).push(t)}unregisterRoute(t){if(!this._routes.has(t.method))throw new Le("unregister-route-but-not-found-with-method",{method:t.method});const r=this._routes.get(t.method).indexOf(t);if(r>-1)this._routes.get(t.method).splice(r,1);else throw new Le("unregister-route-route-not-registered")}}let zr;const Jd=()=>(zr||(zr=new Qd,zr.addFetchListener(),zr.addCacheListener()),zr);function Xd(e,t,r){let i;if(typeof e=="string"){const c=new URL(e,location.href),f=({url:d})=>d.href===c.href;i=new to(f,t,r)}else if(e instanceof RegExp)i=new Gd(e,t,r);else if(typeof e=="function")i=new to(e,t,r);else if(e instanceof to)i=e;else throw new Le("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return Jd().registerRoute(i),i}function ep(e,t=[]){for(const r of[...e.searchParams.keys()])t.some(i=>i.test(r))&&e.searchParams.delete(r);return e}function*tp(e,{ignoreURLParametersMatching:t=[/^utm_/,/^fbclid$/],directoryIndex:r="index.html",cleanURLs:i=!0,urlManipulation:a}={}){const c=new URL(e,location.href);c.hash="",yield c.href;const f=ep(c,t);if(yield f.href,r&&f.pathname.endsWith("/")){const d=new URL(f.href);d.pathname+=r,yield d.href}if(i){const d=new URL(f.href);d.pathname+=".html",yield d.href}if(a){const d=a({url:c});for(const m of d)yield m.href}}class np extends to{constructor(t,r){const i=({request:a})=>{const c=t.getURLsToCacheKeys();for(const f of tp(a.url,r)){const d=c.get(f);if(d){const m=t.getIntegrityForCacheKey(d);return{cacheKey:d,integrity:m}}}};super(i,t.strategy)}}function rp(e){const t=Cl(),r=new np(t,e);Xd(r)}function op(e){Cl().precache(e)}function ip(e,t){op(e),rp(t)}function Ge(e,t,r,i,a){return At(t,((c,f)=>{const d=c[f];if(d===void 0)throw new TypeError(vu(f));return d})(e,t),r,i,a)}function At(e,t,r,i,a,c){const f=so(t,r,i);if(a&&t!==f)throw new RangeError(Vf(e,t,r,i,c));return f}function We(e){return e!==null&&/object|function/.test(typeof e)}function rt(e,t=Map){const r=new t;return(i,...a)=>{if(r.has(i))return r.get(i);const c=e(i,...a);return r.set(i,c),c}}function ao(e){return yr({name:e},1)}function yr(e,t){return Bt(r=>({value:r,configurable:1,writable:!t}),e)}function ap(e){return Bt(t=>({get:t,configurable:1}),e)}function Es(e){return{[Symbol.toStringTag]:{value:e,configurable:1}}}function _r(e,t){const r={};let i=e.length;for(const a of t)r[e[--i]]=a;return r}function Bt(e,t,r){const i={};for(const a in t)i[a]=e(t[a],a,r);return i}function ji(e,t,r){const i={};for(let a=0;a<t.length;a++){const c=t[a];i[c]=e(c,a,r)}return i}function Nl(e,t,r){const i={};for(let a=0;a<e.length;a++)i[t[a]]=r[e[a]];return i}function ft(e,t){const r=Object.create(null);for(const i of e)r[i]=t[i];return r}function Yc(e,t){for(const r of t)if(r in e)return 1;return 0}function jl(e,t,r){for(const i of e)if(t[i]!==r[i])return 0;return 1}function Kl(e,t,r){const i={...r};for(let a=0;a<t;a++)i[e[a]]=0;return i}function le(e,...t){return(...r)=>e(...t,...r)}function Zc(e){return e[0].toUpperCase()+e.substring(1)}function go(e){return e.slice().sort()}function xi(e,t){return String(t).padStart(e,"0")}function on(e,t){return Math.sign(e-t)}function so(e,t,r){return Math.min(Math.max(e,t),r)}function Nt(e,t){return[Math.floor(e/t),no(e,t)]}function no(e,t){return(e%t+t)%t}function cn(e,t){return[Ki(e,t),Os(e,t)]}function Ki(e,t){return Math.trunc(e/t)||0}function Os(e,t){return e%t||0}function li(e){return Math.abs(e%1)===.5}function Al(e,t,r){let i=0,a=0;for(let d=0;d<=t;d++){const m=e[r[d]],g=Rt[d],I=ve/g,[R,D]=cn(m,I);i+=D*g,a+=R}const[c,f]=cn(i,ve);return[a+c,f]}function Ai(e,t,r){const i={};for(let a=t;a>=0;a--){const c=Rt[a];i[r[a]]=Ki(e,c),e=Os(e,c)}return i}function sp(e){if(e!==void 0)return Be(e)}function up(e){if(e!==void 0)return Mt(e)}function Bl(e){if(e!==void 0)return Ss(e)}function Mt(e){return Ul(Ss(e))}function Ss(e){return ql(vy(e))}function Fl(e,t){if(t==null)throw new RangeError(vu(e));return t}function vo(e){if(!We(e))throw new TypeError(Ym);return e}function Ps(e,t,r=e){if(typeof t!==e)throw new TypeError(_n(r,t));return t}function ql(e,t="number"){if(!Number.isInteger(e))throw new RangeError(Am(t,e));return e||0}function Ul(e,t="number"){if(e<=0)throw new RangeError(Bm(t,e));return e}function Is(e){if(typeof e=="symbol")throw new TypeError(Lm);return String(e)}function yi(e,t){return We(e)?String(e):Be(e,t)}function ks(e){if(typeof e=="string")return BigInt(e);if(typeof e!="bigint")throw new TypeError(Um(e));return e}function Ll(e,t="number"){if(typeof e=="bigint")throw new TypeError(qm(t));if(e=Number(e),!Number.isFinite(e))throw new RangeError(Fm(t,e));return e}function Ye(e,t){return Math.trunc(Ll(e,t))||0}function Ds(e,t){return ql(Ll(e,t),t)}function Wc(e,t){return Ul(Ye(e,t),t)}function Cs(e,t){let[r,i]=cn(t,ve),a=e+r;const c=Math.sign(a);return c&&c===-Math.sign(i)&&(a-=c,i+=c*ve),[a,i]}function gr(e,t,r=1){return Cs(e[0]+t[0]*r,e[1]+t[1]*r)}function Un(e,t){return Cs(e[0],e[1]+t)}function Tt(e,t){return gr(t,e,-1)}function ot(e,t){return on(e[0],t[0])||on(e[1],t[1])}function Yl(e,t,r){return ot(e,t)===-1||ot(e,r)===1}function Ms(e,t=1){const r=BigInt(ve/t);return[Number(e/r),Number(e%r)*t]}function Ri(e,t=1){const r=ve/t,[i,a]=cn(e,r);return[i,a*t]}function xt(e,t=1,r){const[i,a]=e,[c,f]=cn(a,t);return i*(ve/t)+(c+(r?f/t:0))}function Ns(e,t,r=Nt){const[i,a]=e,[c,f]=r(a,t);return[i*(ve/t)+c,f]}function js(e){return Ge(e,"isoYear",po,ho,1),e.isoYear===po?Ge(e,"isoMonth",4,12,1):e.isoYear===ho&&Ge(e,"isoMonth",1,9,1),e}function ct(e){return Xe({...e,...et,isoHour:12}),e}function Xe(e){const t=Ge(e,"isoYear",po,ho,1),r=t===po?1:t===ho?-1:0;return r&&Et(Me({...e,isoDay:e.isoDay+r,isoNanosecond:e.isoNanosecond-r})),e}function Et(e){if(!e||Yl(e,Ey,Ry))throw new RangeError(Tn);return e}function ln(e){return Al(e,5,pt)[1]}function Bi(e){const[t,r]=Nt(e,ve);return[Ai(r,5,pt),t]}function $c(e){return Ns(e,_t)}function Ze(e){return Tr(e.isoYear,e.isoMonth,e.isoDay,e.isoHour,e.isoMinute,e.isoSecond,e.isoMillisecond)}function Me(e){const t=Ze(e);if(t!==void 0){const[r,i]=cn(t,Je);return[r,i*Ut+(e.isoMicrosecond||0)*Eo+(e.isoNanosecond||0)]}}function Ks(e,t){const[r,i]=Bi(ln(e)-t);return Et(Me({...e,isoDay:e.isoDay+i,...r}))}function Ei(...e){return Tr(...e)/rh}function Tr(...e){const[t,r]=Zl(...e),i=t.valueOf();if(!isNaN(i))return i-r*Je}function Zl(e,t=1,r=1,i=0,a=0,c=0,f=0){const d=e===po?1:e===ho?-1:0,m=new Date;return m.setUTCHours(i,a,c,f),m.setUTCFullYear(e,t-1,r+d),[m,d]}function xr(e,t){let[r,i]=Un(e,t);i<0&&(i+=ve,r-=1);const[a,c]=Nt(i,Ut),[f,d]=Nt(c,Eo);return Fi(r*Je+a,f,d)}function Fi(e,t=0,r=0){const i=Math.ceil(Math.max(0,Math.abs(e)-ku)/Je)*Math.sign(e),a=new Date(e-i*Je);return _r(aa,[a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()+i,a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds(),t,r])}function As(e,t){if(t<-ku)throw new RangeError(Tn);const r=e.formatToParts(t),i={};for(const a of r)i[a.type]=a.value;return i}function Bs(e){return[e.isoYear,e.isoMonth,e.isoDay]}function Wl(e,t){return[t,0]}function $l(){return Jt}function Hl(e,t){switch(t){case 2:return Fs(e)?29:28;case 4:case 6:case 9:case 11:return 30}return 31}function Vl(e){return Fs(e)?366:365}function Fs(e){return e%4==0&&(e%100!=0||e%400==0)}function zl(e){const[t,r]=Zl(e.isoYear,e.isoMonth,e.isoDay);return no(t.getUTCDay()-r,7)||7}function Gl(e){return this.id===Dr?(({isoYear:t})=>t<1?["gregory-inverse",1-t]:["gregory",t])(e):this.id===dn?Py(e):[]}function cp(e){const t=Ze(e);if(t<Sy){const{isoYear:c}=e;return c<1?["japanese-inverse",1-c]:["japanese",c]}const r=As(qu(dn),t),{era:i,eraYear:a}=Af(r,dn);return[i,a]}function qi(e){return Zn(e),Rr(e,1),e}function Zn(e){return Ql(e,1),e}function Hc(e){return jl(Su,e,Ql(e))}function Ql(e,t){const{isoYear:r}=e,i=Ge(e,"isoMonth",1,$l(),t);return{isoYear:r,isoMonth:i,isoDay:Ge(e,"isoDay",1,Hl(r,i),t)}}function Rr(e,t){return _r(pt,[Ge(e,"isoHour",0,23,t),Ge(e,"isoMinute",0,59,t),Ge(e,"isoSecond",0,59,t),Ge(e,"isoMillisecond",0,999,t),Ge(e,"isoMicrosecond",0,999,t),Ge(e,"isoNanosecond",0,999,t)])}function pe(e){return e===void 0?0:vh(vo(e))}function Ui(e,t=0){e=Ot(e);const r=bh(e),i=By(e,t);return[vh(e),i,r]}function Er(e,t,r,i=9,a=0,c=4){t=Ot(t);let f=gh(t,i,a),d=Ls(t),m=Po(t,c);const g=So(t,i,a,1);return f==null?f=Math.max(r,g):tf(f,g),d=Ys(d,g,1),e&&(m=(I=>I<4?(I+2)%4:I)(m)),[f,g,d,m]}function Li(e,t=6,r){let i=Ls(e=Yi(e,Di));const a=Po(e,7);let c=So(e,t);return c=Fl(Di,c),i=Ys(i,c,void 0,r),[c,i,a]}function qs(e){return Du(Ot(e))}function Jl(e,t){return Us(Ot(e),t)}function lp(e){const t=Yi(e,as),r=yn(as,Ky,t,0);if(!r)throw new RangeError(_n(as,r));return r}function Us(e,t=4){const r=ef(e);return[Po(e,4),...Xl(So(e,t),r)]}function Xl(e,t){return e!=null?[Rt[e],e<4?9-3*e:-1]:[t===void 0?1:10**(9-t),t]}function Ls(e){const t=e[ro];return t===void 0?1:Ye(t,ro)}function Ys(e,t,r,i){const a=i?ve:Rt[t+1];if(a){const c=Rt[t];if(a%((e=At(ro,e,1,a/c-(i?0:1),1))*c))throw new RangeError(_n(ro,e))}else e=At(ro,e,1,r?10**9:1,1);return e}function ef(e){let t=e[is];if(t!==void 0){if(typeof t!="number"){if(Is(t)==="auto")return;throw new RangeError(_n(is,t))}t=At(is,Math.floor(t),0,9,1)}return t}function Ot(e){return e===void 0?{}:vo(e)}function Yi(e,t){return typeof e=="string"?{[t]:e}:vo(e)}function Zi(e){return{overflow:Iy[e]}}function Zs(e,t,r=9,i=0,a){let c=t[e];if(c===void 0)return a?i:void 0;if(c=Is(c),c==="auto")return a?i:null;let f=hs[c];if(f===void 0&&(f=_y[c]),f===void 0)throw new RangeError(Gf(e,c,hs));return At(e,f,i,r,1,bu),f}function yn(e,t,r,i=0){const a=r[e];if(a===void 0)return i;const c=Is(a),f=t[c];if(f===void 0)throw new RangeError(Gf(e,c,t));return f}function tf(e,t){if(t>e)throw new RangeError(ly)}function Ft(e){return{branding:ju,epochNanoseconds:e}}function ht(e,t,r){return{branding:xn,calendar:r,timeZone:t,epochNanoseconds:e}}function dt(e,t=e.calendar){return{branding:Cr,calendar:t,...ft(Ty,e)}}function qt(e,t=e.calendar){return{branding:Io,calendar:t,...ft(Pu,e)}}function uo(e,t=e.calendar){return{branding:Cu,calendar:t,...ft(Pu,e)}}function Oi(e,t=e.calendar){return{branding:Mu,calendar:t,...ft(Pu,e)}}function St(e){return{branding:Nu,...ft(dh,e)}}function Ie(e){return{branding:Ku,sign:gn(e),...ft(Ru,e)}}function Ws(e){return Ns(e.epochNanoseconds,Ut)[0]}function fp(e){return((t,r=1)=>{const[i,a]=t,c=Math.floor(a/r),f=ve/r;return BigInt(i)*BigInt(f)+BigInt(c)})(e.epochNanoseconds)}function nf(e){return e.epochNanoseconds}function hp(e,t,r,i,a){const c=Ln(i),[f,d]=((V,G)=>{const X=G((V=Yi(V,ms))[mh]);let re=Ay(V);return re=Fl(ms,re),[re,X]})(a,e),m=Math.max(f,c);if(!d&&lo(m,d))return Vc(i,f);if(!d)throw new RangeError(ra);if(!i.sign)return 0;const[g,I,R]=zi(t,r,d),D=eu(R),N=Gi(R),K=tu(R),A=N(I,g,i);vr(d)||(Xe(g),Xe(A));const $=K(I,g,A,f);return lo(f,d)?Vc($,f):((V,G,X,re,de,ue,ae)=>{const be=gn(V),[we,mt]=$s(re,Ou(X,V),X,be,de,ue,ae),st=Hs(G,we,mt);return V[ye[X]]+st*be})($,D(A),f,I,g,D,N)}function Vc(e,t){return xt(Ne(e),Rt[t],1)}function $s(e,t,r,i,a,c,f){const d=ye[r],m={...t,[d]:t[d]+i},g=f(e,a,t),I=f(e,a,m);return[c(g),c(I)]}function Hs(e,t,r){const i=xt(Tt(t,r));if(!i)throw new RangeError(kr);return xt(Tt(t,e))/i}function dp(e,t){const[r,i,a]=Li(t,5,1);return Ft($i(e.epochNanoseconds,r,i,a,1))}function pp(e,t,r){let{epochNanoseconds:i,timeZone:a,calendar:c}=t;const[f,d,m]=Li(r);if(f===0&&d===1)return t;const g=e(a);if(f===6)i=((I,R,D,N)=>{const K=at(D,R),[A,$]=I(K),V=D.epochNanoseconds,G=hn(R,A),X=hn(R,$);if(Yl(V,G,X))throw new RangeError(kr);return uf(Hs(V,G,X),N)?X:G})(af,g,t,m);else{const I=g.R(i);i=Or(g,rf(xr(i,I),f,d,m),I,2,0,1)}return ht(i,a,c)}function mp(e,t){return dt(rf(e,...Li(t)),e.calendar)}function yp(e,t){const[r,i,a]=Li(t,5);var c;return St((c=a,Vs(e,bo(r,i),c)[0]))}function gp(e,t){const r=e(t.timeZone),i=at(t,r),[a,c]=af(i),f=xt(Tt(hn(r,a),hn(r,c)),ia,1);if(f<=0)throw new RangeError(kr);return f}function vp(e,t){const{timeZone:r,calendar:i}=t,a=((c,f,d)=>hn(f,c(at(d,f))))(sf,e(r),t);return ht(a,r,i)}function rf(e,t,r,i){return of(e,bo(t,r),i)}function of(e,t,r){const[i,a]=Vs(e,t,r);return Xe({...Wn(e,a),...i})}function Vs(e,t,r){return Bi(fn(ln(e),t,r))}function Si(e){return fn(e,oa,7)}function bo(e,t){return Rt[e]*t}function af(e){const t=sf(e);return[t,Wn(t,1)]}function sf(e){return xy(6,e)}function bp(e,t,r){const i=Math.min(Ln(e),6);return Sr(Hi(Ne(e,i),t,r),i)}function Wi(e,t,r,i,a,c,f,d,m,g){if(i===0&&a===1)return e;const I=lo(i,d)?vr(d)&&i<6&&r>=6?_p:wp:Tp;let[R,D,N]=I(e,t,r,i,a,c,f,d,m,g);return N&&i!==7&&(R=((K,A,$,V,G,X,re,de)=>{const ue=gn(K);for(let ae=V+1;ae<=$;ae++){if(ae===7&&$!==7)continue;const be=Ou(ae,K);be[ye[ae]]+=ue;const we=xt(Tt(re(de(G,X,be)),A));if(we&&Math.sign(we)!==ue)break;K=be}return K})(R,D,r,Math.max(6,i),f,d,m,g)),R}function $i(e,t,r,i,a){if(t===6){const c=(f=>f[0]+f[1]/ve)(e);return[fn(c,r,i),0]}return Hi(e,bo(t,r),i,a)}function Hi(e,t,r,i){let[a,c]=e;i&&c<0&&(c+=ve,a-=1);const[f,d]=Nt(fn(c,t,r),ve);return Cs(a+f,d)}function fn(e,t,r){return uf(e/t,r)*t}function uf(e,t){return Uy[t](e)}function wp(e,t,r,i,a,c){const f=gn(e),d=Ne(e),m=$i(d,i,a,c),g=Tt(d,m),I=Math.sign(m[0]-d[0])===f,R=Sr(m,Math.min(r,6));return[{...e,...R},gr(t,g),I]}function _p(e,t,r,i,a,c,f,d,m,g){const I=gn(e)||1,R=xt(Ne(e,5)),D=bo(i,a);let N=fn(R,D,c);const[K,A]=$s(f,{...e,...Eu},6,I,d,m,g),$=N-xt(Tt(K,A));let V=0;$&&Math.sign($)!==I?t=Un(K,N):(V+=I,N=fn($,D,c),t=Un(A,N));const G=Qi(N);return[{...e,...G,days:e.days+V},t,!!V]}function Tp(e,t,r,i,a,c,f,d,m,g){const I=gn(e),R=ye[i],D=Ou(i,e);i===7&&(e={...e,weeks:e.weeks+Math.trunc(e.days/7)});const N=Ki(e[R],a)*a;D[R]=N;const[K,A]=$s(f,D,i,a*I,d,m,g),$=N+Hs(t,K,A)*I*a,V=fn($,a,c),G=Math.sign(V-$)===I;return D[R]=V,[D,G?A:K,G]}function zc(e,t,r,i){const[a,c,f,d]=(g=>{const I=Us(g=Ot(g));return[g.timeZone,...I]})(i),m=a!==void 0;return((g,I,R,D,N,K)=>{R=Hi(R,N,D,1);const A=I.R(R);return zs(xr(R,A),K)+(g?wo(Si(A)):"Z")})(m,t(m?e(a):zn),r.epochNanoseconds,c,f,d)}function Gc(e,t,r){const[i,a,c,f,d,m]=(g=>{g=Ot(g);const I=Du(g),R=ef(g),D=qy(g),N=Po(g,4),K=So(g,4);return[I,Fy(g),D,N,...Xl(K,R)]})(r);return((g,I,R,D,N,K,A,$,V,G)=>{D=Hi(D,V,$,1);const X=g(R).R(D);return zs(xr(D,X),G)+wo(Si(X),A)+((re,de)=>de!==1?"["+(de===2?"!":"")+re+"]":"")(R,K)+Gs(I,N)})(e,t.calendar,t.timeZone,t.epochNanoseconds,i,a,c,f,d,m)}function Qc(e,t){const[r,i,a,c]=(g=>(g=Ot(g),[Du(g),...Us(g)]))(t);return f=e.calendar,d=r,m=c,zs(of(e,a,i),m)+Gs(f,d);var f,d,m}function Jc(e,t){return r=e.calendar,i=e,a=qs(t),Pi(i)+Gs(r,a);var r,i,a}function Xc(e,t){return cf(e.calendar,lf,e,qs(t))}function el(e,t){return cf(e.calendar,xp,e,qs(t))}function tl(e,t){const[r,i,a]=Jl(t);return c=a,ff(Vs(e,i,r)[0],c);var c}function Xa(e,t){const[r,i,a]=Jl(t,3);return i>1&&$n(e={...e,...bp(e,i,r)}),((c,f)=>{const{sign:d}=c,m=d===-1?$e(c):c,{hours:g,minutes:I}=m,[R,D]=Ns(Ne(m,3),_t,cn);mf(R);const N=Qs(D,f),K=f>=0||!d||N;return(d<0?"-":"")+"P"+nl({Y:Fn(m.years),M:Fn(m.months),W:Fn(m.weeks),D:Fn(m.days)})+(g||I||R||K?"T"+nl({H:Fn(g),M:Fn(I),S:Fn(R,K)+N}):"")})(e,a)}function cf(e,t,r,i){const a=i>1||i===0&&e!==he;return i===1?e===he?t(r):Pi(r):a?Pi(r)+hf(e,i===2):t(r)}function nl(e){const t=[];for(const r in e){const i=e[r];i&&t.push(i,r)}return t.join("")}function zs(e,t){return Pi(e)+"T"+ff(e,t)}function Pi(e){return lf(e)+"-"+lt(e.isoDay)}function lf(e){const{isoYear:t}=e;return(t<0||t>9999?df(t)+xi(6,Math.abs(t)):xi(4,t))+"-"+lt(e.isoMonth)}function xp(e){return lt(e.isoMonth)+"-"+lt(e.isoDay)}function ff(e,t){const r=[lt(e.isoHour),lt(e.isoMinute)];return t!==-1&&r.push(lt(e.isoSecond)+((i,a,c,f)=>Qs(i*Ut+a*Eo+c,f))(e.isoMillisecond,e.isoMicrosecond,e.isoNanosecond,t)),r.join(":")}function wo(e,t=0){if(t===1)return"";const[r,i]=Nt(Math.abs(e),ia),[a,c]=Nt(i,oa),[f,d]=Nt(c,_t);return df(e)+lt(r)+":"+lt(a)+(f||d?":"+lt(f)+Qs(d):"")}function Gs(e,t){return t!==1&&(t>1||t===0&&e!==he)?hf(e,t===2):""}function hf(e,t){return"["+(t?"!":"")+"u-ca="+e+"]"}function Qs(e,t){let r=xi(9,e);return r=t===void 0?r.replace(Zy,""):r.slice(0,t),r?"."+r:""}function df(e){return e<0?"-":"+"}function Fn(e,t){return e||t?e.toLocaleString("fullwide",{useGrouping:0}):""}function Rp(e,t){const{epochNanoseconds:r}=e,i=(t.R?t:t(e.timeZone)).R(r),a=xr(r,i);return{calendar:e.calendar,...a,offsetNanoseconds:i}}function Or(e,t,r,i=0,a=0,c,f){if(r!==void 0&&i===1&&(i===1||f))return Ks(t,r);const d=e.I(t);if(r!==void 0&&i!==3){const m=((g,I,R,D)=>{const N=Me(I);D&&(R=Si(R));for(const K of g){let A=xt(Tt(K,N));if(D&&(A=Si(A)),A===R)return K}})(d,t,r,c);if(m!==void 0)return m;if(i===0)throw new RangeError(oy)}return f?Me(t):_o(e,t,a,d)}function _o(e,t,r=0,i=e.I(t)){if(i.length===1)return i[0];if(r===1)throw new RangeError(iy);if(i.length)return i[r===3?1:0];const a=Me(t),c=((d,m)=>{const g=d.R(Un(m,-ve));return(I=>{if(I>ve)throw new RangeError(ry);return I})(d.R(Un(m,ve))-g)})(e,a),f=c*(r===2?-1:1);return(i=e.I(xr(a,f)))[r===2?0:i.length-1]}function hn(e,t){const r=e.I(t);if(r.length)return r[0];const i=Un(Me(t),-ve);return e.O(i,1)}function rl(e,t,r){return Ft(Et(gr(t.epochNanoseconds,(i=>{if(yf(i))throw new RangeError(uy);return Ne(i,5)})(e?$e(r):r))))}function ol(e,t,r,i,a,c=Object.create(null)){const f=t(i.timeZone),d=e(i.calendar);return{...i,...Js(f,d,i,r?$e(a):a,c)}}function il(e,t,r,i,a=Object.create(null)){const{calendar:c}=r;return dt(Xs(e(c),r,t?$e(i):i,a),c)}function al(e,t,r,i,a){const{calendar:c}=r;return qt(Vi(e(c),r,t?$e(i):i,a),c)}function sl(e,t,r,i,a){const c=r.calendar,f=e(c);let d=ct(co(f,r));t&&(i=nu(i)),i.sign<0&&(d=f.P(d,{...je,months:1}),d=Wn(d,-1));const m=f.P(d,i,a);return uo(co(f,m),c)}function ul(e,t,r){return St(pf(t,e?$e(r):r)[0])}function Js(e,t,r,i,a){const c=Ne(i,5);let f=r.epochNanoseconds;if(yf(i)){const d=at(r,e);f=gr(_o(e,{...Vi(t,d,{...i,...Eu},a),...ft(pt,d)}),c)}else f=gr(f,c),pe(a);return{epochNanoseconds:Et(f)}}function Xs(e,t,r,i){const[a,c]=pf(t,r);return Xe({...Vi(e,t,{...r,...Eu,days:r.days+c},i),...a})}function Vi(e,t,r,i){if(r.years||r.months||r.weeks)return e.P(t,r,i);pe(i);const a=r.days+Ne(r,5)[0];return a?ct(Wn(t,a)):t}function co(e,t,r=1){return Wn(t,r-e.day(t))}function pf(e,t){const[r,i]=Ne(t,5),[a,c]=Bi(ln(e)+i);return[a,r+c]}function Wn(e,t){return t?{...e,...Fi(Ze(e)+t*Je)}:e}function zi(e,t,r){const i=e(r.calendar);return vr(r)?[r,i,t(r.timeZone)]:[{...r,...et},i]}function eu(e){return e?nf:Me}function Gi(e){return e?le(Js,e):Xs}function tu(e){return e?le(Vp,e):zp}function vr(e){return e&&e.epochNanoseconds}function lo(e,t){return e<=6-(vr(t)?1:0)}function cl(e,t,r,i,a,c,f){const d=e(Ot(f).relativeTo),m=Math.max(Ln(a),Ln(c));if(lo(m,d))return Ie($n(((A,$,V,G)=>{const X=gr(Ne(A),Ne($),G?-1:1);if(!Number.isFinite(X[0]))throw new RangeError(Tn);return{...je,...Sr(X,V)}})(a,c,m,i)));if(!d)throw new RangeError(ra);i&&(c=$e(c));const[g,I,R]=zi(t,r,d),D=Gi(R),N=tu(R),K=D(I,g,a);return Ie(N(I,g,D(I,K,c),m))}function Ep(e,t,r,i,a){const c=Ln(i),[f,d,m,g,I]=((ue,ae,be)=>{ue=Yi(ue,Di);let we=gh(ue);const mt=be(ue[mh]);let st=Ls(ue);const On=Po(ue,7);let Se=So(ue);if(we===void 0&&Se===void 0)throw new RangeError(cy);if(Se==null&&(Se=0),we==null&&(we=Math.max(Se,ae)),tf(we,Se),st=Ys(st,Se,1),st>1&&Se>5&&we!==Se)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");return[we,Se,st,On,mt]})(a,c,e),R=Math.max(c,f);if(!I&&R<=6)return Ie($n(((ue,ae,be,we,mt)=>{const st=$i(Ne(ue),be,we,mt);return{...je,...Sr(st,ae)}})(i,f,d,m,g)));if(!vr(I)&&!i.sign)return i;if(!I)throw new RangeError(ra);const[D,N,K]=zi(t,r,I),A=eu(K),$=Gi(K),V=tu(K),G=$(N,D,i);vr(I)||(Xe(D),Xe(G));let X=V(N,D,G,f);const re=i.sign,de=gn(X);if(re&&de&&re!==de)throw new RangeError(kr);return X=Wi(X,A(G),f,d,m,g,N,D,A,$),Ie(X)}function Op(e){return e.sign===-1?nu(e):e}function nu(e){return Ie($e(e))}function $e(e){const t={};for(const r of ye)t[r]=-1*e[r]||0;return t}function Sp(e){return!e.sign}function gn(e,t=ye){let r=0;for(const i of t){const a=Math.sign(e[i]);if(a){if(r&&r!==a)throw new RangeError(sy);r=a}}return r}function $n(e){for(const t of wy)At(t,e[t],-wl,wl,1);return mf(xt(Ne(e),_t)),e}function mf(e){if(!Number.isSafeInteger(e))throw new RangeError(ay)}function Ne(e,t=6){return Al(e,t,ye)}function Sr(e,t=6){const[r,i]=e,a=Ai(i,t,ye);if(a[ye[t]]+=r*(ve/Rt[t]),!Number.isFinite(a[ye[t]]))throw new RangeError(Tn);return a}function Qi(e,t=5){return Ai(e,t,ye)}function yf(e){return!!gn(e,hh)}function Ln(e){let t=9;for(;t>0&&!e[ye[t]];t--);return t}function Pp(e,t){return[e,t]}function ll(e){const t=Math.floor(e/vi)*vi;return[t,t+vi]}function Ip(e){const t=vn(e=yi(e));if(!t)throw new RangeError(Qe(e));let r;if(t.j)r=0;else{if(!t.offset)throw new RangeError(Qe(e));r=Hn(t.offset)}return t.timeZone&&su(t.timeZone,1),Ft(Ks(qi(t),r))}function kp(e){const t=vn(Be(e));if(!t)throw new RangeError(Qe(e));if(t.timeZone)return gf(t,t.offset?Hn(t.offset):void 0);if(t.j)throw new RangeError(Qe(e));return bf(t)}function Dp(e,t){const r=vn(Be(e));if(!r||!r.timeZone)throw new RangeError(Qe(e));const{offset:i}=r,a=i?Hn(i):void 0,[,c,f]=Ui(t);return gf(r,a,c,f)}function Hn(e){const t=su(e);if(t===void 0)throw new RangeError(Qe(e));return t}function Cp(e){const t=vn(Be(e));if(!t||t.j)throw new RangeError(Qe(e));return dt(vf(t))}function ru(e,t,r){let i=vn(Be(e));if(!i||i.j)throw new RangeError(Qe(e));return t?i.calendar===he&&(i=i.isoYear===-271821&&i.isoMonth===4?{...i,isoDay:20,...et}:{...i,isoDay:1,...et}):r&&i.calendar===he&&(i={...i,isoYear:Kt}),qt(i.C?vf(i):bf(i))}function Mp(e,t){const r=iu(Be(t));if(r)return ou(r),uo(js(Zn(r)));const i=ru(t,1);return uo(co(e(i.calendar),i))}function ou(e){if(e.calendar!==he)throw new RangeError(jt(e.calendar))}function Np(e,t){const r=au(Be(t));if(r)return ou(r),Oi(Zn(r));const i=ru(t,0,1),{calendar:a}=i,c=e(a),[f,d,m]=c.v(i),[g,I]=c.q(f,d),[R,D]=c.G(g,I,m);return Oi(ct(c.V(R,D,m)),a)}function jp(e){let t,r=(i=>{const a=Qy.exec(i);return a?(Ji(a[10]),Tf(a)):void 0})(Be(e));if(!r){if(r=vn(e),!r)throw new RangeError(Qe(e));if(!r.C)throw new RangeError(Qe(e));if(r.j)throw new RangeError(jt("Z"));ou(r)}if((t=iu(e))&&Hc(t))throw new RangeError(Qe(e));if((t=au(e))&&Hc(t))throw new RangeError(Qe(e));return St(Rr(r,1))}function Kp(e){const t=(r=>{const i=eg.exec(r);return i?(a=>{function c(I,R,D){let N=0,K=0;if(D&&([N,m]=Nt(m,Rt[D])),I!==void 0){if(d)throw new RangeError(jt(I));K=(A=>{const $=parseInt(A);if(!Number.isFinite($))throw new RangeError(jt(A));return $})(I),f=1,R&&(m=uu(R)*(Rt[D]/_t),d=1)}return N+K}let f=0,d=0,m=0,g={..._r(ye,[c(a[2]),c(a[3]),c(a[4]),c(a[5]),c(a[6],a[7],5),c(a[8],a[9],4),c(a[10],a[11],3)]),...Ai(m,2,ye)};if(!f)throw new RangeError(zf(ye));return cu(a[1])<0&&(g=$e(g)),g})(i):void 0})(Be(e));if(!t)throw new RangeError(Qe(e));return Ie($n(t))}function Ap(e){const t=vn(e)||iu(e)||au(e);return t?t.calendar:e}function Bp(e){const t=vn(e);return t&&(t.timeZone||t.j&&zn||t.offset)||e}function gf(e,t,r=0,i=0){const a=lu(e.timeZone),c=ie(a);let f;return qi(e),f=e.C?Or(c,e,t,r,i,!c.$,e.j):hn(c,e),ht(f,a,na(e.calendar))}function vf(e){return wf(Xe(qi(e)))}function bf(e){return wf(ct(Zn(e)))}function wf(e){return{...e,calendar:na(e.calendar)}}function vn(e){const t=Gy.exec(e);return t?(r=>{const i=r[10],a=(i||"").toUpperCase()==="Z";return{isoYear:_f(r),isoMonth:parseInt(r[4]),isoDay:parseInt(r[5]),...Tf(r.slice(5)),...Ji(r[16]),C:!!r[6],j:a,offset:a?void 0:i}})(t):void 0}function iu(e){const t=Vy.exec(e);return t?(r=>({isoYear:_f(r),isoMonth:parseInt(r[4]),isoDay:1,...Ji(r[5])}))(t):void 0}function au(e){const t=zy.exec(e);return t?(r=>({isoYear:Kt,isoMonth:parseInt(r[1]),isoDay:parseInt(r[2]),...Ji(r[3])}))(t):void 0}function su(e,t){const r=Jy.exec(e);return r?((i,a)=>{const c=i[4]||i[5];if(a&&c)throw new RangeError(jt(c));return(f=>{if(Math.abs(f)>=ve)throw new RangeError(ny);return f})((hr(i[2])*ia+hr(i[3])*oa+hr(i[4])*_t+uu(i[5]||""))*cu(i[1]))})(r,t):void 0}function _f(e){const t=cu(e[1]),r=parseInt(e[2]||e[3]);if(t<0&&!r)throw new RangeError(jt(-0));return t*r}function Tf(e){const t=hr(e[3]);return{...Bi(uu(e[4]||""))[0],isoHour:hr(e[1]),isoMinute:hr(e[2]),isoSecond:t===60?59:t}}function Ji(e){let t,r;const i=[];if(e.replace(Xy,(a,c,f)=>{const d=!!c,[m,g]=f.split("=").reverse();if(g){if(g==="u-ca")i.push(m),t||(t=d);else if(d||/[A-Z]/.test(g))throw new RangeError(jt(a))}else{if(r)throw new RangeError(jt(a));r=m}return""}),i.length>1&&t)throw new RangeError(jt(e));return{timeZone:r,calendar:i[0]||he}}function uu(e){return parseInt(e.padEnd(9,"0"))}function Pr(e){return new RegExp(`^${e}$`,"i")}function cu(e){return e&&e!=="+"?-1:1}function hr(e){return e===void 0?0:parseInt(e)}function Fp(e){return lu(Be(e))}function lu(e){const t=fu(e);return typeof t=="number"?wo(t):t?(r=>{if(rg.test(r))throw new RangeError(eh(r));if(ng.test(r))throw new RangeError(ty);return r.toLowerCase().split("/").map((i,a)=>(i.length<=3||/\d/.test(i))&&!/etc|yap/.test(i)?i.toUpperCase():i.replace(/baja|dumont|[a-z]+/g,(c,f)=>c.length<=2&&!a||c==="in"||c==="chat"?c.toUpperCase():c.length>2||!f?Zc(c).replace(/island|noronha|murdo|rivadavia|urville/,Zc):c)).join("/")})(e):zn}function fl(e){const t=fu(e);return typeof t=="number"?t:t?t.resolvedOptions().timeZone:zn}function fu(e){const t=su(e=e.toUpperCase(),1);return t!==void 0?t:e!==zn?tg(e):void 0}function xf(e,t){return ot(e.epochNanoseconds,t.epochNanoseconds)}function Rf(e,t){return ot(e.epochNanoseconds,t.epochNanoseconds)}function qp(e,t,r,i,a,c){const f=e(Ot(c).relativeTo),d=Math.max(Ln(i),Ln(a));if(jl(ye,i,a))return 0;if(lo(d,f))return ot(Ne(i),Ne(a));if(!f)throw new RangeError(ra);const[m,g,I]=zi(t,r,f),R=eu(I),D=Gi(I);return ot(R(D(g,m,i)),R(D(g,m,a)))}function Ef(e,t){return Ir(e,t)||hu(e,t)}function Ir(e,t){return on(Ze(e),Ze(t))}function hu(e,t){return on(ln(e),ln(t))}function Up(e,t){return!xf(e,t)}function Lp(e,t){return!Rf(e,t)&&!!Of(e.timeZone,t.timeZone)&&e.calendar===t.calendar}function Yp(e,t){return!Ef(e,t)&&e.calendar===t.calendar}function Zp(e,t){return!Ir(e,t)&&e.calendar===t.calendar}function Wp(e,t){return!Ir(e,t)&&e.calendar===t.calendar}function $p(e,t){return!Ir(e,t)&&e.calendar===t.calendar}function Hp(e,t){return!hu(e,t)}function Of(e,t){if(e===t)return 1;try{return fl(e)===fl(t)}catch{}}function hl(e,t,r,i){const a=Er(e,i,3,5),c=Xi(t.epochNanoseconds,r.epochNanoseconds,...a);return Ie(e?$e(c):c)}function dl(e,t,r,i,a,c){const f=ta(i.calendar,a.calendar),[d,m,g,I]=Er(r,c,5),R=i.epochNanoseconds,D=a.epochNanoseconds,N=ot(D,R);let K;if(N)if(d<6)K=Xi(R,D,d,m,g,I);else{const A=t(((V,G)=>{if(!Of(V,G))throw new RangeError(th);return V})(i.timeZone,a.timeZone)),$=e(f);K=Pf($,A,i,a,N,d,c),K=Wi(K,D,d,m,g,I,$,i,nf,le(Js,A))}else K=je;return Ie(r?$e(K):K)}function pl(e,t,r,i,a){const c=ta(r.calendar,i.calendar),[f,d,m,g]=Er(t,a,6),I=Me(r),R=Me(i),D=ot(R,I);let N;if(D)if(f<=6)N=Xi(I,R,f,d,m,g);else{const K=e(c);N=If(K,r,i,D,f,a),N=Wi(N,R,f,d,m,g,K,r,Me,Xs)}else N=je;return Ie(t?$e(N):N)}function ml(e,t,r,i,a){const c=ta(r.calendar,i.calendar);return Sf(t,()=>e(c),r,i,...Er(t,a,6,9,6))}function yl(e,t,r,i,a){const c=ta(r.calendar,i.calendar),f=Er(t,a,9,9,8),d=e(c),m=co(d,r),g=co(d,i);return m.isoYear===g.isoYear&&m.isoMonth===g.isoMonth&&m.isoDay===g.isoDay?Ie(je):Sf(t,()=>d,ct(m),ct(g),...f,8)}function Sf(e,t,r,i,a,c,f,d,m=6){const g=Me(r),I=Me(i);if(g===void 0||I===void 0)throw new RangeError(Tn);let R;if(ot(I,g))if(a===6)R=Xi(g,I,a,c,f,d);else{const D=t();R=D.N(r,i,a),c===m&&f===1||(R=Wi(R,I,a,c,f,d,D,r,Me,Vi))}else R=je;return Ie(e?$e(R):R)}function gl(e,t,r,i){const[a,c,f,d]=Er(e,i,5,5),m=fn(du(t,r),bo(c,f),d),g={...je,...Qi(m,a)};return Ie(e?$e(g):g)}function Vp(e,t,r,i,a,c){const f=ot(i.epochNanoseconds,r.epochNanoseconds);return f?a<6?kf(r.epochNanoseconds,i.epochNanoseconds,a):Pf(t,e,r,i,f,a,c):je}function zp(e,t,r,i,a){const c=Me(t),f=Me(r),d=ot(f,c);return d?i<=6?kf(c,f,i):If(e,t,r,d,i,a):je}function Pf(e,t,r,i,a,c,f){const[d,m,g]=((D,N,K,A)=>{function $(){return ae={...Wn(X,de++*-A),...G},be=_o(D,ae),ot(re,be)===-A}const V=at(N,D),G=ft(pt,V),X=at(K,D),re=K.epochNanoseconds;let de=0;const ue=du(V,X);let ae,be;if(Math.sign(ue)===-A&&de++,$()&&(A===-1||$()))throw new RangeError(kr);const we=xt(Tt(be,re));return[V,ae,we]})(t,r,i,a);var I,R;return{...c===6?(I=d,R=m,{...je,days:Df(I,R)}):e.N(d,m,c,f),...Qi(g)}}function If(e,t,r,i,a,c){const[f,d,m]=((g,I,R)=>{let D=I,N=du(g,I);return Math.sign(N)===-R&&(D=Wn(I,-R),N+=ve*R),[g,D,N]})(t,r,i);return{...e.N(f,d,a,c),...Qi(m)}}function Xi(e,t,r,i,a,c){return{...je,...Sr($i(Tt(e,t),i,a,c),r)}}function kf(e,t,r){return{...je,...Sr(Tt(e,t),r)}}function Df(e,t){return ea(Ze(e),Ze(t))}function ea(e,t){return Math.trunc((t-e)/Je)}function du(e,t){return ln(t)-ln(e)}function ta(e,t){if(e!==t)throw new RangeError(Xf);return e}function Cf(e){return this.m(e)[0]}function Mf(e){return this.m(e)[1]}function pu(e){const[t]=this.v(e);return ea(this.p(t),Ze(e))+1}function mu(e){const t=og.exec(e);if(!t)throw new RangeError(Xm(e));return[parseInt(t[1]),!!t[2]]}function To(e,t){return"M"+lt(e)+(t?"L":"")}function Ii(e,t,r){return e+(t||r&&e>=r?1:0)}function yu(e,t){return e-(t&&e>=t?1:0)}function Nf(e,t){return(t+e)*(Math.sign(t)||1)||0}function cs(e){return lh[Kf(e)]}function jf(e){return yy[Kf(e)]}function Kf(e){return Yn(e.id||he)}function Gp(e){function t(a){return((c,f)=>({...Af(c,f),o:c.month,day:parseInt(c.day)}))(As(r,a),i)}const r=qu(e),i=Yn(e);return{id:e,h:Qp(t),l:Jp(t)}}function Qp(e){return rt(t=>{const r=Ze(t);return e(r)},WeakMap)}function Jp(e){const t=e(0).year-Oy;return rt(r=>{let i,a=Tr(r-t),c=0;const f=[],d=[];do a+=400*Je;while((i=e(a)).year<=r);do if(a+=(1-i.day)*Je,i.year===r&&(f.push(a),d.push(i.o)),a-=Je,++c>100||a<-ku)throw new RangeError(kr);while((i=e(a)).year>=r);return{i:f.reverse(),u:nh(d.reverse())}})}function Af(e,t){let r,i,a=Bf(e);if(e.era){const c=lh[t],f=fh[t]||{};c!==void 0&&(r=t==="islamic"?"ah":e.era.normalize("NFD").toLowerCase().replace(/[^a-z0-9]/g,""),r==="bc"||r==="b"?r="bce":r==="ad"||r==="a"?r="ce":r==="beforeroc"&&(r="broc"),r=f[r]||r,i=a,a=Nf(i,c[r]||0))}return{era:r,eraYear:i,year:a}}function Bf(e){return parseInt(e.relatedYear||e.year)}function ki(e){const{year:t,o:r,day:i}=this.h(e),{u:a}=this.l(t);return[t,a[r]+1,i]}function fo(e,t=1,r=1){return this.l(e).i[t-1]+(r-1)*Je}function Ff(e,t){const r=gi.call(this,e);return[yu(t,r),r===t]}function gi(e){const t=bl(this,e),r=bl(this,e-1),i=t.length;if(i>r.length){const a=jf(this);if(a<0)return-a;for(let c=0;c<i;c++)if(t[c]!==r[c])return c+1}}function fi(e){return ea(fo.call(this,e),fo.call(this,e+1))}function vl(e,t){const{i:r}=this.l(e);let i=t+1,a=r;return i>r.length&&(i=1,a=this.l(e+1).i),ea(r[t-1],a[i-1])}function hi(e){return this.l(e).i.length}function qf(e){const t=this.h(e);return[t.era,t.eraYear]}function bl(e,t){return Object.keys(e.l(t).u)}function xo(e){return na(Be(e))}function na(e){if((e=e.toLowerCase())!==he&&e!==Dr){const t=qu(e).resolvedOptions().calendar;if(Yn(e)!==Yn(t))throw new RangeError(Jf(e));return t}return e}function Yn(e){return e==="islamicc"&&(e="islamic"),e.split("-")[0]}function Uf(e,t){return r=>r===he?e:r===Dr||r===dn?Object.assign(Object.create(e),{id:r}):Object.assign(Object.create(t),ig(r))}function Xp(e,t,r,i){const a=bn(r,i,Yt,[],ah);if(a.timeZone!==void 0){const c=r.F(a),f=Ro(a),d=e(a.timeZone);return{epochNanoseconds:Or(t(d),{...c,...f},a.offset!==void 0?Hn(a.offset):void 0),timeZone:d}}return{...r.F(a),...et}}function em(e,t,r,i,a,c){const f=bn(r,a,Yt,oh,ah),d=e(f.timeZone),[m,g,I]=Ui(c),R=r.F(f,Zi(m)),D=Ro(f,m);return ht(Or(t(d),{...R,...D},f.offset!==void 0?Hn(f.offset):void 0,g,I),d,i)}function tm(e,t,r){const i=bn(e,t,Yt,[],Lt),a=pe(r);return dt(Xe({...e.F(i,Zi(a)),...Ro(i,a)}))}function nm(e,t,r,i=[]){const a=bn(e,t,Yt,i);return e.F(a,r)}function rm(e,t,r,i){const a=bn(e,t,xu,i);return e.K(a,r)}function om(e,t,r,i){const a=bn(e,r,Yt,Oo);return t&&a.month!==void 0&&a.monthCode===void 0&&a.year===void 0&&(a.year=Kt),e._(a,i)}function im(e,t){return St(Ro(it(e,ds,[],1),pe(t)))}function am(e){const t=it(e,Ru);return Ie($n({...je,...t}))}function bn(e,t,r,i=[],a=[]){return it(t,[...e.fields(r),...a].sort(),i)}function it(e,t,r,i=!r){const a={};let c,f=0;for(const d of t){if(d===c)throw new RangeError(Wm(d));if(d==="constructor"||d==="__proto__")throw new RangeError(Zm(d));let m=e[d];if(m!==void 0)f=1,_l[d]&&(m=_l[d](m,d)),a[d]=m;else if(r){if(r.includes(d))throw new TypeError(vu(d));a[d]=ch[d]}c=d}if(i&&!f)throw new TypeError(zf(t));return a}function Ro(e,t){return Rr(Uu({...ch,...e}),t)}function sm(e,t,r,i,a){const{calendar:c,timeZone:f}=r,d=e(c),m=t(f),g=[...d.fields(Yt),...ih].sort(),I=(V=>{const G=at(V,ie),X=wo(G.offsetNanoseconds),re=ua(V.calendar),[de,ue,ae]=re.v(G),[be,we]=re.q(de,ue),mt=To(be,we);return{...dg(G),year:de,monthCode:mt,day:ae,offset:X}})(r),R=it(i,g),D=d.k(I,R),N={...I,...R},[K,A,$]=Ui(a,2);return ht(Or(m,{...d.F(D,Zi(K)),...Rr(Uu(N),K)},Hn(N.offset),A,$),f,c)}function um(e,t,r,i){const a=e(t.calendar),c=[...a.fields(Yt),...Lt].sort(),f={...Yf(d=t),hour:d.isoHour,minute:d.isoMinute,second:d.isoSecond,millisecond:d.isoMillisecond,microsecond:d.isoMicrosecond,nanosecond:d.isoNanosecond};var d;const m=it(r,c),g=pe(i),I=a.k(f,m),R={...f,...m};return dt(Xe({...a.F(I,Zi(g)),...Rr(Uu(R),g)}))}function cm(e,t,r,i){const a=e(t.calendar),c=a.fields(Yt).sort(),f=Yf(t),d=it(r,c),m=a.k(f,d);return a.F(m,i)}function lm(e,t,r,i){const a=e(t.calendar),c=a.fields(xu).sort(),f=(g=>{const I=ua(g.calendar),[R,D]=I.v(g),[N,K]=I.q(R,D);return{year:R,monthCode:To(N,K)}})(t),d=it(r,c),m=a.k(f,d);return a.K(m,i)}function fm(e,t,r,i){const a=e(t.calendar),c=a.fields(Yt).sort(),f=(g=>{const I=ua(g.calendar),[R,D,N]=I.v(g),[K,A]=I.q(R,D);return{monthCode:To(K,A),day:N}})(t),d=it(r,c),m=a.k(f,d);return a._(m,i)}function hm(e,t,r){return St(((i,a,c)=>Ro({...ft(ds,i),...it(a,ds)},pe(c)))(e,t,r))}function dm(e,t){return Ie((r=e,i=t,$n({...r,...it(i,Ru)})));var r,i}function Lf(e,t,r,i,a){t=ft(r=e.fields(r),t),i=it(i,a=e.fields(a),[]);let c=e.k(t,i);return c=it(c,[...r,...a].sort(),[]),e.F(c)}function es(e,t){const r=cs(e),i=fh[e.id||""]||{};let{era:a,eraYear:c,year:f}=t;if(a!==void 0||c!==void 0){if(a===void 0||c===void 0)throw new TypeError(zm);if(!r)throw new RangeError(Vm);const d=r[i[a]||a];if(d===void 0)throw new RangeError(Qm(a));const m=Nf(c,d);if(f!==void 0&&f!==m)throw new RangeError(Gm);f=m}else if(f===void 0)throw new TypeError(Jm(r));return f}function di(e,t,r,i){let{month:a,monthCode:c}=t;if(c!==void 0){const f=((d,m,g,I)=>{const R=d.L(g),[D,N]=mu(m);let K=Ii(D,N,R);if(N){const A=jf(d);if(A===void 0)throw new RangeError(Qr);if(A>0){if(K>A)throw new RangeError(Qr);if(R===void 0){if(I===1)throw new RangeError(Qr);K--}}else{if(K!==-A)throw new RangeError(Qr);if(R===void 0&&I===1)throw new RangeError(Qr)}}return K})(e,c,r,i);if(a!==void 0&&a!==f)throw new RangeError(ey);a=f,i=1}else if(a===void 0)throw new TypeError(Qf);return At("month",a,1,e.B(r),i)}function ts(e,t,r,i,a){return Ge(t,"day",1,e.U(i,r),a)}function ns(e,t,r,i){let a=0;const c=[];for(const f of r)t[f]!==void 0?a=1:c.push(f);if(Object.assign(e,t),a)for(const f of i||c)delete e[f]}function Yf(e){const t=ua(e.calendar),[r,i,a]=t.v(e),[c,f]=t.q(r,i);return{year:r,monthCode:To(c,f),day:a}}function pm(e){return Ft(Et(Ms(ks(e))))}function mm(e,t,r,i,a=he){return ht(Et(Ms(ks(r))),t(i),e(a))}function ym(e,t,r,i,a=0,c=0,f=0,d=0,m=0,g=0,I=he){return dt(Xe(qi(Bt(Ye,_r(aa,[t,r,i,a,c,f,d,m,g])))),e(I))}function gm(e,t,r,i,a=he){return qt(ct(Zn(Bt(Ye,{isoYear:t,isoMonth:r,isoDay:i}))),e(a))}function vm(e,t,r,i=he,a=1){const c=Ye(t),f=Ye(r),d=e(i);return uo(js(Zn({isoYear:c,isoMonth:f,isoDay:Ye(a)})),d)}function bm(e,t,r,i=he,a=Kt){const c=Ye(t),f=Ye(r),d=e(i);return Oi(ct(Zn({isoYear:Ye(a),isoMonth:c,isoDay:f})),d)}function wm(e=0,t=0,r=0,i=0,a=0,c=0){return St(Rr(Bt(Ye,_r(pt,[e,t,r,i,a,c])),1))}function _m(e=0,t=0,r=0,i=0,a=0,c=0,f=0,d=0,m=0,g=0){return Ie($n(Bt(Ds,_r(ye,[e,t,r,i,a,c,f,d,m,g]))))}function Tm(e,t,r=he){return ht(e.epochNanoseconds,t,r)}function xm(e){return Ft(e.epochNanoseconds)}function Zf(e,t){return dt(at(t,e))}function Wf(e,t){return qt(at(t,e))}function $f(e,t){return St(at(t,e))}function Rm(e,t,r,i){const a=((c,f,d,m)=>{const g=(I=>bh(Ot(I)))(m);return _o(c(f),d,g)})(e,r,t,i);return ht(Et(a),r,t.calendar)}function Em(e,t,r,i,a){const c=e(a.timeZone),f=a.plainTime,d=f!==void 0?t(f):void 0,m=r(c);let g;return g=d?_o(m,{...i,...d}):hn(m,{...i,...et}),ht(g,c,i.calendar)}function Om(e,t=et){return dt(Xe({...e,...t}))}function Sm(e,t,r){return((i,a)=>{const c=bn(i,a,sh);return i.K(c,void 0)})(e(t.calendar),r)}function Pm(e,t,r){return((i,a)=>{const c=bn(i,a,uh);return i._(c)})(e(t.calendar),r)}function Im(e,t,r,i){return((a,c,f)=>Lf(a,c,sh,vo(f),Oo))(e(t.calendar),r,i)}function km(e,t,r,i){return((a,c,f)=>Lf(a,c,uh,vo(f),wu))(e(t.calendar),r,i)}function Dm(e){return Ft(Et(Ri(Ds(e),Ut)))}function Cm(e){return Ft(Et(Ms(ks(e))))}function Vn(e,t,r){const i=new Set(r);return(a,c)=>{const f=r&&Yc(a,r);if(!Yc(a=((d,m)=>{const g={};for(const I in m)d.has(I)||(g[I]=m[I]);return g})(i,a),e)){if(c&&f)throw new TypeError("Invalid formatting options");a={...t,...a}}return r&&(a.timeZone=zn,["full","long"].includes(a.J)&&(a.J="medium")),a}}function wn(e,t=Hf,r=0){const[i,,,a]=e;return(c,f=Cg,...d)=>{const m=t(a&&a(...d),c,f,i,r),g=m.resolvedOptions();return[m,...Mm(e,g,d)]}}function Hf(e,t,r,i,a){if(r=i(r,a),e){if(r.timeZone!==void 0)throw new TypeError(hy);r.timeZone=e}return new an(t,r)}function Mm(e,t,r){const[,i,a]=e;return r.map(c=>(c.calendar&&((f,d,m)=>{if((m||f!==he)&&f!==d)throw new RangeError(Xf)})(c.calendar,t.calendar,a),i(c,t)))}function Nm(e,t,r){const i=t.timeZone,a=e(i),c={...at(t,a),...r||et};let f;return f=r?Or(a,c,c.offsetNanoseconds,2):hn(a,c),ht(f,i,t.calendar)}function jm(e,t=et){return dt(Xe({...e,...t}))}function gu(e,t){return{...e,calendar:t}}function Km(e,t){return{...e,timeZone:t}}function rs(e){const t=ls();return xr(t,e.R(t))}function ls(){return Ri(Date.now(),Ut)}function Gr(){return Tl||(Tl=new an().resolvedOptions().timeZone)}const Am=(e,t)=>`Non-integer ${e}: ${t}`,Bm=(e,t)=>`Non-positive ${e}: ${t}`,Fm=(e,t)=>`Non-finite ${e}: ${t}`,qm=e=>`Cannot convert bigint to ${e}`,Um=e=>`Invalid bigint: ${e}`,Lm="Cannot convert Symbol to string",Ym="Invalid object",Vf=(e,t,r,i,a)=>a?Vf(e,a[t],a[r],a[i]):_n(e,t)+`; must be between ${r}-${i}`,_n=(e,t)=>`Invalid ${e}: ${t}`,vu=e=>`Missing ${e}`,Zm=e=>`Invalid field ${e}`,Wm=e=>`Duplicate field ${e}`,zf=e=>"No valid fields: "+e.join(),$m="Invalid bag",Gf=(e,t,r)=>_n(e,t)+"; must be "+Object.keys(r).join(),Hm="Cannot use valueOf",fs="Invalid calling context",Vm="Forbidden era/eraYear",zm="Mismatching era/eraYear",Gm="Mismatching year/eraYear",Qm=e=>`Invalid era: ${e}`,Jm=e=>"Missing year"+(e?"/era/eraYear":""),Xm=e=>`Invalid monthCode: ${e}`,ey="Mismatching month/monthCode",Qf="Missing month/monthCode",Qr="Invalid leap month",kr="Invalid protocol results",Jf=e=>_n("Calendar",e),Xf="Mismatching Calendars",eh=e=>_n("TimeZone",e),th="Mismatching TimeZones",ty="Forbidden ICU TimeZone",ny="Out-of-bounds offset",ry="Out-of-bounds TimeZone gap",oy="Invalid TimeZone offset",iy="Ambiguous offset",Tn="Out-of-bounds date",ay="Out-of-bounds duration",sy="Cannot mix duration signs",ra="Missing relativeTo",uy="Cannot use large units",cy="Required smallestUnit or largestUnit",ly="smallestUnit > largestUnit",Qe=e=>`Cannot parse: ${e}`,jt=e=>`Invalid substring: ${e}`,fy=e=>`Cannot format ${e}`,os="Mismatching types for formatting",hy="Cannot specify TimeZone",nh=le(ji,(e,t)=>t),br=le(ji,(e,t,r)=>r),lt=le(xi,2),hs={nanosecond:0,microsecond:1,millisecond:2,second:3,minute:4,hour:5,day:6,week:7,month:8,year:9},bu=Object.keys(hs),Je=864e5,rh=1e3,Eo=1e3,Ut=1e6,_t=1e9,oa=6e10,ia=36e11,ve=864e11,Rt=[1,Eo,Ut,_t,oa,ia,ve],Lt=bu.slice(0,6),ds=go(Lt),dy=["offset"],oh=["timeZone"],ih=Lt.concat(dy),ah=ih.concat(oh),ps=["era","eraYear"],py=ps.concat(["year"]),wu=["year"],_u=["monthCode"],Tu=["month"].concat(_u),Oo=["day"],xu=Tu.concat(wu),sh=_u.concat(wu),Yt=Oo.concat(xu),my=Oo.concat(Tu),uh=Oo.concat(_u),ch=br(Lt,0),he="iso8601",Dr="gregory",dn="japanese",lh={[Dr]:{"gregory-inverse":-1,gregory:0},[dn]:{"japanese-inverse":-1,japanese:0,meiji:1867,taisho:1911,showa:1925,heisei:1988,reiwa:2018},ethiopic:{ethioaa:0,ethiopic:5500},coptic:{"coptic-inverse":-1,coptic:0},roc:{"roc-inverse":-1,roc:0},buddhist:{be:0},islamic:{ah:0},indian:{saka:0},persian:{ap:0}},fh={[Dr]:{bce:"gregory-inverse",ce:"gregory"},[dn]:{bce:"japanese-inverse",ce:"japanese"},ethiopic:{era0:"ethioaa",era1:"ethiopic"},coptic:{era0:"coptic-inverse",era1:"coptic"},roc:{broc:"roc-inverse",minguo:"roc"}},yy={chinese:13,dangi:13,hebrew:-6},Be=le(Ps,"string"),gy=le(Ps,"boolean"),vy=le(Ps,"number"),ye=bu.map(e=>e+"s"),Ru=go(ye),by=ye.slice(0,6),hh=ye.slice(6),wy=hh.slice(1),_y=nh(ye),je=br(ye,0),Eu=br(by,0),Ou=le(Kl,ye),pt=["isoNanosecond","isoMicrosecond","isoMillisecond","isoSecond","isoMinute","isoHour"],Su=["isoDay","isoMonth","isoYear"],aa=pt.concat(Su),Pu=go(Su),dh=go(pt),Ty=go(aa),et=br(dh,0),xy=le(Kl,aa),Iu=1e8,ku=Iu*Je,Ry=[Iu,0],Ey=[-Iu,0],ho=275760,po=-271821,an=Intl.DateTimeFormat,ph="en-GB",Oy=1970,Kt=1972,Jt=12,Sy=Tr(1868,9,8),Py=rt(cp,WeakMap),Di="smallestUnit",ms="unit",ro="roundingIncrement",is="fractionalSecondDigits",mh="relativeTo",as="direction",yh={constrain:0,reject:1},Iy=Object.keys(yh),ky={compatible:0,reject:1,earlier:2,later:3},Dy={reject:0,use:1,prefer:2,ignore:3},Cy={auto:0,never:1,critical:2,always:3},My={auto:0,never:1,critical:2},Ny={auto:0,never:1},jy={floor:0,halfFloor:1,ceil:2,halfCeil:3,trunc:4,halfTrunc:5,expand:6,halfExpand:7,halfEven:8},Ky={previous:-1,next:1},So=le(Zs,Di),gh=le(Zs,"largestUnit"),Ay=le(Zs,ms),vh=le(yn,"overflow",yh),bh=le(yn,"disambiguation",ky),By=le(yn,"offset",Dy),Du=le(yn,"calendarName",Cy),Fy=le(yn,"timeZoneName",My),qy=le(yn,"offset",Ny),Po=le(yn,"roundingMode",jy),Cu="PlainYearMonth",Mu="PlainMonthDay",Io="PlainDate",Cr="PlainDateTime",Nu="PlainTime",xn="ZonedDateTime",ju="Instant",Ku="Duration",Uy=[Math.floor,e=>li(e)?Math.floor(e):Math.round(e),Math.ceil,e=>li(e)?Math.ceil(e):Math.round(e),Math.trunc,e=>li(e)?Math.trunc(e)||0:Math.round(e),e=>e<0?Math.floor(e):Math.ceil(e),e=>Math.sign(e)*Math.round(Math.abs(e))||0,e=>li(e)?(e=Math.trunc(e)||0)+e%2:Math.round(e)],zn="UTC",vi=5184e3,Ly=Ei(1847),Yy=Ei(new Date().getUTCFullYear()+10),Zy=/0+$/,at=rt(Rp,WeakMap),wl=2**32-1,ie=rt(e=>{const t=fu(e);return typeof t=="object"?new $y(t):new Wy(t||0)});class Wy{constructor(t){this.$=t}R(){return this.$}I(t){return(r=>{const i=Me({...r,...et});if(!i||Math.abs(i[0])>1e8)throw new RangeError(Tn)})(t),[Ks(t,this.$)]}O(){}}class $y{constructor(t){this.nn=(r=>{function i(g){const I=so(g,d,m),[R,D]=ll(I),N=c(R),K=c(D);return N===K?N:a(f(R,D),N,K,g)}function a(g,I,R,D){let N,K;for(;(D===void 0||(N=D<g[0]?I:D>=g[1]?R:void 0)===void 0)&&(K=g[1]-g[0]);){const A=g[0]+Math.floor(K/2);r(A)===R?g[1]=A:g[0]=A+1}return N}const c=rt(r),f=rt(Pp);let d=Ly,m=Yy;return{tn(g){const I=i(g-86400),R=i(g+86400),D=g-I,N=g-R;if(I===R)return[D];const K=i(D);return K===i(N)?[g-K]:I>R?[D,N]:[]},rn:i,O(g,I){const R=so(g,d,m);let[D,N]=ll(R);const K=vi*I,A=I<0?()=>N>d||(d=R,0):()=>D<m||(m=R,0);for(;A();){const $=c(D),V=c(N);if($!==V){const G=f(D,N);a(G,$,V);const X=G[0];if((on(X,g)||1)===I)return X}D+=K,N+=K}}}})((r=>i=>{const a=As(r,i*rh);return Ei(Bf(a),parseInt(a.month),parseInt(a.day),parseInt(a.hour),parseInt(a.minute),parseInt(a.second))-i})(t))}R(t){return this.nn.rn((r=>$c(r)[0])(t))*_t}I(t){const[r,i]=[Ei((a=t).isoYear,a.isoMonth,a.isoDay,a.isoHour,a.isoMinute,a.isoSecond),a.isoMillisecond*Ut+a.isoMicrosecond*Eo+a.isoNanosecond];var a;return this.nn.tn(r).map(c=>Et(Un(Ri(c,_t),i)))}O(t,r){const[i,a]=$c(t),c=this.nn.O(i+(r>0||a?1:0),r);if(c!==void 0)return Ri(c,_t)}}const Au="([+-])",bi="(?:[.,](\\d{1,9}))?",wh=`(?:(?:${Au}(\\d{6}))|(\\d{4}))-?(\\d{2})`,Bu="(\\d{2})(?::?(\\d{2})(?::?(\\d{2})"+bi+")?)?",Fu=Au+Bu,Hy=wh+"-?(\\d{2})(?:[T ]"+Bu+"(Z|"+Fu+")?)?",_h="\\[(!?)([^\\]]*)\\]",sa=`((?:${_h}){0,9})`,Vy=Pr(wh+sa),zy=Pr("(?:--)?(\\d{2})-?(\\d{2})"+sa),Gy=Pr(Hy+sa),Qy=Pr("T?"+Bu+"(?:"+Fu+")?"+sa),Jy=Pr(Fu),Xy=new RegExp(_h,"g"),eg=Pr(`${Au}?P(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(?:T(?:(\\d+)${bi}H)?(?:(\\d+)${bi}M)?(?:(\\d+)${bi}S)?)?`),tg=rt(e=>new an(ph,{timeZone:e,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),ng=/^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/,rg=/[^\w\/:+-]+/,og=/^M(\d{2})(L?)$/,ig=rt(Gp),qu=rt(e=>new an(ph,{calendar:e,timeZone:zn,era:"short",year:"numeric",month:"short",day:"numeric"})),Th={P(e,t,r){const i=pe(r);let a,{years:c,months:f,weeks:d,days:m}=t;if(m+=Ne(t,5)[0],c||f)a=((g,I,R,D,N)=>{let[K,A,$]=g.v(I);if(R){const[V,G]=g.q(K,A);K+=R,A=Ii(V,G,g.L(K)),A=At("month",A,1,g.B(K),N)}return D&&([K,A]=g.un(K,A,D)),$=At("day",$,1,g.U(K,A),N),g.p(K,A,$)})(this,e,c,f,i);else{if(!d&&!m)return e;a=Ze(e)}if(a===void 0)throw new RangeError(Tn);return a+=(7*d+m)*Je,ct(Fi(a))},N(e,t,r){if(r<=7){let m=0,g=Df({...e,...et},{...t,...et});return r===7&&([m,g]=cn(g,7)),{...je,weeks:m,days:g}}const i=this.v(e),a=this.v(t);let[c,f,d]=((m,g,I,R,D,N,K)=>{let A=D-g,$=N-I,V=K-R;if(A||$){const G=Math.sign(A||$);let X=m.U(D,N),re=0;if(Math.sign(V)===-G){const de=X;[D,N]=m.un(D,N,-G),A=D-g,$=N-I,X=m.U(D,N),re=G<0?-de:X}if(V=K-Math.min(R,X)+re,A){const[de,ue]=m.q(g,I),[ae,be]=m.q(D,N);if($=ae-de||Number(be)-Number(ue),Math.sign($)===-G){const we=G<0&&-m.B(D);A=(D-=G)-g,$=N-Ii(de,ue,m.L(D))+(we||m.B(D))}}}return[A,$,V]})(this,...i,...a);return r===8&&(f+=this.cn(c,i[0]),c=0),{...je,years:c,months:f,days:d}},F(e,t){const r=pe(t),i=es(this,e),a=di(this,e,i,r),c=ts(this,e,a,i,r);return qt(ct(this.V(i,a,c)),this.id||he)},K(e,t){const r=pe(t),i=es(this,e),a=di(this,e,i,r);return uo(js(this.V(i,a,1)),this.id||he)},_(e,t){const r=pe(t);let i,a,c,f=e.eraYear!==void 0||e.year!==void 0?es(this,e):void 0;const d=!this.id;if(f===void 0&&d&&(f=Kt),f!==void 0){const R=di(this,e,f,r);i=ts(this,e,R,f,r);const D=this.L(f);a=yu(R,D),c=R===D}else{if(e.monthCode===void 0)throw new TypeError(Qf);if([a,c]=mu(e.monthCode),this.id&&this.id!==Dr&&this.id!==dn)if(this.id&&Yn(this.id)==="coptic"&&r===0){const R=c||a!==13?30:6;i=e.day,i=so(i,1,R)}else if(this.id&&Yn(this.id)==="chinese"&&r===0){const R=!c||a!==1&&a!==9&&a!==10&&a!==11&&a!==12?30:29;i=e.day,i=so(i,1,R)}else i=e.day;else i=ts(this,e,di(this,e,Kt,r),Kt,r)}const m=this.G(a,c,i);if(!m)throw new RangeError("Cannot guess year");const[g,I]=m;return Oi(ct(this.V(g,I,i)),this.id||he)},fields(e){return cs(this)&&e.includes("year")?[...e,...ps]:e},k(e,t){const r=Object.assign(Object.create(null),e);return ns(r,t,Tu),cs(this)&&(ns(r,t,py),this.id===dn&&ns(r,t,my,ps)),r},inLeapYear(e){const[t]=this.v(e);return this.sn(t)},monthsInYear(e){const[t]=this.v(e);return this.B(t)},daysInMonth(e){const[t,r]=this.v(e);return this.U(t,r)},daysInYear(e){const[t]=this.v(e);return this.fn(t)},dayOfYear:pu,era(e){return this.hn(e)[0]},eraYear(e){return this.hn(e)[1]},monthCode(e){const[t,r]=this.v(e),[i,a]=this.q(t,r);return To(i,a)},dayOfWeek:zl,daysInWeek(){return 7}},ag={v:Bs,hn:Gl,q:Wl},sg={dayOfYear:pu,v:Bs,p:Tr},ug=Object.assign({},sg,{weekOfYear:Cf,yearOfWeek:Mf,m(e){function t(N){return(7-N<i?7:0)-N}function r(N){const K=Vl(D+N),A=N||1,$=t(no(m+K*A,7));return I=(K+($-g)*A)/7}const i=this.id?1:4,a=zl(e),c=this.dayOfYear(e),f=no(a-1,7),d=c-1,m=no(f-d,7),g=t(m);let I,R=Math.floor((d-g)/7)+1,D=e.isoYear;return R?R>r(0)&&(R=1,D++):(R=r(-1),D--),[R,D,I]}}),cg=Object.assign({},Th,ug,{v:Bs,hn:Gl,q:Wl,G(e,t){if(!t)return[Kt,e]},sn:Fs,L(){},B:$l,cn:e=>e*Jt,U:Hl,fn:Vl,V:(e,t,r)=>({isoYear:e,isoMonth:t,isoDay:r}),p:Tr,un:(e,t,r)=>(e+=Ki(r,Jt),(t+=Os(r,Jt))<1?(e--,t+=Jt):t>Jt&&(e++,t-=Jt),[e,t]),year(e){return e.isoYear},month(e){return e.isoMonth},day:e=>e.isoDay}),lg={v:ki,hn:qf,q:Ff},fg={dayOfYear:pu,v:ki,p:fo,weekOfYear:Cf,yearOfWeek:Mf,m(){return[]}},hg=Object.assign({},Th,fg,{v:ki,hn:qf,q:Ff,G(e,t,r){const i=this.id&&Yn(this.id)==="chinese"?((g,I,R)=>{if(I)switch(g){case 1:return 1651;case 2:return R<30?1947:1765;case 3:return R<30?1966:1955;case 4:return R<30?1963:1944;case 5:return R<30?1971:1952;case 6:return R<30?1960:1941;case 7:return R<30?1968:1938;case 8:return R<30?1957:1718;case 9:return 1832;case 10:return 1870;case 11:return 1814;case 12:return 1890}return 1972})(e,t,r):Kt;let[a,c,f]=ki.call(this,{isoYear:i,isoMonth:Jt,isoDay:31});const d=gi.call(this,a),m=c===d;(on(e,yu(c,d))||on(Number(t),Number(m))||on(r,f))===1&&a--;for(let g=0;g<100;g++){const I=a-g,R=gi.call(this,I),D=Ii(e,t,R);if(t===(D===R)&&r<=vl.call(this,I,D))return[I,D]}},sn(e){const t=fi.call(this,e);return t>fi.call(this,e-1)&&t>fi.call(this,e+1)},L:gi,B:hi,cn(e,t){const r=t+e,i=Math.sign(e),a=i<0?-1:0;let c=0;for(let f=t;f!==r;f+=i)c+=hi.call(this,f+a);return c},U:vl,fn:fi,V(e,t,r){return Fi(fo.call(this,e,t,r))},p:fo,un(e,t,r){if(r){if(t+=r,!Number.isSafeInteger(t))throw new RangeError(Tn);if(r<0)for(;t<1;)t+=hi.call(this,--e);else{let i;for(;t>(i=hi.call(this,e));)t-=i,e++}}return[e,t]},year(e){return this.h(e).year},month(e){const{year:t,o:r}=this.h(e),{u:i}=this.l(t);return i[r]+1},day(e){return this.h(e).day}}),ua=Uf(ag,lg),ee=Uf(cg,hg),_l={era:yi,eraYear:Ye,year:Ye,month:Wc,monthCode(e){const t=yi(e);return mu(t),t},day:Wc,...br(Lt,Ye),...br(ye,Ds),offset(e){const t=yi(e);return Hn(t),t}},Uu=le(Nl,Lt,pt),dg=le(Nl,pt,Lt),sn="numeric",ko=["timeZoneName"],xh={month:sn,day:sn},Lu={year:sn,month:sn},Yu=Object.assign({},Lu,{day:sn}),Zu={hour:sn,minute:sn,second:sn},Wu=Object.assign({},Yu,Zu),pg=Object.assign({},Wu,{timeZoneName:"short"}),mg=Object.keys(Lu),yg=Object.keys(xh),gg=Object.keys(Yu),vg=Object.keys(Zu),$u=["dateStyle"],bg=mg.concat($u),wg=yg.concat($u),Hu=gg.concat($u,["weekday"]),Do=vg.concat(["dayPeriod","timeStyle","fractionalSecondDigits"]),Vu=Hu.concat(Do),_g=ko.concat(Do),Tg=ko.concat(Hu),xg=ko.concat(["day","weekday"],Do),Rg=ko.concat(["year","weekday"],Do),Eg=Vn(Vu,Wu),Og=Vn(Vu,pg),Sg=Vn(Vu,Wu,ko),Pg=Vn(Hu,Yu,_g),Ig=Vn(Do,Zu,Tg),kg=Vn(bg,Lu,xg),Dg=Vn(wg,xh,Rg),Cg={},Rh=new an(void 0,{calendar:he}).resolvedOptions().calendar===he,Eh=[Eg,Ws],Mg=[Og,Ws,0,(e,t)=>{const r=e.timeZone;if(t&&t.timeZone!==r)throw new RangeError(th);return r}],Oh=[Sg,Ze],Sh=[Pg,Ze],Ph=[Ig,e=>ln(e)/Ut],Ih=[kg,Ze,Rh],kh=[Dg,Ze,Rh];let Tl;function Rn(e,t,r,i,a){function c(...m){if(!(this instanceof c))throw new TypeError(fs);El(this,t(...m))}function f(m,g){return Object.defineProperties(function(...I){return m.call(this,d(this),...I)},ao(g))}function d(m){const g=He(m);if(!g||g.branding!==e)throw new TypeError(fs);return g}return Object.defineProperties(c.prototype,{...ap(Bt(f,r)),...yr(Bt(f,i)),...Es("Temporal."+e)}),Object.defineProperties(c,{...yr(a),...ao(e)}),[c,m=>{const g=Object.create(c.prototype);return El(g,m),g},d]}function Mr(e){if(He(e)||e.calendar!==void 0||e.timeZone!==void 0)throw new TypeError($m);return e}function Co(e){return Dh(e)||he}function Dh(e){const{calendar:t}=e;if(t!==void 0)return ca(t)}function ca(e){if(We(e)){const{calendar:t}=He(e)||{};if(!t)throw new TypeError(Jf(e));return t}return(t=>na(Ap(Be(t))))(e)}function zu(e){const t={};for(const r in e)t[r]=i=>{const{calendar:a}=i;return ee(a)[r](i)};return t}function En(){throw new TypeError(Hm)}function nt(e){if(We(e)){const{timeZone:t}=He(e)||{};if(!t)throw new TypeError(eh(e));return t}return(t=>lu(Bp(Be(t))))(e)}function Pe(e){if(We(e)){const t=He(e);return t&&t.branding===Ku?t:am(e)}return Kp(e)}function Jr(e){if(e!==void 0){if(We(e)){const t=He(e)||{};switch(t.branding){case xn:case Io:return t;case Cr:return qt(t)}const r=Co(e);return{...Xp(nt,ie,ee(r),e),calendar:r}}return kp(e)}}function Xt(e,t){if(We(e)){const i=He(e)||{};switch(i.branding){case Nu:return pe(t),i;case Cr:return pe(t),St(i);case xn:return pe(t),$f(ie,i)}return im(e,t)}const r=jp(e);return pe(t),r}function Gu(e){return e===void 0?void 0:Xt(e)}function ar(e,t){if(We(e)){const i=He(e)||{};switch(i.branding){case Cr:return pe(t),i;case Io:return pe(t),dt({...i,...et});case xn:return pe(t),Zf(ie,i)}return tm(ee(Co(e)),e,t)}const r=Cp(e);return pe(t),r}function xl(e,t){if(We(e)){const i=He(e);if(i&&i.branding===Mu)return pe(t),i;const a=Dh(e);return om(ee(a||he),!a,e,t)}const r=Np(ee,e);return pe(t),r}function sr(e,t){if(We(e)){const i=He(e);return i&&i.branding===Cu?(pe(t),i):rm(ee(Co(e)),e,t)}const r=Mp(ee,e);return pe(t),r}function ur(e,t){if(We(e)){const i=He(e)||{};switch(i.branding){case Io:return pe(t),i;case Cr:return pe(t),qt(i);case xn:return pe(t),Wf(ie,i)}return nm(ee(Co(e)),e,t)}const r=ru(e);return pe(t),r}function cr(e,t){if(We(e)){const r=He(e);if(r&&r.branding===xn)return Ui(t),r;const i=Co(e);return em(nt,ie,ee(i),i,e,t)}return Dp(e,t)}function Rl(e){return Bt(t=>r=>t(ys(r)),e)}function ys(e){return at(e,ie)}function lr(e){if(We(e)){const t=He(e);if(t)switch(t.branding){case ju:return t;case xn:return Ft(t.epochNanoseconds)}}return Ip(e)}function Ng(){function e(c,f){return new t(c,f)}function t(c,f=Object.create(null)){Mi.set(this,((d,m)=>{const g=new an(d,m),I=g.resolvedOptions(),R=I.locale,D=ft(Object.keys(m),I),N=rt(Ag),K=(A,...$)=>{if(A){if($.length!==2)throw new TypeError(os);for(const re of $)if(re===void 0)throw new TypeError(os)}A||$[0]!==void 0||($=[]);const V=$.map(re=>He(re)||Number(re));let G,X=0;for(const re of V){const de=typeof re=="object"?re.branding:void 0;if(X++&&de!==G)throw new TypeError(os);G=de}return G?N(G)(R,D,...V):[g,...V]};return K.X=g,K})(c,f))}const r=an.prototype,i=Object.getOwnPropertyDescriptors(r),a=Object.getOwnPropertyDescriptors(an);for(const c in i){const f=i[c],d=c.startsWith("format")&&jg(c);typeof f.value=="function"?f.value=c==="constructor"?e:d||Kg(c):d&&(f.get=function(){if(!Mi.has(this))throw new TypeError(fs);return(...m)=>d.apply(this,m)},Object.defineProperties(f.get,ao(`get ${c}`)))}return a.prototype.value=t.prototype=Object.create({},i),Object.defineProperties(e,a),e}function jg(e){return Object.defineProperties(function(...t){const r=Mi.get(this),[i,...a]=r(e.includes("Range"),...t);return i[e](...a)},ao(e))}function Kg(e){return Object.defineProperties(function(...t){return Mi.get(this).X[e](...t)},ao(e))}function Ag(e){const t=Yg[e];if(!t)throw new TypeError(fy(e));return wn(t,rt(Hf),1)}const Ci=new WeakMap,He=Ci.get.bind(Ci),El=Ci.set.bind(Ci),Ch={era:sp,eraYear:Bl,year:Ss,month:Mt,daysInMonth:Mt,daysInYear:Mt,inLeapYear:gy,monthsInYear:Mt},Qu={monthCode:Be},Mh={day:Mt},Bg={dayOfWeek:Mt,dayOfYear:Mt,weekOfYear:up,yearOfWeek:Bl,daysInWeek:Mt},Ju=zu(Object.assign({},Ch,Qu,Mh,Bg)),Fg=zu({...Ch,...Qu}),qg=zu({...Qu,...Mh}),Mo={calendarId:e=>e.calendar},Ug=ji(e=>t=>t[e],ye.concat("sign")),Xu=ji((e,t)=>r=>r[pt[t]],Lt),Nh={epochMilliseconds:Ws,epochNanoseconds:fp},[Lg,Re,ab]=Rn(Ku,_m,{...Ug,blank:Sp},{with:(e,t)=>Re(dm(e,t)),negated:e=>Re(nu(e)),abs:e=>Re(Op(e)),add:(e,t,r)=>Re(cl(Jr,ee,ie,0,e,Pe(t),r)),subtract:(e,t,r)=>Re(cl(Jr,ee,ie,1,e,Pe(t),r)),round:(e,t)=>Re(Ep(Jr,ee,ie,e,t)),total:(e,t)=>hp(Jr,ee,ie,e,t),toLocaleString(e,t,r){return Intl.DurationFormat?new Intl.DurationFormat(t,r).format(this):Xa(e)},toString:Xa,toJSON:e=>Xa(e),valueOf:En},{from:e=>Re(Pe(e)),compare:(e,t,r)=>qp(Jr,ee,ie,Pe(e),Pe(t),r)}),Yg={Instant:Eh,PlainDateTime:Oh,PlainDate:Sh,PlainTime:Ph,PlainYearMonth:Ih,PlainMonthDay:kh},Zg=wn(Eh),Wg=wn(Mg),$g=wn(Oh),Hg=wn(Sh),Vg=wn(Ph),zg=wn(Ih),Gg=wn(kh),[Qg,tn]=Rn(Nu,wm,Xu,{with(e,t,r){return tn(hm(this,Mr(t),r))},add:(e,t)=>tn(ul(0,e,Pe(t))),subtract:(e,t)=>tn(ul(1,e,Pe(t))),until:(e,t,r)=>Re(gl(0,e,Xt(t),r)),since:(e,t,r)=>Re(gl(1,e,Xt(t),r)),round:(e,t)=>tn(yp(e,t)),equals:(e,t)=>Hp(e,Xt(t)),toLocaleString(e,t,r){const[i,a]=Vg(t,r,e);return i.format(a)},toString:tl,toJSON:e=>tl(e),valueOf:En},{from:(e,t)=>tn(Xt(e,t)),compare:(e,t)=>hu(Xt(e),Xt(t))}),[Jg,bt]=Rn(Cr,le(ym,xo),{...Mo,...Ju,...Xu},{with:(e,t,r)=>bt(um(ee,e,Mr(t),r)),withCalendar:(e,t)=>bt(gu(e,ca(t))),withPlainTime:(e,t)=>bt(jm(e,Gu(t))),add:(e,t,r)=>bt(il(ee,0,e,Pe(t),r)),subtract:(e,t,r)=>bt(il(ee,1,e,Pe(t),r)),until:(e,t,r)=>Re(pl(ee,0,e,ar(t),r)),since:(e,t,r)=>Re(pl(ee,1,e,ar(t),r)),round:(e,t)=>bt(mp(e,t)),equals:(e,t)=>Yp(e,ar(t)),toZonedDateTime:(e,t,r)=>Fe(Rm(ie,e,nt(t),r)),toPlainDate:e=>wt(qt(e)),toPlainTime:e=>tn(St(e)),toLocaleString(e,t,r){const[i,a]=$g(t,r,e);return i.format(a)},toString:Qc,toJSON:e=>Qc(e),valueOf:En},{from:(e,t)=>bt(ar(e,t)),compare:(e,t)=>Ef(ar(e),ar(t))}),[Xg,gs,sb]=Rn(Mu,le(bm,xo),{...Mo,...qg},{with:(e,t,r)=>gs(fm(ee,e,Mr(t),r)),equals:(e,t)=>$p(e,xl(t)),toPlainDate(e,t){return wt(km(ee,e,this,t))},toLocaleString(e,t,r){const[i,a]=Gg(t,r,e);return i.format(a)},toString:el,toJSON:e=>el(e),valueOf:En},{from:(e,t)=>gs(xl(e,t))}),[ev,eo,ub]=Rn(Cu,le(vm,xo),{...Mo,...Fg},{with:(e,t,r)=>eo(lm(ee,e,Mr(t),r)),add:(e,t,r)=>eo(sl(ee,0,e,Pe(t),r)),subtract:(e,t,r)=>eo(sl(ee,1,e,Pe(t),r)),until:(e,t,r)=>Re(yl(ee,0,e,sr(t),r)),since:(e,t,r)=>Re(yl(ee,1,e,sr(t),r)),equals:(e,t)=>Wp(e,sr(t)),toPlainDate(e,t){return wt(Im(ee,e,this,t))},toLocaleString(e,t,r){const[i,a]=zg(t,r,e);return i.format(a)},toString:Xc,toJSON:e=>Xc(e),valueOf:En},{from:(e,t)=>eo(sr(e,t)),compare:(e,t)=>Ir(sr(e),sr(t))}),[tv,wt,cb]=Rn(Io,le(gm,xo),{...Mo,...Ju},{with:(e,t,r)=>wt(cm(ee,e,Mr(t),r)),withCalendar:(e,t)=>wt(gu(e,ca(t))),add:(e,t,r)=>wt(al(ee,0,e,Pe(t),r)),subtract:(e,t,r)=>wt(al(ee,1,e,Pe(t),r)),until:(e,t,r)=>Re(ml(ee,0,e,ur(t),r)),since:(e,t,r)=>Re(ml(ee,1,e,ur(t),r)),equals:(e,t)=>Zp(e,ur(t)),toZonedDateTime(e,t){const r=We(t)?t:{timeZone:t};return Fe(Em(nt,Xt,ie,e,r))},toPlainDateTime:(e,t)=>bt(Om(e,Gu(t))),toPlainYearMonth(e){return eo(Sm(ee,e,this))},toPlainMonthDay(e){return gs(Pm(ee,e,this))},toLocaleString(e,t,r){const[i,a]=Hg(t,r,e);return i.format(a)},toString:Jc,toJSON:e=>Jc(e),valueOf:En},{from:(e,t)=>wt(ur(e,t)),compare:(e,t)=>Ir(ur(e),ur(t))}),[nv,Fe]=Rn(xn,le(mm,xo,Fp),{...Nh,...Mo,...Rl(Ju),...Rl(Xu),offset:e=>wo(ys(e).offsetNanoseconds),offsetNanoseconds:e=>ys(e).offsetNanoseconds,timeZoneId:e=>e.timeZone,hoursInDay:e=>gp(ie,e)},{with:(e,t,r)=>Fe(sm(ee,ie,e,Mr(t),r)),withCalendar:(e,t)=>Fe(gu(e,ca(t))),withTimeZone:(e,t)=>Fe(Km(e,nt(t))),withPlainTime:(e,t)=>Fe(Nm(ie,e,Gu(t))),add:(e,t,r)=>Fe(ol(ee,ie,0,e,Pe(t),r)),subtract:(e,t,r)=>Fe(ol(ee,ie,1,e,Pe(t),r)),until:(e,t,r)=>Re(Ie(dl(ee,ie,0,e,cr(t),r))),since:(e,t,r)=>Re(Ie(dl(ee,ie,1,e,cr(t),r))),round:(e,t)=>Fe(pp(ie,e,t)),startOfDay:e=>Fe(vp(ie,e)),equals:(e,t)=>Lp(e,cr(t)),toInstant:e=>en(xm(e)),toPlainDateTime:e=>bt(Zf(ie,e)),toPlainDate:e=>wt(Wf(ie,e)),toPlainTime:e=>tn($f(ie,e)),toLocaleString(e,t,r={}){const[i,a]=Wg(t,r,e);return i.format(a)},toString:(e,t)=>Gc(ie,e,t),toJSON:e=>Gc(ie,e),valueOf:En,getTimeZoneTransition(e,t){const{timeZone:r,epochNanoseconds:i}=e,a=lp(t),c=ie(r).O(i,a);return c?Fe({...e,epochNanoseconds:c}):null}},{from:(e,t)=>Fe(cr(e,t)),compare:(e,t)=>Rf(cr(e),cr(t))}),[rv,en,lb]=Rn(ju,pm,Nh,{add:(e,t)=>en(rl(0,e,Pe(t))),subtract:(e,t)=>en(rl(1,e,Pe(t))),until:(e,t,r)=>Re(hl(0,e,lr(t),r)),since:(e,t,r)=>Re(hl(1,e,lr(t),r)),round:(e,t)=>en(dp(e,t)),equals:(e,t)=>Up(e,lr(t)),toZonedDateTimeISO:(e,t)=>Fe(Tm(e,nt(t))),toLocaleString(e,t,r){const[i,a]=Zg(t,r,e);return i.format(a)},toString:(e,t)=>zc(nt,ie,e,t),toJSON:e=>zc(nt,ie,e),valueOf:En},{from:e=>en(lr(e)),fromEpochMilliseconds:e=>en(Dm(e)),fromEpochNanoseconds:e=>en(Cm(e)),compare:(e,t)=>xf(lr(e),lr(t))}),ov=Object.defineProperties({},{...Es("Temporal.Now"),...yr({timeZoneId:()=>Gr(),instant:()=>en(Ft(ls())),zonedDateTimeISO:(e=Gr())=>Fe(ht(ls(),nt(e),he)),plainDateTimeISO:(e=Gr())=>bt(dt(rs(ie(nt(e))),he)),plainDateISO:(e=Gr())=>wt(qt(rs(ie(nt(e))),he)),plainTimeISO:(e=Gr())=>tn(St(rs(ie(nt(e)))))})}),qe=Object.defineProperties({},{...Es("Temporal"),...yr({PlainYearMonth:ev,PlainMonthDay:Xg,PlainDate:tv,PlainTime:Qg,PlainDateTime:Jg,ZonedDateTime:nv,Instant:rv,Duration:Lg,Now:ov})}),iv=Ng(),Mi=new WeakMap;Object.create(Intl),yr({DateTimeFormat:iv});function av(e){return{date:e.date,venues:e.venues.map(t=>({...t,name:t.name.trim(),items:t.items.map(r=>({...r,name:r.name.trim(),allergens:r.allergens.map(i=>i.trim())}))}))}}function sv(e){return{date:e.date.trim(),venues:e.venues.map(t=>typeof t.menu_items=="string"?{venue_name:t.venue_name.trim(),menu_items:t.menu_items.trim()}:{venue_name:t.venue_name.trim(),menu_items:t.menu_items.map(r=>({item_name:r.item_name.trim(),allergens:[...r.allergens.map(i=>i.trim())]}))})}}function uv(e){return av({date:e.date,venues:e.venues.map(t=>typeof t.menu_items=="string"?{name:t.venue_name,items:[{name:t.menu_items,allergens:[]}]}:{name:t.venue_name,items:t.menu_items.map(r=>({name:r.item_name,allergens:[...r.allergens]}))})})}var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wi={exports:{}},fv=wi.exports,Ol;function hv(){return Ol||(Ol=1,function(e,t){(function(r,i){e.exports=i()})(fv,function(){var r=function(n,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(s[l]=u[l])})(n,o)},i=function(){return(i=Object.assign||function(n){for(var o,s=1,u=arguments.length;s<u;s++)for(var l in o=arguments[s])Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l]);return n}).apply(this,arguments)};function a(n,o,s){for(var u,l=0,h=o.length;l<h;l++)!u&&l in o||((u=u||Array.prototype.slice.call(o,0,l))[l]=o[l]);return n.concat(u||Array.prototype.slice.call(o))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:cv,f=Object.keys,d=Array.isArray;function m(n,o){return typeof o!="object"||f(o).forEach(function(s){n[s]=o[s]}),n}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var g=Object.getPrototypeOf,I={}.hasOwnProperty;function R(n,o){return I.call(n,o)}function D(n,o){typeof o=="function"&&(o=o(g(n))),(typeof Reflect>"u"?f:Reflect.ownKeys)(o).forEach(function(s){K(n,s,o[s])})}var N=Object.defineProperty;function K(n,o,s,u){N(n,o,m(s&&R(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},u))}function A(n){return{from:function(o){return n.prototype=Object.create(o.prototype),K(n.prototype,"constructor",n),{extend:D.bind(null,n.prototype)}}}}var $=Object.getOwnPropertyDescriptor,V=[].slice;function G(n,o,s){return V.call(n,o,s)}function X(n,o){return o(n)}function re(n){if(!n)throw new Error("Assertion Failed")}function de(n){c.setImmediate?setImmediate(n):setTimeout(n,0)}function ue(n,o){if(typeof o=="string"&&R(n,o))return n[o];if(!o)return n;if(typeof o!="string"){for(var s=[],u=0,l=o.length;u<l;++u){var h=ue(n,o[u]);s.push(h)}return s}var p=o.indexOf(".");if(p!==-1){var y=n[o.substr(0,p)];return y==null?void 0:ue(y,o.substr(p+1))}}function ae(n,o,s){if(n&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof o!="string"&&"length"in o){re(typeof s!="string"&&"length"in s);for(var u=0,l=o.length;u<l;++u)ae(n,o[u],s[u])}else{var h,p,y=o.indexOf(".");y!==-1?(h=o.substr(0,y),(p=o.substr(y+1))===""?s===void 0?d(n)&&!isNaN(parseInt(h))?n.splice(h,1):delete n[h]:n[h]=s:ae(y=!(y=n[h])||!R(n,h)?n[h]={}:y,p,s)):s===void 0?d(n)&&!isNaN(parseInt(o))?n.splice(o,1):delete n[o]:n[o]=s}}function be(n){var o,s={};for(o in n)R(n,o)&&(s[o]=n[o]);return s}var we=[].concat;function mt(n){return we.apply([],n)}var In="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(mt([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(o){return o+n+"Array"})}))).filter(function(n){return c[n]}),st=new Set(In.map(function(n){return c[n]})),On=null;function Se(n){return On=new WeakMap,n=function o(s){if(!s||typeof s!="object")return s;var u=On.get(s);if(u)return u;if(d(s)){u=[],On.set(s,u);for(var l=0,h=s.length;l<h;++l)u.push(o(s[l]))}else if(st.has(s.constructor))u=s;else{var p,y=g(s);for(p in u=y===Object.prototype?{}:Object.create(y),On.set(s,u),s)R(s,p)&&(u[p]=o(s[p]))}return u}(n),On=null,n}var Gh={}.toString;function fa(n){return Gh.call(n).slice(8,-1)}var ha=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Qh=typeof ha=="symbol"?function(n){var o;return n!=null&&(o=n[ha])&&o.apply(n)}:function(){return null};function Sn(n,o){return o=n.indexOf(o),0<=o&&n.splice(o,1),0<=o}var Gn={};function Pt(n){var o,s,u,l;if(arguments.length===1){if(d(n))return n.slice();if(this===Gn&&typeof n=="string")return[n];if(l=Qh(n)){for(s=[];!(u=l.next()).done;)s.push(u.value);return s}if(n==null)return[n];if(typeof(o=n.length)!="number")return[n];for(s=new Array(o);o--;)s[o]=n[o];return s}for(o=arguments.length,s=new Array(o);o--;)s[o]=arguments[o];return s}var da=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Kr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Kr),Jh={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Qn(n,o){this.name=n,this.message=o}function ac(n,o){return n+". Errors: "+Object.keys(o).map(function(s){return o[s].toString()}).filter(function(s,u,l){return l.indexOf(s)===u}).join(`
`)}function jo(n,o,s,u){this.failures=o,this.failedKeys=u,this.successCount=s,this.message=ac(n,o)}function Jn(n,o){this.name="BulkError",this.failures=Object.keys(o).map(function(s){return o[s]}),this.failuresByPos=o,this.message=ac(n,this.failures)}A(Qn).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(jo).from(Qn),A(Jn).from(Qn);var pa=tt.reduce(function(n,o){return n[o]=o+"Error",n},{}),Xh=Qn,z=tt.reduce(function(n,o){var s=o+"Error";function u(l,h){this.name=s,l?typeof l=="string"?(this.message="".concat(l).concat(h?`
 `+h:""),this.inner=h||null):typeof l=="object"&&(this.message="".concat(l.name," ").concat(l.message),this.inner=l):(this.message=Jh[o]||s,this.inner=null)}return A(u).from(Xh),n[o]=u,n},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var sc=Kr.reduce(function(n,o){return n[o+"Error"]=z[o],n},{}),Ko=tt.reduce(function(n,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(n[o+"Error"]=z[o]),n},{});function ce(){}function Nr(n){return n}function ed(n,o){return n==null||n===Nr?o:function(s){return o(n(s))}}function Pn(n,o){return function(){n.apply(this,arguments),o.apply(this,arguments)}}function td(n,o){return n===ce?o:function(){var s=n.apply(this,arguments);s!==void 0&&(arguments[0]=s);var u=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var h=o.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?Pn(u,this.onsuccess):u),l&&(this.onerror=this.onerror?Pn(l,this.onerror):l),h!==void 0?h:s}}function nd(n,o){return n===ce?o:function(){n.apply(this,arguments);var s=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?Pn(s,this.onsuccess):s),u&&(this.onerror=this.onerror?Pn(u,this.onerror):u)}}function rd(n,o){return n===ce?o:function(s){var u=n.apply(this,arguments);m(s,u);var l=this.onsuccess,h=this.onerror;return this.onsuccess=null,this.onerror=null,s=o.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?Pn(l,this.onsuccess):l),h&&(this.onerror=this.onerror?Pn(h,this.onerror):h),u===void 0?s===void 0?void 0:s:m(u,s)}}function od(n,o){return n===ce?o:function(){return o.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function ma(n,o){return n===ce?o:function(){var s=n.apply(this,arguments);if(s&&typeof s.then=="function"){for(var u=this,l=arguments.length,h=new Array(l);l--;)h[l]=arguments[l];return s.then(function(){return o.apply(u,h)})}return o.apply(this,arguments)}}Ko.ModifyError=jo,Ko.DexieError=Qn,Ko.BulkError=Jn;var yt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function uc(n){yt=n}var jr={},cc=100,In=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,g(n),n];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,g(o),n]}(),Kr=In[0],tt=In[1],In=In[2],tt=tt&&tt.then,kn=Kr&&Kr.constructor,ya=!!In,Ar=function(n,o){Br.push([n,o]),Ao&&(queueMicrotask(ad),Ao=!1)},ga=!0,Ao=!0,Dn=[],Bo=[],va=Nr,Zt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:ce},H=Zt,Br=[],Cn=0,Fo=[];function Z(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=H;if(typeof n!="function"){if(n!==jr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wa(this,this._value))}this._state=null,this._value=null,++o.ref,function s(u,l){try{l(function(h){if(u._state===null){if(h===u)throw new TypeError("A promise cannot be resolved with itself.");var p=u._lib&&Xn();h&&typeof h.then=="function"?s(u,function(y,b){h instanceof Z?h._then(y,b):h.then(y,b)}):(u._state=!0,u._value=h,fc(u)),p&&er()}},wa.bind(null,u))}catch(h){wa(u,h)}}(this,n)}var ba={get:function(){var n=H,o=Yo;function s(u,l){var h=this,p=!n.global&&(n!==H||o!==Yo),y=p&&!$t(),b=new Z(function(T,O){_a(h,new lc(dc(u,n,p,y),dc(l,n,p,y),T,O,n))});return this._consoleTask&&(b._consoleTask=this._consoleTask),b}return s.prototype=jr,s},set:function(n){K(this,"then",n&&n.prototype===jr?ba:{get:function(){return n},set:ba.set})}};function lc(n,o,s,u,l){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof o=="function"?o:null,this.resolve=s,this.reject=u,this.psd=l}function wa(n,o){var s,u;Bo.push(o),n._state===null&&(s=n._lib&&Xn(),o=va(o),n._state=!1,n._value=o,u=n,Dn.some(function(l){return l._value===u._value})||Dn.push(u),fc(n),s&&er())}function fc(n){var o=n._listeners;n._listeners=[];for(var s=0,u=o.length;s<u;++s)_a(n,o[s]);var l=n._PSD;--l.ref||l.finalize(),Cn===0&&(++Cn,Ar(function(){--Cn==0&&Ta()},[]))}function _a(n,o){if(n._state!==null){var s=n._state?o.onFulfilled:o.onRejected;if(s===null)return(n._state?o.resolve:o.reject)(n._value);++o.psd.ref,++Cn,Ar(id,[s,n,o])}else n._listeners.push(o)}function id(n,o,s){try{var u,l=o._value;!o._state&&Bo.length&&(Bo=[]),u=yt&&o._consoleTask?o._consoleTask.run(function(){return n(l)}):n(l),o._state||Bo.indexOf(l)!==-1||function(h){for(var p=Dn.length;p;)if(Dn[--p]._value===h._value)return Dn.splice(p,1)}(o),s.resolve(u)}catch(h){s.reject(h)}finally{--Cn==0&&Ta(),--s.psd.ref||s.psd.finalize()}}function ad(){Mn(Zt,function(){Xn()&&er()})}function Xn(){var n=ga;return Ao=ga=!1,n}function er(){var n,o,s;do for(;0<Br.length;)for(n=Br,Br=[],s=n.length,o=0;o<s;++o){var u=n[o];u[0].apply(null,u[1])}while(0<Br.length);Ao=ga=!0}function Ta(){var n=Dn;Dn=[],n.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var o=Fo.slice(0),s=o.length;s;)o[--s]()}function qo(n){return new Z(jr,!1,n)}function ge(n,o){var s=H;return function(){var u=Xn(),l=H;try{return Ht(s,!0),n.apply(this,arguments)}catch(h){o&&o(h)}finally{Ht(l,!1),u&&er()}}}D(Z.prototype,{then:ba,_then:function(n,o){_a(this,new lc(null,null,n,o,H))},catch:function(n){if(arguments.length===1)return this.then(null,n);var o=n,s=arguments[1];return typeof o=="function"?this.then(null,function(u){return(u instanceof o?s:qo)(u)}):this.then(null,function(u){return(u&&u.name===o?s:qo)(u)})},finally:function(n){return this.then(function(o){return Z.resolve(n()).then(function(){return o})},function(o){return Z.resolve(n()).then(function(){return qo(o)})})},timeout:function(n,o){var s=this;return n<1/0?new Z(function(u,l){var h=setTimeout(function(){return l(new z.Timeout(o))},n);s.then(u,l).finally(clearTimeout.bind(null,h))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&K(Z.prototype,Symbol.toStringTag,"Dexie.Promise"),Zt.env=hc(),D(Z,{all:function(){var n=Pt.apply(null,arguments).map(Zo);return new Z(function(o,s){n.length===0&&o([]);var u=n.length;n.forEach(function(l,h){return Z.resolve(l).then(function(p){n[h]=p,--u||o(n)},s)})})},resolve:function(n){return n instanceof Z?n:n&&typeof n.then=="function"?new Z(function(o,s){n.then(o,s)}):new Z(jr,!0,n)},reject:qo,race:function(){var n=Pt.apply(null,arguments).map(Zo);return new Z(function(o,s){n.map(function(u){return Z.resolve(u).then(o,s)})})},PSD:{get:function(){return H},set:function(n){return H=n}},totalEchoes:{get:function(){return Yo}},newPSD:Wt,usePSD:Mn,scheduler:{get:function(){return Ar},set:function(n){Ar=n}},rejectionMapper:{get:function(){return va},set:function(n){va=n}},follow:function(n,o){return new Z(function(s,u){return Wt(function(l,h){var p=H;p.unhandleds=[],p.onunhandled=h,p.finalize=Pn(function(){var y,b=this;y=function(){b.unhandleds.length===0?l():h(b.unhandleds[0])},Fo.push(function T(){y(),Fo.splice(Fo.indexOf(T),1)}),++Cn,Ar(function(){--Cn==0&&Ta()},[])},p.finalize),n()},o,s,u)})}}),kn&&(kn.allSettled&&K(Z,"allSettled",function(){var n=Pt.apply(null,arguments).map(Zo);return new Z(function(o){n.length===0&&o([]);var s=n.length,u=new Array(s);n.forEach(function(l,h){return Z.resolve(l).then(function(p){return u[h]={status:"fulfilled",value:p}},function(p){return u[h]={status:"rejected",reason:p}}).then(function(){return--s||o(u)})})})}),kn.any&&typeof AggregateError<"u"&&K(Z,"any",function(){var n=Pt.apply(null,arguments).map(Zo);return new Z(function(o,s){n.length===0&&s(new AggregateError([]));var u=n.length,l=new Array(u);n.forEach(function(h,p){return Z.resolve(h).then(function(y){return o(y)},function(y){l[p]=y,--u||s(new AggregateError(l))})})})}),kn.withResolvers&&(Z.withResolvers=kn.withResolvers));var Ee={awaits:0,echoes:0,id:0},sd=0,Uo=[],Lo=0,Yo=0,ud=0;function Wt(n,o,s,u){var l=H,h=Object.create(l);return h.parent=l,h.ref=0,h.global=!1,h.id=++ud,Zt.env,h.env=ya?{Promise:Z,PromiseProp:{value:Z,configurable:!0,writable:!0},all:Z.all,race:Z.race,allSettled:Z.allSettled,any:Z.any,resolve:Z.resolve,reject:Z.reject}:{},o&&m(h,o),++l.ref,h.finalize=function(){--this.parent.ref||this.parent.finalize()},u=Mn(h,n,s,u),h.ref===0&&h.finalize(),u}function tr(){return Ee.id||(Ee.id=++sd),++Ee.awaits,Ee.echoes+=cc,Ee.id}function $t(){return!!Ee.awaits&&(--Ee.awaits==0&&(Ee.id=0),Ee.echoes=Ee.awaits*cc,!0)}function Zo(n){return Ee.echoes&&n&&n.constructor===kn?(tr(),n.then(function(o){return $t(),o},function(o){return $t(),_e(o)})):n}function cd(){var n=Uo[Uo.length-1];Uo.pop(),Ht(n,!1)}function Ht(n,o){var s,u=H;(o?!Ee.echoes||Lo++&&n===H:!Lo||--Lo&&n===H)||queueMicrotask(o?(function(l){++Yo,Ee.echoes&&--Ee.echoes!=0||(Ee.echoes=Ee.awaits=Ee.id=0),Uo.push(H),Ht(l,!0)}).bind(null,n):cd),n!==H&&(H=n,u===Zt&&(Zt.env=hc()),ya&&(s=Zt.env.Promise,o=n.env,(u.global||n.global)&&(Object.defineProperty(c,"Promise",o.PromiseProp),s.all=o.all,s.race=o.race,s.resolve=o.resolve,s.reject=o.reject,o.allSettled&&(s.allSettled=o.allSettled),o.any&&(s.any=o.any))))}function hc(){var n=c.Promise;return ya?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function Mn(n,o,s,u,l){var h=H;try{return Ht(n,!0),o(s,u,l)}finally{Ht(h,!1)}}function dc(n,o,s,u){return typeof n!="function"?n:function(){var l=H;s&&tr(),Ht(o,!0);try{return n.apply(this,arguments)}finally{Ht(l,!1),u&&queueMicrotask($t)}}}function xa(n){Promise===kn&&Ee.echoes===0?Lo===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+tt).indexOf("[native code]")===-1&&(tr=$t=ce);var _e=Z.reject,Nn="",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",pc="String expected.",nr=[],Wo="__dbnames",Ra="readonly",Ea="readwrite";function jn(n,o){return n?o?function(){return n.apply(this,arguments)&&o.apply(this,arguments)}:n:o}var mc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $o(n){return typeof n!="string"||/\./.test(n)?function(o){return o}:function(o){return o[n]===void 0&&n in o&&delete(o=Se(o))[n],o}}function yc(){throw z.Type()}function oe(n,o){try{var s=gc(n),u=gc(o);if(s!==u)return s==="Array"?1:u==="Array"?-1:s==="binary"?1:u==="binary"?-1:s==="string"?1:u==="string"?-1:s==="Date"?1:u!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return o<n?1:n<o?-1:0;case"binary":return function(l,h){for(var p=l.length,y=h.length,b=p<y?p:y,T=0;T<b;++T)if(l[T]!==h[T])return l[T]<h[T]?-1:1;return p===y?0:p<y?-1:1}(vc(n),vc(o));case"Array":return function(l,h){for(var p=l.length,y=h.length,b=p<y?p:y,T=0;T<b;++T){var O=oe(l[T],h[T]);if(O!==0)return O}return p===y?0:p<y?-1:1}(n,o)}}catch{}return NaN}function gc(n){var o=typeof n;return o!="object"?o:ArrayBuffer.isView(n)?"binary":(n=fa(n),n==="ArrayBuffer"?"binary":n)}function vc(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var bc=(me.prototype._trans=function(n,o,s){var u=this._tx||H.trans,l=this.name,h=yt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function p(T,O,v){if(!v.schema[l])throw new z.NotFound("Table "+l+" not part of transaction");return o(v.idbtrans,v)}var y=Xn();try{var b=u&&u.db._novip===this.db._novip?u===H.trans?u._promise(n,p,s):Wt(function(){return u._promise(n,p,s)},{trans:u,transless:H.transless||H}):function T(O,v,P,w){if(O.idbdb&&(O._state.openComplete||H.letThrough||O._vip)){var E=O._createTransaction(v,P,O._dbSchema);try{E.create(),O._state.PR1398_maxLoop=3}catch(S){return S.name===pa.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return T(O,v,P,w)})):_e(S)}return E._promise(v,function(S,x){return Wt(function(){return H.trans=E,w(S,x,E)})}).then(function(S){if(v==="readwrite")try{E.idbtrans.commit()}catch{}return v==="readonly"?S:E._completion.then(function(){return S})})}if(O._state.openComplete)return _e(new z.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return _e(new z.DatabaseClosed);O.open().catch(ce)}return O._state.dbReadyPromise.then(function(){return T(O,v,P,w)})}(this.db,n,[this.name],p);return h&&(b._consoleTask=h,b=b.catch(function(T){return console.trace(T),_e(T)})),b}finally{y&&er()}},me.prototype.get=function(n,o){var s=this;return n&&n.constructor===Object?this.where(n).first(o):n==null?_e(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return s.core.get({trans:u,key:n}).then(function(l){return s.hook.reading.fire(l)})}).then(o)},me.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(d(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var o=f(n);if(o.length===1)return this.where(o[0]).equals(n[o[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&o.every(function(T){return 0<=y.keyPath.indexOf(T)})){for(var b=0;b<o.length;++b)if(o.indexOf(y.keyPath[b])===-1)return!1;return!0}return!1}).sort(function(y,b){return y.keyPath.length-b.keyPath.length})[0];if(s&&this.db._maxKey!==Nn){var h=s.keyPath.slice(0,o.length);return this.where(h).equals(h.map(function(b){return n[b]}))}!s&&yt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var u=this.schema.idxByName;function l(y,b){return oe(y,b)===0}var p=o.reduce(function(v,b){var T=v[0],O=v[1],v=u[b],P=n[b];return[T||v,T||!v?jn(O,v&&v.multi?function(w){return w=ue(w,b),d(w)&&w.some(function(E){return l(P,E)})}:function(w){return l(P,ue(w,b))}):O]},[null,null]),h=p[0],p=p[1];return h?this.where(h.name).equals(n[h.keyPath]).filter(p):s?this.filter(p):this.where(o).equals("")},me.prototype.filter=function(n){return this.toCollection().and(n)},me.prototype.count=function(n){return this.toCollection().count(n)},me.prototype.offset=function(n){return this.toCollection().offset(n)},me.prototype.limit=function(n){return this.toCollection().limit(n)},me.prototype.each=function(n){return this.toCollection().each(n)},me.prototype.toArray=function(n){return this.toCollection().toArray(n)},me.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},me.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,d(n)?"[".concat(n.join("+"),"]"):n))},me.prototype.reverse=function(){return this.toCollection().reverse()},me.prototype.mapToClass=function(n){var o,s=this.db,u=this.name;function l(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof yc&&(function(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function O(){this.constructor=b}r(b,T),b.prototype=T===null?Object.create(T):(O.prototype=T.prototype,new O)}(l,o=n),Object.defineProperty(l.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),l.prototype.table=function(){return u},n=l);for(var h=new Set,p=n.prototype;p;p=g(p))Object.getOwnPropertyNames(p).forEach(function(b){return h.add(b)});function y(b){if(!b)return b;var T,O=Object.create(n.prototype);for(T in b)if(!h.has(T))try{O[T]=b[T]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),n},me.prototype.defineClass=function(){return this.mapToClass(function(n){m(this,n)})},me.prototype.add=function(n,o){var s=this,u=this.schema.primKey,l=u.auto,h=u.keyPath,p=n;return h&&l&&(p=$o(h)(n)),this._trans("readwrite",function(y){return s.core.mutate({trans:y,type:"add",keys:o!=null?[o]:null,values:[p]})}).then(function(y){return y.numFailures?Z.reject(y.failures[0]):y.lastResult}).then(function(y){if(h)try{ae(n,h,y)}catch{}return y})},me.prototype.update=function(n,o){return typeof n!="object"||d(n)?this.where(":id").equals(n).modify(o):(n=ue(n,this.schema.primKey.keyPath),n===void 0?_e(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(o))},me.prototype.put=function(n,o){var s=this,u=this.schema.primKey,l=u.auto,h=u.keyPath,p=n;return h&&l&&(p=$o(h)(n)),this._trans("readwrite",function(y){return s.core.mutate({trans:y,type:"put",values:[p],keys:o!=null?[o]:null})}).then(function(y){return y.numFailures?Z.reject(y.failures[0]):y.lastResult}).then(function(y){if(h)try{ae(n,h,y)}catch{}return y})},me.prototype.delete=function(n){var o=this;return this._trans("readwrite",function(s){return o.core.mutate({trans:s,type:"delete",keys:[n]})}).then(function(s){return s.numFailures?Z.reject(s.failures[0]):void 0})},me.prototype.clear=function(){var n=this;return this._trans("readwrite",function(o){return n.core.mutate({trans:o,type:"deleteRange",range:mc})}).then(function(o){return o.numFailures?Z.reject(o.failures[0]):void 0})},me.prototype.bulkGet=function(n){var o=this;return this._trans("readonly",function(s){return o.core.getMany({keys:n,trans:s}).then(function(u){return u.map(function(l){return o.hook.reading.fire(l)})})})},me.prototype.bulkAdd=function(n,o,s){var u=this,l=Array.isArray(o)?o:void 0,h=(s=s||(l?void 0:o))?s.allKeys:void 0;return this._trans("readwrite",function(p){var T=u.schema.primKey,y=T.auto,T=T.keyPath;if(T&&l)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(l&&l.length!==n.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,T=T&&y?n.map($o(T)):n;return u.core.mutate({trans:p,type:"add",keys:l,values:T,wantResults:h}).then(function(E){var v=E.numFailures,P=E.results,w=E.lastResult,E=E.failures;if(v===0)return h?P:w;throw new Jn("".concat(u.name,".bulkAdd(): ").concat(v," of ").concat(b," operations failed"),E)})})},me.prototype.bulkPut=function(n,o,s){var u=this,l=Array.isArray(o)?o:void 0,h=(s=s||(l?void 0:o))?s.allKeys:void 0;return this._trans("readwrite",function(p){var T=u.schema.primKey,y=T.auto,T=T.keyPath;if(T&&l)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(l&&l.length!==n.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,T=T&&y?n.map($o(T)):n;return u.core.mutate({trans:p,type:"put",keys:l,values:T,wantResults:h}).then(function(E){var v=E.numFailures,P=E.results,w=E.lastResult,E=E.failures;if(v===0)return h?P:w;throw new Jn("".concat(u.name,".bulkPut(): ").concat(v," of ").concat(b," operations failed"),E)})})},me.prototype.bulkUpdate=function(n){var o=this,s=this.core,u=n.map(function(p){return p.key}),l=n.map(function(p){return p.changes}),h=[];return this._trans("readwrite",function(p){return s.getMany({trans:p,keys:u,cache:"clone"}).then(function(y){var b=[],T=[];n.forEach(function(v,P){var w=v.key,E=v.changes,S=y[P];if(S){for(var x=0,k=Object.keys(E);x<k.length;x++){var C=k[x],M=E[C];if(C===o.schema.primKey.keyPath){if(oe(M,w)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else ae(S,C,M)}h.push(P),b.push(w),T.push(S)}});var O=b.length;return s.mutate({trans:p,type:"put",keys:b,values:T,updates:{keys:u,changeSpecs:l}}).then(function(v){var P=v.numFailures,w=v.failures;if(P===0)return O;for(var E=0,S=Object.keys(w);E<S.length;E++){var x,k=S[E],C=h[Number(k)];C!=null&&(x=w[k],delete w[k],w[C]=x)}throw new Jn("".concat(o.name,".bulkUpdate(): ").concat(P," of ").concat(O," operations failed"),w)})})})},me.prototype.bulkDelete=function(n){var o=this,s=n.length;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:n})}).then(function(p){var l=p.numFailures,h=p.lastResult,p=p.failures;if(l===0)return h;throw new Jn("".concat(o.name,".bulkDelete(): ").concat(l," of ").concat(s," operations failed"),p)})},me);function me(){}function Fr(n){function o(p,y){if(y){for(var b=arguments.length,T=new Array(b-1);--b;)T[b-1]=arguments[b];return s[p].subscribe.apply(null,T),n}if(typeof p=="string")return s[p]}var s={};o.addEventType=h;for(var u=1,l=arguments.length;u<l;++u)h(arguments[u]);return o;function h(p,y,b){if(typeof p!="object"){var T;y=y||od;var O={subscribers:[],fire:b=b||ce,subscribe:function(v){O.subscribers.indexOf(v)===-1&&(O.subscribers.push(v),O.fire=y(O.fire,v))},unsubscribe:function(v){O.subscribers=O.subscribers.filter(function(P){return P!==v}),O.fire=O.subscribers.reduce(y,b)}};return s[p]=o[p]=O}f(T=p).forEach(function(v){var P=T[v];if(d(P))h(v,T[v][0],T[v][1]);else{if(P!=="asap")throw new z.InvalidArgument("Invalid event config");var w=h(v,Nr,function(){for(var E=arguments.length,S=new Array(E);E--;)S[E]=arguments[E];w.subscribers.forEach(function(x){de(function(){x.apply(null,S)})})})}})}}function qr(n,o){return A(o).from({prototype:n}),o}function rr(n,o){return!(n.filter||n.algorithm||n.or)&&(o?n.justLimit:!n.replayFilter)}function Oa(n,o){n.filter=jn(n.filter,o)}function Sa(n,o,s){var u=n.replayFilter;n.replayFilter=u?function(){return jn(u(),o())}:o,n.justLimit=s&&!u}function Ho(n,o){if(n.isPrimKey)return o.primaryKey;var s=o.getIndexByKeyPath(n.index);if(!s)throw new z.Schema("KeyPath "+n.index+" on object store "+o.name+" is not indexed");return s}function wc(n,o,s){var u=Ho(n,o.schema);return o.openCursor({trans:s,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:u,range:n.range}})}function Vo(n,o,s,u){var l=n.replayFilter?jn(n.filter,n.replayFilter()):n.filter;if(n.or){var h={},p=function(y,b,T){var O,v;l&&!l(b,T,function(P){return b.stop(P)},function(P){return b.fail(P)})||((v=""+(O=b.primaryKey))=="[object ArrayBuffer]"&&(v=""+new Uint8Array(O)),R(h,v)||(h[v]=!0,o(y,b,T)))};return Promise.all([n.or._iterate(p,s),_c(wc(n,u,s),n.algorithm,p,!n.keysOnly&&n.valueMapper)])}return _c(wc(n,u,s),jn(n.algorithm,l),o,!n.keysOnly&&n.valueMapper)}function _c(n,o,s,u){var l=ge(u?function(h,p,y){return s(u(h),p,y)}:s);return n.then(function(h){if(h)return h.start(function(){var p=function(){return h.continue()};o&&!o(h,function(y){return p=y},function(y){h.stop(y),p=ce},function(y){h.fail(y),p=ce})||l(h.value,h,function(y){return p=y}),p()})})}var Ur=(Tc.prototype.execute=function(n){var o=this["@@propmod"];if(o.add!==void 0){var s=o.add;if(d(s))return a(a([],d(n)?n:[],!0),s).sort();if(typeof s=="number")return(Number(n)||0)+s;if(typeof s=="bigint")try{return BigInt(n)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(o.remove!==void 0){var u=o.remove;if(d(u))return d(n)?n.filter(function(l){return!u.includes(l)}).sort():[];if(typeof u=="number")return Number(n)-u;if(typeof u=="bigint")try{return BigInt(n)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return s=(s=o.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof n=="string"&&n.startsWith(s)?o.replacePrefix[1]+n.substring(s.length):n},Tc);function Tc(n){this["@@propmod"]=n}var ld=(se.prototype._read=function(n,o){var s=this._ctx;return s.error?s.table._trans(null,_e.bind(null,s.error)):s.table._trans("readonly",n).then(o)},se.prototype._write=function(n){var o=this._ctx;return o.error?o.table._trans(null,_e.bind(null,o.error)):o.table._trans("readwrite",n,"locked")},se.prototype._addAlgorithm=function(n){var o=this._ctx;o.algorithm=jn(o.algorithm,n)},se.prototype._iterate=function(n,o){return Vo(this._ctx,n,o,this._ctx.table.core)},se.prototype.clone=function(n){var o=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return n&&m(s,n),o._ctx=s,o},se.prototype.raw=function(){return this._ctx.valueMapper=null,this},se.prototype.each=function(n){var o=this._ctx;return this._read(function(s){return Vo(o,n,s,o.table.core)})},se.prototype.count=function(n){var o=this;return this._read(function(s){var u=o._ctx,l=u.table.core;if(rr(u,!0))return l.count({trans:s,query:{index:Ho(u,l.schema),range:u.range}}).then(function(p){return Math.min(p,u.limit)});var h=0;return Vo(u,function(){return++h,!1},s,l).then(function(){return h})}).then(n)},se.prototype.sortBy=function(n,o){var s=n.split(".").reverse(),u=s[0],l=s.length-1;function h(b,T){return T?h(b[s[T]],T-1):b[u]}var p=this._ctx.dir==="next"?1:-1;function y(b,T){return oe(h(b,l),h(T,l))*p}return this.toArray(function(b){return b.sort(y)}).then(o)},se.prototype.toArray=function(n){var o=this;return this._read(function(s){var u=o._ctx;if(u.dir==="next"&&rr(u,!0)&&0<u.limit){var l=u.valueMapper,h=Ho(u,u.table.core.schema);return u.table.core.query({trans:s,limit:u.limit,values:!0,query:{index:h,range:u.range}}).then(function(y){return y=y.result,l?y.map(l):y})}var p=[];return Vo(u,function(y){return p.push(y)},s,u.table.core).then(function(){return p})},n)},se.prototype.offset=function(n){var o=this._ctx;return n<=0||(o.offset+=n,rr(o)?Sa(o,function(){var s=n;return function(u,l){return s===0||(s===1?--s:l(function(){u.advance(s),s=0}),!1)}}):Sa(o,function(){var s=n;return function(){return--s<0}})),this},se.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Sa(this._ctx,function(){var o=n;return function(s,u,l){return--o<=0&&u(l),0<=o}},!0),this},se.prototype.until=function(n,o){return Oa(this._ctx,function(s,u,l){return!n(s.value)||(u(l),o)}),this},se.prototype.first=function(n){return this.limit(1).toArray(function(o){return o[0]}).then(n)},se.prototype.last=function(n){return this.reverse().first(n)},se.prototype.filter=function(n){var o;return Oa(this._ctx,function(s){return n(s.value)}),(o=this._ctx).isMatch=jn(o.isMatch,n),this},se.prototype.and=function(n){return this.filter(n)},se.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},se.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},se.prototype.desc=function(){return this.reverse()},se.prototype.eachKey=function(n){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(s,u){n(u.key,u)})},se.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},se.prototype.eachPrimaryKey=function(n){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(s,u){n(u.primaryKey,u)})},se.prototype.keys=function(n){var o=this._ctx;o.keysOnly=!o.isMatch;var s=[];return this.each(function(u,l){s.push(l.key)}).then(function(){return s}).then(n)},se.prototype.primaryKeys=function(n){var o=this._ctx;if(o.dir==="next"&&rr(o,!0)&&0<o.limit)return this._read(function(u){var l=Ho(o,o.table.core.schema);return o.table.core.query({trans:u,values:!1,limit:o.limit,query:{index:l,range:o.range}})}).then(function(u){return u.result}).then(n);o.keysOnly=!o.isMatch;var s=[];return this.each(function(u,l){s.push(l.primaryKey)}).then(function(){return s}).then(n)},se.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},se.prototype.firstKey=function(n){return this.limit(1).keys(function(o){return o[0]}).then(n)},se.prototype.lastKey=function(n){return this.reverse().firstKey(n)},se.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var o={};return Oa(this._ctx,function(l){var u=l.primaryKey.toString(),l=R(o,u);return o[u]=!0,!l}),this},se.prototype.modify=function(n){var o=this,s=this._ctx;return this._write(function(u){var l,h,p;p=typeof n=="function"?n:(l=f(n),h=l.length,function(x){for(var k=!1,C=0;C<h;++C){var M=l[C],j=n[M],B=ue(x,M);j instanceof Ur?(ae(x,M,j.execute(B)),k=!0):B!==j&&(ae(x,M,j),k=!0)}return k});var y=s.table.core,v=y.schema.primaryKey,b=v.outbound,T=v.extractKey,O=200,v=o.db._options.modifyChunkSize;v&&(O=typeof v=="object"?v[y.name]||v["*"]||200:v);function P(x,M){var C=M.failures,M=M.numFailures;E+=x-M;for(var j=0,B=f(C);j<B.length;j++){var L=B[j];w.push(C[L])}}var w=[],E=0,S=[];return o.clone().primaryKeys().then(function(x){function k(M){var j=Math.min(O,x.length-M);return y.getMany({trans:u,keys:x.slice(M,M+j),cache:"immutable"}).then(function(B){for(var L=[],F=[],q=b?[]:null,Y=[],U=0;U<j;++U){var W=B[U],J={value:Se(W),primKey:x[M+U]};p.call(J,J.value,J)!==!1&&(J.value==null?Y.push(x[M+U]):b||oe(T(W),T(J.value))===0?(F.push(J.value),b&&q.push(x[M+U])):(Y.push(x[M+U]),L.push(J.value)))}return Promise.resolve(0<L.length&&y.mutate({trans:u,type:"add",values:L}).then(function(te){for(var ne in te.failures)Y.splice(parseInt(ne),1);P(L.length,te)})).then(function(){return(0<F.length||C&&typeof n=="object")&&y.mutate({trans:u,type:"put",keys:q,values:F,criteria:C,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<M}).then(function(te){return P(F.length,te)})}).then(function(){return(0<Y.length||C&&n===Pa)&&y.mutate({trans:u,type:"delete",keys:Y,criteria:C,isAdditionalChunk:0<M}).then(function(te){return P(Y.length,te)})}).then(function(){return x.length>M+j&&k(M+O)})})}var C=rr(s)&&s.limit===1/0&&(typeof n!="function"||n===Pa)&&{index:s.index,range:s.range};return k(0).then(function(){if(0<w.length)throw new jo("Error modifying one or more objects",w,E,S);return x.length})})})},se.prototype.delete=function(){var n=this._ctx,o=n.range;return rr(n)&&(n.isPrimKey||o.type===3)?this._write(function(s){var u=n.table.core.schema.primaryKey,l=o;return n.table.core.count({trans:s,query:{index:u,range:l}}).then(function(h){return n.table.core.mutate({trans:s,type:"deleteRange",range:l}).then(function(p){var y=p.failures;if(p.lastResult,p.results,p=p.numFailures,p)throw new jo("Could not delete some values",Object.keys(y).map(function(b){return y[b]}),h-p);return h-p})})}):this.modify(Pa)},se);function se(){}var Pa=function(n,o){return o.value=null};function fd(n,o){return n<o?-1:n===o?0:1}function hd(n,o){return o<n?-1:n===o?0:1}function Ve(n,o,s){return n=n instanceof Rc?new n.Collection(n):n,n._ctx.error=new(s||TypeError)(o),n}function or(n){return new n.Collection(n,function(){return xc("")}).limit(0)}function zo(n,o,s,u){var l,h,p,y,b,T,O,v=s.length;if(!s.every(function(E){return typeof E=="string"}))return Ve(n,pc);function P(E){l=E==="next"?function(x){return x.toUpperCase()}:function(x){return x.toLowerCase()},h=E==="next"?function(x){return x.toLowerCase()}:function(x){return x.toUpperCase()},p=E==="next"?fd:hd;var S=s.map(function(x){return{lower:h(x),upper:l(x)}}).sort(function(x,k){return p(x.lower,k.lower)});y=S.map(function(x){return x.upper}),b=S.map(function(x){return x.lower}),O=(T=E)==="next"?"":u}P("next"),n=new n.Collection(n,function(){return Vt(y[0],b[v-1]+u)}),n._ondirectionchange=function(E){P(E)};var w=0;return n._addAlgorithm(function(E,S,x){var k=E.key;if(typeof k!="string")return!1;var C=h(k);if(o(C,b,w))return!0;for(var M=null,j=w;j<v;++j){var B=function(L,F,q,Y,U,W){for(var J=Math.min(L.length,Y.length),te=-1,ne=0;ne<J;++ne){var ze=F[ne];if(ze!==Y[ne])return U(L[ne],q[ne])<0?L.substr(0,ne)+q[ne]+q.substr(ne+1):U(L[ne],Y[ne])<0?L.substr(0,ne)+Y[ne]+q.substr(ne+1):0<=te?L.substr(0,te)+F[te]+q.substr(te+1):null;U(L[ne],ze)<0&&(te=ne)}return J<Y.length&&W==="next"?L+q.substr(L.length):J<L.length&&W==="prev"?L.substr(0,q.length):te<0?null:L.substr(0,te)+Y[te]+q.substr(te+1)}(k,C,y[j],b[j],p,T);B===null&&M===null?w=j+1:(M===null||0<p(M,B))&&(M=B)}return S(M!==null?function(){E.continue(M+O)}:x),!1}),n}function Vt(n,o,s,u){return{type:2,lower:n,upper:o,lowerOpen:s,upperOpen:u}}function xc(n){return{type:1,lower:n,upper:n}}var Rc=(Object.defineProperty(Oe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Oe.prototype.between=function(n,o,s,u){s=s!==!1,u=u===!0;try{return 0<this._cmp(n,o)||this._cmp(n,o)===0&&(s||u)&&(!s||!u)?or(this):new this.Collection(this,function(){return Vt(n,o,!s,!u)})}catch{return Ve(this,It)}},Oe.prototype.equals=function(n){return n==null?Ve(this,It):new this.Collection(this,function(){return xc(n)})},Oe.prototype.above=function(n){return n==null?Ve(this,It):new this.Collection(this,function(){return Vt(n,void 0,!0)})},Oe.prototype.aboveOrEqual=function(n){return n==null?Ve(this,It):new this.Collection(this,function(){return Vt(n,void 0,!1)})},Oe.prototype.below=function(n){return n==null?Ve(this,It):new this.Collection(this,function(){return Vt(void 0,n,!1,!0)})},Oe.prototype.belowOrEqual=function(n){return n==null?Ve(this,It):new this.Collection(this,function(){return Vt(void 0,n)})},Oe.prototype.startsWith=function(n){return typeof n!="string"?Ve(this,pc):this.between(n,n+Nn,!0,!0)},Oe.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):zo(this,function(o,s){return o.indexOf(s[0])===0},[n],Nn)},Oe.prototype.equalsIgnoreCase=function(n){return zo(this,function(o,s){return o===s[0]},[n],"")},Oe.prototype.anyOfIgnoreCase=function(){var n=Pt.apply(Gn,arguments);return n.length===0?or(this):zo(this,function(o,s){return s.indexOf(o)!==-1},n,"")},Oe.prototype.startsWithAnyOfIgnoreCase=function(){var n=Pt.apply(Gn,arguments);return n.length===0?or(this):zo(this,function(o,s){return s.some(function(u){return o.indexOf(u)===0})},n,Nn)},Oe.prototype.anyOf=function(){var n=this,o=Pt.apply(Gn,arguments),s=this._cmp;try{o.sort(s)}catch{return Ve(this,It)}if(o.length===0)return or(this);var u=new this.Collection(this,function(){return Vt(o[0],o[o.length-1])});u._ondirectionchange=function(h){s=h==="next"?n._ascending:n._descending,o.sort(s)};var l=0;return u._addAlgorithm(function(h,p,y){for(var b=h.key;0<s(b,o[l]);)if(++l===o.length)return p(y),!1;return s(b,o[l])===0||(p(function(){h.continue(o[l])}),!1)}),u},Oe.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Oe.prototype.noneOf=function(){var n=Pt.apply(Gn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Ve(this,It)}var o=n.reduce(function(s,u){return s?s.concat([[s[s.length-1][1],u]]):[[-1/0,u]]},null);return o.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},Oe.prototype.inAnyRange=function(k,o){var s=this,u=this._cmp,l=this._ascending,h=this._descending,p=this._min,y=this._max;if(k.length===0)return or(this);if(!k.every(function(C){return C[0]!==void 0&&C[1]!==void 0&&l(C[0],C[1])<=0}))return Ve(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var b=!o||o.includeLowers!==!1,T=o&&o.includeUppers===!0,O,v=l;function P(C,M){return v(C[0],M[0])}try{(O=k.reduce(function(C,M){for(var j=0,B=C.length;j<B;++j){var L=C[j];if(u(M[0],L[1])<0&&0<u(M[1],L[0])){L[0]=p(L[0],M[0]),L[1]=y(L[1],M[1]);break}}return j===B&&C.push(M),C},[])).sort(P)}catch{return Ve(this,It)}var w=0,E=T?function(C){return 0<l(C,O[w][1])}:function(C){return 0<=l(C,O[w][1])},S=b?function(C){return 0<h(C,O[w][0])}:function(C){return 0<=h(C,O[w][0])},x=E,k=new this.Collection(this,function(){return Vt(O[0][0],O[O.length-1][1],!b,!T)});return k._ondirectionchange=function(C){v=C==="next"?(x=E,l):(x=S,h),O.sort(P)},k._addAlgorithm(function(C,M,j){for(var B,L=C.key;x(L);)if(++w===O.length)return M(j),!1;return!E(B=L)&&!S(B)||(s._cmp(L,O[w][1])===0||s._cmp(L,O[w][0])===0||M(function(){v===l?C.continue(O[w][0]):C.continue(O[w][1])}),!1)}),k},Oe.prototype.startsWithAnyOf=function(){var n=Pt.apply(Gn,arguments);return n.every(function(o){return typeof o=="string"})?n.length===0?or(this):this.inAnyRange(n.map(function(o){return[o,o+Nn]})):Ve(this,"startsWithAnyOf() only works with strings")},Oe);function Oe(){}function gt(n){return ge(function(o){return Lr(o),n(o.target.error),!1})}function Lr(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var Yr="storagemutated",Ia="x-storagemutated-1",zt=Fr(null,Yr),dd=(vt.prototype._lock=function(){return re(!H.global),++this._reculock,this._reculock!==1||H.global||(H.lockOwnerFor=this),this},vt.prototype._unlock=function(){if(re(!H.global),--this._reculock==0)for(H.global||(H.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{Mn(n[1],n[0])}catch{}}return this},vt.prototype._locked=function(){return this._reculock&&H.lockOwnerFor!==this},vt.prototype.create=function(n){var o=this;if(!this.mode)return this;var s=this.db.idbdb,u=this.db._state.dbOpenError;if(re(!this.idbtrans),!n&&!s)switch(u&&u.name){case"DatabaseClosedError":throw new z.DatabaseClosed(u);case"MissingAPIError":throw new z.MissingAPI(u.message,u);default:throw new z.OpenFailed(u)}if(!this.active)throw new z.TransactionInactive;return re(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||s).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ge(function(l){Lr(l),o._reject(n.error)}),n.onabort=ge(function(l){Lr(l),o.active&&o._reject(new z.Abort(n.error)),o.active=!1,o.on("abort").fire(l)}),n.oncomplete=ge(function(){o.active=!1,o._resolve(),"mutatedParts"in n&&zt.storagemutated.fire(n.mutatedParts)}),this},vt.prototype._promise=function(n,o,s){var u=this;if(n==="readwrite"&&this.mode!=="readwrite")return _e(new z.ReadOnly("Transaction is readonly"));if(!this.active)return _e(new z.TransactionInactive);if(this._locked())return new Z(function(h,p){u._blockedFuncs.push([function(){u._promise(n,o,s).then(h,p)},H])});if(s)return Wt(function(){var h=new Z(function(p,y){u._lock();var b=o(p,y,u);b&&b.then&&b.then(p,y)});return h.finally(function(){return u._unlock()}),h._lib=!0,h});var l=new Z(function(h,p){var y=o(h,p,u);y&&y.then&&y.then(h,p)});return l._lib=!0,l},vt.prototype._root=function(){return this.parent?this.parent._root():this},vt.prototype.waitFor=function(n){var o,s=this._root(),u=Z.resolve(n);s._waitingFor?s._waitingFor=s._waitingFor.then(function(){return u}):(s._waitingFor=u,s._waitingQueue=[],o=s.idbtrans.objectStore(s.storeNames[0]),function h(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(o.get(-1/0).onsuccess=h)}());var l=s._waitingFor;return new Z(function(h,p){u.then(function(y){return s._waitingQueue.push(ge(h.bind(null,y)))},function(y){return s._waitingQueue.push(ge(p.bind(null,y)))}).finally(function(){s._waitingFor===l&&(s._waitingFor=null)})})},vt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},vt.prototype.table=function(n){var o=this._memoizedTables||(this._memoizedTables={});if(R(o,n))return o[n];var s=this.schema[n];if(!s)throw new z.NotFound("Table "+n+" not part of transaction");return s=new this.db.Table(n,s,this),s.core=this.db.core.table(n),o[n]=s},vt);function vt(){}function ka(n,o,s,u,l,h,p){return{name:n,keyPath:o,unique:s,multi:u,auto:l,compound:h,src:(s&&!p?"&":"")+(u?"*":"")+(l?"++":"")+Ec(o)}}function Ec(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function Da(n,o,s){return{name:n,primKey:o,indexes:s,mappedClass:null,idxByName:(u=function(l){return[l.name,l]},s.reduce(function(l,h,p){return p=u(h,p),p&&(l[p[0]]=p[1]),l},{}))};var u}var Zr=function(n){try{return n.only([[]]),Zr=function(){return[[]]},[[]]}catch{return Zr=function(){return Nn},Nn}};function Ca(n){return n==null?function(){}:typeof n=="string"?(o=n).split(".").length===1?function(s){return s[o]}:function(s){return ue(s,o)}:function(s){return ue(s,n)};var o}function Oc(n){return[].slice.call(n)}var pd=0;function Wr(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function md(n,o,b){function u(x){if(x.type===3)return null;if(x.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var w=x.lower,E=x.upper,S=x.lowerOpen,x=x.upperOpen;return w===void 0?E===void 0?null:o.upperBound(E,!!x):E===void 0?o.lowerBound(w,!!S):o.bound(w,E,!!S,!!x)}function l(P){var w,E=P.name;return{name:E,schema:P,mutate:function(S){var x=S.trans,k=S.type,C=S.keys,M=S.values,j=S.range;return new Promise(function(B,L){B=ge(B);var F=x.objectStore(E),q=F.keyPath==null,Y=k==="put"||k==="add";if(!Y&&k!=="delete"&&k!=="deleteRange")throw new Error("Invalid operation type: "+k);var U,W=(C||M||{length:1}).length;if(C&&M&&C.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(W===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});function J(Ke){++ze,Lr(Ke)}var te=[],ne=[],ze=0;if(k==="deleteRange"){if(j.type===4)return B({numFailures:ze,failures:ne,results:[],lastResult:void 0});j.type===3?te.push(U=F.clear()):te.push(U=F.delete(u(j)))}else{var q=Y?q?[M,C]:[M,null]:[C,null],Q=q[0],De=q[1];if(Y)for(var Ce=0;Ce<W;++Ce)te.push(U=De&&De[Ce]!==void 0?F[k](Q[Ce],De[Ce]):F[k](Q[Ce])),U.onerror=J;else for(Ce=0;Ce<W;++Ce)te.push(U=F[k](Q[Ce])),U.onerror=J}function ui(Ke){Ke=Ke.target.result,te.forEach(function(Bn,Ga){return Bn.error!=null&&(ne[Ga]=Bn.error)}),B({numFailures:ze,failures:ne,results:k==="delete"?C:te.map(function(Bn){return Bn.result}),lastResult:Ke})}U.onerror=function(Ke){J(Ke),ui(Ke)},U.onsuccess=ui})},getMany:function(S){var x=S.trans,k=S.keys;return new Promise(function(C,M){C=ge(C);for(var j,B=x.objectStore(E),L=k.length,F=new Array(L),q=0,Y=0,U=function(te){te=te.target,F[te._pos]=te.result,++Y===q&&C(F)},W=gt(M),J=0;J<L;++J)k[J]!=null&&((j=B.get(k[J]))._pos=J,j.onsuccess=U,j.onerror=W,++q);q===0&&C(F)})},get:function(S){var x=S.trans,k=S.key;return new Promise(function(C,M){C=ge(C);var j=x.objectStore(E).get(k);j.onsuccess=function(B){return C(B.target.result)},j.onerror=gt(M)})},query:(w=T,function(S){return new Promise(function(x,k){x=ge(x);var C,M,j,q=S.trans,B=S.values,L=S.limit,U=S.query,F=L===1/0?void 0:L,Y=U.index,U=U.range,q=q.objectStore(E),Y=Y.isPrimaryKey?q:q.index(Y.name),U=u(U);if(L===0)return x({result:[]});w?((F=B?Y.getAll(U,F):Y.getAllKeys(U,F)).onsuccess=function(W){return x({result:W.target.result})},F.onerror=gt(k)):(C=0,M=!B&&"openKeyCursor"in Y?Y.openKeyCursor(U):Y.openCursor(U),j=[],M.onsuccess=function(W){var J=M.result;return J?(j.push(B?J.value:J.primaryKey),++C===L?x({result:j}):void J.continue()):x({result:j})},M.onerror=gt(k))})}),openCursor:function(S){var x=S.trans,k=S.values,C=S.query,M=S.reverse,j=S.unique;return new Promise(function(B,L){B=ge(B);var Y=C.index,F=C.range,q=x.objectStore(E),q=Y.isPrimaryKey?q:q.index(Y.name),Y=M?j?"prevunique":"prev":j?"nextunique":"next",U=!k&&"openKeyCursor"in q?q.openKeyCursor(u(F),Y):q.openCursor(u(F),Y);U.onerror=gt(L),U.onsuccess=ge(function(W){var J,te,ne,ze,Q=U.result;Q?(Q.___id=++pd,Q.done=!1,J=Q.continue.bind(Q),te=(te=Q.continuePrimaryKey)&&te.bind(Q),ne=Q.advance.bind(Q),ze=function(){throw new Error("Cursor not stopped")},Q.trans=x,Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=function(){throw new Error("Cursor not started")},Q.fail=ge(L),Q.next=function(){var De=this,Ce=1;return this.start(function(){return Ce--?De.continue():De.stop()}).then(function(){return De})},Q.start=function(De){function Ce(){if(U.result)try{De()}catch(Ke){Q.fail(Ke)}else Q.done=!0,Q.start=function(){throw new Error("Cursor behind last entry")},Q.stop()}var ui=new Promise(function(Ke,Bn){Ke=ge(Ke),U.onerror=gt(Bn),Q.fail=Bn,Q.stop=function(Ga){Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=ze,Ke(Ga)}});return U.onsuccess=ge(function(Ke){U.onsuccess=Ce,Ce()}),Q.continue=J,Q.continuePrimaryKey=te,Q.advance=ne,Ce(),ui},B(Q)):B(null)},L)})},count:function(S){var x=S.query,k=S.trans,C=x.index,M=x.range;return new Promise(function(j,B){var L=k.objectStore(E),F=C.isPrimaryKey?L:L.index(C.name),L=u(M),F=L?F.count(L):F.count();F.onsuccess=ge(function(q){return j(q.target.result)}),F.onerror=gt(B)})}}}var h,p,y,O=(p=b,y=Oc((h=n).objectStoreNames),{schema:{name:h.name,tables:y.map(function(P){return p.objectStore(P)}).map(function(P){var w=P.keyPath,x=P.autoIncrement,E=d(w),S={},x={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w==null,compound:E,keyPath:w,autoIncrement:x,unique:!0,extractKey:Ca(w)},indexes:Oc(P.indexNames).map(function(k){return P.index(k)}).map(function(j){var C=j.name,M=j.unique,B=j.multiEntry,j=j.keyPath,B={name:C,compound:d(j),keyPath:j,unique:M,multiEntry:B,extractKey:Ca(j)};return S[Wr(j)]=B}),getIndexByKeyPath:function(k){return S[Wr(k)]}};return S[":id"]=x.primaryKey,w!=null&&(S[Wr(w)]=x.primaryKey),x})},hasGetAll:0<y.length&&"getAll"in p.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),b=O.schema,T=O.hasGetAll,O=b.tables.map(l),v={};return O.forEach(function(P){return v[P.name]=P}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(P){if(!v[P])throw new Error("Table '".concat(P,"' not found"));return v[P]},MIN_KEY:-1/0,MAX_KEY:Zr(o),schema:b}}function yd(n,o,s,u){var l=s.IDBKeyRange;return s.indexedDB,{dbcore:(u=md(o,l,u),n.dbcore.reduce(function(h,p){return p=p.create,i(i({},h),p(h))},u))}}function Go(n,u){var s=u.db,u=yd(n._middlewares,s,n._deps,u);n.core=u.dbcore,n.tables.forEach(function(l){var h=l.name;n.core.schema.tables.some(function(p){return p.name===h})&&(l.core=n.core.table(h),n[h]instanceof n.Table&&(n[h].core=l.core))})}function Qo(n,o,s,u){s.forEach(function(l){var h=u[l];o.forEach(function(p){var y=function b(T,O){return $(T,O)||(T=g(T))&&b(T,O)}(p,l);(!y||"value"in y&&y.value===void 0)&&(p===n.Transaction.prototype||p instanceof n.Transaction?K(p,l,{get:function(){return this.table(l)},set:function(b){N(this,l,{value:b,writable:!0,configurable:!0,enumerable:!0})}}):p[l]=new n.Table(l,h))})})}function Ma(n,o){o.forEach(function(s){for(var u in s)s[u]instanceof n.Table&&delete s[u]})}function gd(n,o){return n._cfg.version-o._cfg.version}function vd(n,o,s,u){var l=n._dbSchema;s.objectStoreNames.contains("$meta")&&!l.$meta&&(l.$meta=Da("$meta",Pc("")[0],[]),n._storeNames.push("$meta"));var h=n._createTransaction("readwrite",n._storeNames,l);h.create(s),h._completion.catch(u);var p=h._reject.bind(h),y=H.transless||H;Wt(function(){return H.trans=h,H.transless=y,o!==0?(Go(n,s),T=o,((b=h).storeNames.includes("$meta")?b.table("$meta").get("version").then(function(O){return O??T}):Z.resolve(T)).then(function(O){return P=O,w=h,E=s,S=[],O=(v=n)._versions,x=v._dbSchema=Xo(0,v.idbdb,E),(O=O.filter(function(k){return k._cfg.version>=P})).length!==0?(O.forEach(function(k){S.push(function(){var C=x,M=k._cfg.dbschema;ei(v,C,E),ei(v,M,E),x=v._dbSchema=M;var j=Na(C,M);j.add.forEach(function(Y){ja(E,Y[0],Y[1].primKey,Y[1].indexes)}),j.change.forEach(function(Y){if(Y.recreate)throw new z.Upgrade("Not yet support for changing primary key");var U=E.objectStore(Y.name);Y.add.forEach(function(W){return Jo(U,W)}),Y.change.forEach(function(W){U.deleteIndex(W.name),Jo(U,W)}),Y.del.forEach(function(W){return U.deleteIndex(W)})});var B=k._cfg.contentUpgrade;if(B&&k._cfg.version>P){Go(v,E),w._memoizedTables={};var L=be(M);j.del.forEach(function(Y){L[Y]=C[Y]}),Ma(v,[v.Transaction.prototype]),Qo(v,[v.Transaction.prototype],f(L),L),w.schema=L;var F,q=da(B);return q&&tr(),j=Z.follow(function(){var Y;(F=B(w))&&q&&(Y=$t.bind(null,null),F.then(Y,Y))}),F&&typeof F.then=="function"?Z.resolve(F):j.then(function(){return F})}}),S.push(function(C){var M,j,B=k._cfg.dbschema;M=B,j=C,[].slice.call(j.db.objectStoreNames).forEach(function(L){return M[L]==null&&j.db.deleteObjectStore(L)}),Ma(v,[v.Transaction.prototype]),Qo(v,[v.Transaction.prototype],v._storeNames,v._dbSchema),w.schema=v._dbSchema}),S.push(function(C){v.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(v.idbdb.version/10)===k._cfg.version?(v.idbdb.deleteObjectStore("$meta"),delete v._dbSchema.$meta,v._storeNames=v._storeNames.filter(function(M){return M!=="$meta"})):C.objectStore("$meta").put(k._cfg.version,"version"))})}),function k(){return S.length?Z.resolve(S.shift()(w.idbtrans)).then(k):Z.resolve()}().then(function(){Sc(x,E)})):Z.resolve();var v,P,w,E,S,x}).catch(p)):(f(l).forEach(function(O){ja(s,O,l[O].primKey,l[O].indexes)}),Go(n,s),void Z.follow(function(){return n.on.populate.fire(h)}).catch(p));var b,T})}function bd(n,o){Sc(n._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var s=Xo(0,n.idbdb,o);ei(n,n._dbSchema,o);for(var u=0,l=Na(s,n._dbSchema).change;u<l.length;u++){var h=function(p){if(p.change.length||p.recreate)return console.warn("Unable to patch indexes of table ".concat(p.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=o.objectStore(p.name);p.add.forEach(function(b){yt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(p.name,".").concat(b.src)),Jo(y,b)})}(l[u]);if(typeof h=="object")return h.value}}function Na(n,o){var s,u={del:[],add:[],change:[]};for(s in n)o[s]||u.del.push(s);for(s in o){var l=n[s],h=o[s];if(l){var p={name:s,def:h,recreate:!1,del:[],add:[],change:[]};if(""+(l.primKey.keyPath||"")!=""+(h.primKey.keyPath||"")||l.primKey.auto!==h.primKey.auto)p.recreate=!0,u.change.push(p);else{var y=l.idxByName,b=h.idxByName,T=void 0;for(T in y)b[T]||p.del.push(T);for(T in b){var O=y[T],v=b[T];O?O.src!==v.src&&p.change.push(v):p.add.push(v)}(0<p.del.length||0<p.add.length||0<p.change.length)&&u.change.push(p)}}else u.add.push([s,h])}return u}function ja(n,o,s,u){var l=n.db.createObjectStore(o,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return u.forEach(function(h){return Jo(l,h)}),l}function Sc(n,o){f(n).forEach(function(s){o.db.objectStoreNames.contains(s)||(yt&&console.debug("Dexie: Creating missing table",s),ja(o,s,n[s].primKey,n[s].indexes))})}function Jo(n,o){n.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Xo(n,o,s){var u={};return G(o.objectStoreNames,0).forEach(function(l){for(var h=s.objectStore(l),p=ka(Ec(T=h.keyPath),T||"",!0,!1,!!h.autoIncrement,T&&typeof T!="string",!0),y=[],b=0;b<h.indexNames.length;++b){var O=h.index(h.indexNames[b]),T=O.keyPath,O=ka(O.name,T,!!O.unique,!!O.multiEntry,!1,T&&typeof T!="string",!1);y.push(O)}u[l]=Da(l,p,y)}),u}function ei(n,o,s){for(var u=s.db.objectStoreNames,l=0;l<u.length;++l){var h=u[l],p=s.objectStore(h);n._hasGetAll="getAll"in p;for(var y=0;y<p.indexNames.length;++y){var b=p.indexNames[y],T=p.index(b).keyPath,O=typeof T=="string"?T:"["+G(T).join("+")+"]";!o[h]||(T=o[h].idxByName[O])&&(T.name=b,delete o[h].idxByName[O],o[h].idxByName[b]=T)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function Pc(n){return n.split(",").map(function(o,s){var u=(o=o.trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return ka(u,l||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),d(l),s===0)})}var wd=(ti.prototype._parseStoresSpec=function(n,o){f(n).forEach(function(s){if(n[s]!==null){var u=Pc(n[s]),l=u.shift();if(l.unique=!0,l.multi)throw new z.Schema("Primary key cannot be multi-valued");u.forEach(function(h){if(h.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!h.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),o[s]=Da(s,l,u)}})},ti.prototype.stores=function(s){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,s):s;var s=o._versions,u={},l={};return s.forEach(function(h){m(u,h._cfg.storesSource),l=h._cfg.dbschema={},h._parseStoresSpec(u,l)}),o._dbSchema=l,Ma(o,[o._allTables,o,o.Transaction.prototype]),Qo(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],f(l),l),o._storeNames=f(l),this},ti.prototype.upgrade=function(n){return this._cfg.contentUpgrade=ma(this._cfg.contentUpgrade||ce,n),this},ti);function ti(){}function Ka(n,o){var s=n._dbNamesDB;return s||(s=n._dbNamesDB=new kt(Wo,{addons:[],indexedDB:n,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),s.table("dbnames")}function Aa(n){return n&&typeof n.databases=="function"}function Ba(n){return Wt(function(){return H.letThrough=!0,n()})}function Fa(n){return!("from"in n)}var ke=function(n,o){if(!this){var s=new ke;return n&&"d"in n&&m(s,n),s}m(this,arguments.length?{d:1,from:n,to:1<arguments.length?o:n}:{d:0})};function $r(n,o,s){var u=oe(o,s);if(!isNaN(u)){if(0<u)throw RangeError();if(Fa(n))return m(n,{from:o,to:s,d:1});var l=n.l,u=n.r;if(oe(s,n.from)<0)return l?$r(l,o,s):n.l={from:o,to:s,d:1,l:null,r:null},kc(n);if(0<oe(o,n.to))return u?$r(u,o,s):n.r={from:o,to:s,d:1,l:null,r:null},kc(n);oe(o,n.from)<0&&(n.from=o,n.l=null,n.d=u?u.d+1:1),0<oe(s,n.to)&&(n.to=s,n.r=null,n.d=n.l?n.l.d+1:1),s=!n.r,l&&!n.l&&Hr(n,l),u&&s&&Hr(n,u)}}function Hr(n,o){Fa(o)||function s(u,b){var h=b.from,p=b.to,y=b.l,b=b.r;$r(u,h,p),y&&s(u,y),b&&s(u,b)}(n,o)}function Ic(n,o){var s=ni(o),u=s.next();if(u.done)return!1;for(var l=u.value,h=ni(n),p=h.next(l.from),y=p.value;!u.done&&!p.done;){if(oe(y.from,l.to)<=0&&0<=oe(y.to,l.from))return!0;oe(l.from,y.from)<0?l=(u=s.next(y.from)).value:y=(p=h.next(l.from)).value}return!1}function ni(n){var o=Fa(n)?null:{s:0,n};return{next:function(s){for(var u=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,u)for(;o.n.l&&oe(s,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!u||oe(s,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function kc(n){var o,s,u=(((o=n.r)===null||o===void 0?void 0:o.d)||0)-(((s=n.l)===null||s===void 0?void 0:s.d)||0),l=1<u?"r":u<-1?"l":"";l&&(o=l=="r"?"l":"r",s=i({},n),u=n[l],n.from=u.from,n.to=u.to,n[l]=u[l],s[l]=u[o],(n[o]=s).d=Dc(s)),n.d=Dc(n)}function Dc(s){var o=s.r,s=s.l;return(o?s?Math.max(o.d,s.d):o.d:s?s.d:0)+1}function ri(n,o){return f(o).forEach(function(s){n[s]?Hr(n[s],o[s]):n[s]=function u(l){var h,p,y={};for(h in l)R(l,h)&&(p=l[h],y[h]=!p||typeof p!="object"||st.has(p.constructor)?p:u(p));return y}(o[s])}),n}function qa(n,o){return n.all||o.all||Object.keys(n).some(function(s){return o[s]&&Ic(o[s],n[s])})}D(ke.prototype,((tt={add:function(n){return Hr(this,n),this},addKey:function(n){return $r(this,n,n),this},addKeys:function(n){var o=this;return n.forEach(function(s){return $r(o,s,s)}),this},hasKey:function(n){var o=ni(this).next(n).value;return o&&oe(o.from,n)<=0&&0<=oe(o.to,n)}})[ha]=function(){return ni(this)},tt));var Kn={},Ua={},La=!1;function oi(n){ri(Ua,n),La||(La=!0,setTimeout(function(){La=!1,Ya(Ua,!(Ua={}))},0))}function Ya(n,o){o===void 0&&(o=!1);var s=new Set;if(n.all)for(var u=0,l=Object.values(Kn);u<l.length;u++)Cc(p=l[u],n,s,o);else for(var h in n){var p,y=/^idb\:\/\/(.*)\/(.*)\//.exec(h);y&&(h=y[1],y=y[2],(p=Kn["idb://".concat(h,"/").concat(y)])&&Cc(p,n,s,o))}s.forEach(function(b){return b()})}function Cc(n,o,s,u){for(var l=[],h=0,p=Object.entries(n.queries.query);h<p.length;h++){for(var y=p[h],b=y[0],T=[],O=0,v=y[1];O<v.length;O++){var P=v[O];qa(o,P.obsSet)?P.subscribers.forEach(function(x){return s.add(x)}):u&&T.push(P)}u&&l.push([b,T])}if(u)for(var w=0,E=l;w<E.length;w++){var S=E[w],b=S[0],T=S[1];n.queries.query[b]=T}}function _d(n){var o=n._state,s=n._deps.indexedDB;if(o.isBeingOpened||n.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?_e(o.dbOpenError):n});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var u=o.openCanceller,l=Math.round(10*n.verno),h=!1;function p(){if(o.openCanceller!==u)throw new z.DatabaseClosed("db.open() was cancelled")}function y(){return new Z(function(P,w){if(p(),!s)throw new z.MissingAPI;var E=n.name,S=o.autoSchema||!l?s.open(E):s.open(E,l);if(!S)throw new z.MissingAPI;S.onerror=gt(w),S.onblocked=ge(n._fireOnBlocked),S.onupgradeneeded=ge(function(x){var k;O=S.transaction,o.autoSchema&&!n._options.allowEmptyDB?(S.onerror=Lr,O.abort(),S.result.close(),(k=s.deleteDatabase(E)).onsuccess=k.onerror=ge(function(){w(new z.NoSuchDatabase("Database ".concat(E," doesnt exist")))})):(O.onerror=gt(w),x=x.oldVersion>Math.pow(2,62)?0:x.oldVersion,v=x<1,n.idbdb=S.result,h&&bd(n,O),vd(n,x/10,O,w))},w),S.onsuccess=ge(function(){O=null;var x,k,C,M,j,B=n.idbdb=S.result,L=G(B.objectStoreNames);if(0<L.length)try{var F=B.transaction((M=L).length===1?M[0]:M,"readonly");if(o.autoSchema)k=B,C=F,(x=n).verno=k.version/10,C=x._dbSchema=Xo(0,k,C),x._storeNames=G(k.objectStoreNames,0),Qo(x,[x._allTables],f(C),C);else if(ei(n,n._dbSchema,F),((j=Na(Xo(0,(j=n).idbdb,F),j._dbSchema)).add.length||j.change.some(function(q){return q.add.length||q.change.length}))&&!h)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),B.close(),l=B.version+1,h=!0,P(y());Go(n,F)}catch{}nr.push(n),B.onversionchange=ge(function(q){o.vcFired=!0,n.on("versionchange").fire(q)}),B.onclose=ge(function(q){n.on("close").fire(q)}),v&&(j=n._deps,F=E,B=j.indexedDB,j=j.IDBKeyRange,Aa(B)||F===Wo||Ka(B,j).put({name:F}).catch(ce)),P()},w)}).catch(function(P){switch(P==null?void 0:P.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<l)return l=0,y()}return Z.reject(P)})}var b,T=o.dbReadyResolve,O=null,v=!1;return Z.race([u,(typeof navigator>"u"?Z.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function w(){return indexedDB.databases().finally(P)}b=setInterval(w,100),w()}).finally(function(){return clearInterval(b)}):Promise.resolve()).then(y)]).then(function(){return p(),o.onReadyBeingFired=[],Z.resolve(Ba(function(){return n.on.ready.fire(n.vip)})).then(function P(){if(0<o.onReadyBeingFired.length){var w=o.onReadyBeingFired.reduce(ma,ce);return o.onReadyBeingFired=[],Z.resolve(Ba(function(){return w(n.vip)})).then(P)}})}).finally(function(){o.openCanceller===u&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(P){o.dbOpenError=P;try{O&&O.abort()}catch{}return u===o.openCanceller&&n._close(),_e(P)}).finally(function(){o.openComplete=!0,T()}).then(function(){var P;return v&&(P={},n.tables.forEach(function(w){w.schema.indexes.forEach(function(E){E.name&&(P["idb://".concat(n.name,"/").concat(w.name,"/").concat(E.name)]=new ke(-1/0,[[[]]]))}),P["idb://".concat(n.name,"/").concat(w.name,"/")]=P["idb://".concat(n.name,"/").concat(w.name,"/:dels")]=new ke(-1/0,[[[]]])}),zt(Yr).fire(P),Ya(P,!0)),n})}function Za(n){function o(h){return n.next(h)}var s=l(o),u=l(function(h){return n.throw(h)});function l(h){return function(b){var y=h(b),b=y.value;return y.done?b:b&&typeof b.then=="function"?b.then(s,u):d(b)?Promise.all(b).then(s,u):s(b)}}return l(o)()}function ii(n,o,s){for(var u=d(n)?n.slice():[n],l=0;l<s;++l)u.push(o);return u}var Td={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return i(i({},n),{table:function(o){var s=n.table(o),u=s.schema,l={},h=[];function p(v,P,w){var E=Wr(v),S=l[E]=l[E]||[],x=v==null?0:typeof v=="string"?1:v.length,k=0<P,k=i(i({},w),{name:k?"".concat(E,"(virtual-from:").concat(w.name,")"):w.name,lowLevelIndex:w,isVirtual:k,keyTail:P,keyLength:x,extractKey:Ca(v),unique:!k&&w.unique});return S.push(k),k.isPrimaryKey||h.push(k),1<x&&p(x===2?v[0]:v.slice(0,x-1),P+1,w),S.sort(function(C,M){return C.keyTail-M.keyTail}),k}o=p(u.primaryKey.keyPath,0,u.primaryKey),l[":id"]=[o];for(var y=0,b=u.indexes;y<b.length;y++){var T=b[y];p(T.keyPath,0,T)}function O(v){var P,w=v.query.index;return w.isVirtual?i(i({},v),{query:{index:w.lowLevelIndex,range:(P=v.query.range,w=w.keyTail,{type:P.type===1?2:P.type,lower:ii(P.lower,P.lowerOpen?n.MAX_KEY:n.MIN_KEY,w),lowerOpen:!0,upper:ii(P.upper,P.upperOpen?n.MIN_KEY:n.MAX_KEY,w),upperOpen:!0})}}):v}return i(i({},s),{schema:i(i({},u),{primaryKey:o,indexes:h,getIndexByKeyPath:function(v){return(v=l[Wr(v)])&&v[0]}}),count:function(v){return s.count(O(v))},query:function(v){return s.query(O(v))},openCursor:function(v){var P=v.query.index,w=P.keyTail,E=P.isVirtual,S=P.keyLength;return E?s.openCursor(O(v)).then(function(k){return k&&x(k)}):s.openCursor(v);function x(k){return Object.create(k,{continue:{value:function(C){C!=null?k.continue(ii(C,v.reverse?n.MAX_KEY:n.MIN_KEY,w)):v.unique?k.continue(k.key.slice(0,S).concat(v.reverse?n.MIN_KEY:n.MAX_KEY,w)):k.continue()}},continuePrimaryKey:{value:function(C,M){k.continuePrimaryKey(ii(C,n.MAX_KEY,w),M)}},primaryKey:{get:function(){return k.primaryKey}},key:{get:function(){var C=k.key;return S===1?C[0]:C.slice(0,S)}},value:{get:function(){return k.value}}})}}})}})}};function Wa(n,o,s,u){return s=s||{},u=u||"",f(n).forEach(function(l){var h,p,y;R(o,l)?(h=n[l],p=o[l],typeof h=="object"&&typeof p=="object"&&h&&p?(y=fa(h))!==fa(p)?s[u+l]=o[l]:y==="Object"?Wa(h,p,s,u+l+"."):h!==p&&(s[u+l]=o[l]):h!==p&&(s[u+l]=o[l])):s[u+l]=void 0}),f(o).forEach(function(l){R(n,l)||(s[u+l]=o[l])}),s}function $a(n,o){return o.type==="delete"?o.keys:o.keys||o.values.map(n.extractKey)}var xd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return i(i({},n),{table:function(o){var s=n.table(o),u=s.schema.primaryKey;return i(i({},s),{mutate:function(l){var h=H.trans,p=h.table(o).hook,y=p.deleting,b=p.creating,T=p.updating;switch(l.type){case"add":if(b.fire===ce)break;return h._promise("readwrite",function(){return O(l)},!0);case"put":if(b.fire===ce&&T.fire===ce)break;return h._promise("readwrite",function(){return O(l)},!0);case"delete":if(y.fire===ce)break;return h._promise("readwrite",function(){return O(l)},!0);case"deleteRange":if(y.fire===ce)break;return h._promise("readwrite",function(){return function v(P,w,E){return s.query({trans:P,values:!1,query:{index:u,range:w},limit:E}).then(function(S){var x=S.result;return O({type:"delete",keys:x,trans:P}).then(function(k){return 0<k.numFailures?Promise.reject(k.failures[0]):x.length<E?{failures:[],numFailures:0,lastResult:void 0}:v(P,i(i({},w),{lower:x[x.length-1],lowerOpen:!0}),E)})})}(l.trans,l.range,1e4)},!0)}return s.mutate(l);function O(v){var P,w,E,S=H.trans,x=v.keys||$a(u,v);if(!x)throw new Error("Keys missing");return(v=v.type==="add"||v.type==="put"?i(i({},v),{keys:x}):i({},v)).type!=="delete"&&(v.values=a([],v.values)),v.keys&&(v.keys=a([],v.keys)),P=s,E=x,((w=v).type==="add"?Promise.resolve([]):P.getMany({trans:w.trans,keys:E,cache:"immutable"})).then(function(k){var C=x.map(function(M,j){var B,L,F,q=k[j],Y={onerror:null,onsuccess:null};return v.type==="delete"?y.fire.call(Y,M,q,S):v.type==="add"||q===void 0?(B=b.fire.call(Y,M,v.values[j],S),M==null&&B!=null&&(v.keys[j]=M=B,u.outbound||ae(v.values[j],u.keyPath,M))):(B=Wa(q,v.values[j]),(L=T.fire.call(Y,B,M,q,S))&&(F=v.values[j],Object.keys(L).forEach(function(U){R(F,U)?F[U]=L[U]:ae(F,U,L[U])}))),Y});return s.mutate(v).then(function(M){for(var j=M.failures,B=M.results,L=M.numFailures,M=M.lastResult,F=0;F<x.length;++F){var q=(B||x)[F],Y=C[F];q==null?Y.onerror&&Y.onerror(j[F]):Y.onsuccess&&Y.onsuccess(v.type==="put"&&k[F]?v.values[F]:q)}return{failures:j,results:B,numFailures:L,lastResult:M}}).catch(function(M){return C.forEach(function(j){return j.onerror&&j.onerror(M)}),Promise.reject(M)})})}}})}})}};function Mc(n,o,s){try{if(!o||o.keys.length<n.length)return null;for(var u=[],l=0,h=0;l<o.keys.length&&h<n.length;++l)oe(o.keys[l],n[h])===0&&(u.push(s?Se(o.values[l]):o.values[l]),++h);return u.length===n.length?u:null}catch{return null}}var Rd={stack:"dbcore",level:-1,create:function(n){return{table:function(o){var s=n.table(o);return i(i({},s),{getMany:function(u){if(!u.cache)return s.getMany(u);var l=Mc(u.keys,u.trans._cache,u.cache==="clone");return l?Z.resolve(l):s.getMany(u).then(function(h){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?Se(h):h},h})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),s.mutate(u)}})}}}};function Nc(n,o){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function jc(n,o){switch(n){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ed={stack:"dbcore",level:0,name:"Observability",create:function(n){var o=n.schema.name,s=new ke(n.MIN_KEY,n.MAX_KEY);return i(i({},n),{transaction:function(u,l,h){if(H.subscr&&l!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(H.querier));return n.transaction(u,l,h)},table:function(u){var l=n.table(u),h=l.schema,p=h.primaryKey,v=h.indexes,y=p.extractKey,b=p.outbound,T=p.autoIncrement&&v.filter(function(w){return w.compound&&w.keyPath.includes(p.keyPath)}),O=i(i({},l),{mutate:function(w){function E(U){return U="idb://".concat(o,"/").concat(u,"/").concat(U),M[U]||(M[U]=new ke)}var S,x,k,C=w.trans,M=w.mutatedParts||(w.mutatedParts={}),j=E(""),B=E(":dels"),L=w.type,Y=w.type==="deleteRange"?[w.range]:w.type==="delete"?[w.keys]:w.values.length<50?[$a(p,w).filter(function(U){return U}),w.values]:[],F=Y[0],q=Y[1],Y=w.trans._cache;return d(F)?(j.addKeys(F),(Y=L==="delete"||F.length===q.length?Mc(F,Y):null)||B.addKeys(F),(Y||q)&&(S=E,x=Y,k=q,h.indexes.forEach(function(U){var W=S(U.name||"");function J(ne){return ne!=null?U.extractKey(ne):null}function te(ne){return U.multiEntry&&d(ne)?ne.forEach(function(ze){return W.addKey(ze)}):W.addKey(ne)}(x||k).forEach(function(ne,De){var Q=x&&J(x[De]),De=k&&J(k[De]);oe(Q,De)!==0&&(Q!=null&&te(Q),De!=null&&te(De))})}))):F?(q={from:(q=F.lower)!==null&&q!==void 0?q:n.MIN_KEY,to:(q=F.upper)!==null&&q!==void 0?q:n.MAX_KEY},B.add(q),j.add(q)):(j.add(s),B.add(s),h.indexes.forEach(function(U){return E(U.name).add(s)})),l.mutate(w).then(function(U){return!F||w.type!=="add"&&w.type!=="put"||(j.addKeys(U.results),T&&T.forEach(function(W){for(var J=w.values.map(function(Q){return W.extractKey(Q)}),te=W.keyPath.findIndex(function(Q){return Q===p.keyPath}),ne=0,ze=U.results.length;ne<ze;++ne)J[ne][te]=U.results[ne];E(W.name).addKeys(J)})),C.mutatedParts=ri(C.mutatedParts||{},M),U})}}),v=function(E){var S=E.query,E=S.index,S=S.range;return[E,new ke((E=S.lower)!==null&&E!==void 0?E:n.MIN_KEY,(S=S.upper)!==null&&S!==void 0?S:n.MAX_KEY)]},P={get:function(w){return[p,new ke(w.key)]},getMany:function(w){return[p,new ke().addKeys(w.keys)]},count:v,query:v,openCursor:v};return f(P).forEach(function(w){O[w]=function(E){var S=H.subscr,x=!!S,k=Nc(H,l)&&jc(w,E)?E.obsSet={}:S;if(x){var C=function(q){return q="idb://".concat(o,"/").concat(u,"/").concat(q),k[q]||(k[q]=new ke)},M=C(""),j=C(":dels"),S=P[w](E),x=S[0],S=S[1];if((w==="query"&&x.isPrimaryKey&&!E.values?j:C(x.name||"")).add(S),!x.isPrimaryKey){if(w!=="count"){var B=w==="query"&&b&&E.values&&l.query(i(i({},E),{values:!1}));return l[w].apply(this,arguments).then(function(q){if(w==="query"){if(b&&E.values)return B.then(function(J){return J=J.result,M.addKeys(J),q});var Y=E.values?q.result.map(y):q.result;(E.values?M:j).addKeys(Y)}else if(w==="openCursor"){var U=q,W=E.values;return U&&Object.create(U,{key:{get:function(){return j.addKey(U.primaryKey),U.key}},primaryKey:{get:function(){var J=U.primaryKey;return j.addKey(J),J}},value:{get:function(){return W&&M.addKey(U.primaryKey),U.value}}})}return q})}j.add(s)}}return l[w].apply(this,arguments)}}),O}})}};function Kc(n,o,s){if(s.numFailures===0)return o;if(o.type==="deleteRange")return null;var u=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return s.numFailures===u?null:(o=i({},o),d(o.keys)&&(o.keys=o.keys.filter(function(l,h){return!(h in s.failures)})),"values"in o&&d(o.values)&&(o.values=o.values.filter(function(l,h){return!(h in s.failures)})),o)}function Ha(n,o){return s=n,((u=o).lower===void 0||(u.lowerOpen?0<oe(s,u.lower):0<=oe(s,u.lower)))&&(n=n,(o=o).upper===void 0||(o.upperOpen?oe(n,o.upper)<0:oe(n,o.upper)<=0));var s,u}function Ac(n,o,P,u,l,h){if(!P||P.length===0)return n;var p=o.query.index,y=p.multiEntry,b=o.query.range,T=u.schema.primaryKey.extractKey,O=p.extractKey,v=(p.lowLevelIndex||p).extractKey,P=P.reduce(function(w,E){var S=w,x=[];if(E.type==="add"||E.type==="put")for(var k=new ke,C=E.values.length-1;0<=C;--C){var M,j=E.values[C],B=T(j);k.hasKey(B)||(M=O(j),(y&&d(M)?M.some(function(U){return Ha(U,b)}):Ha(M,b))&&(k.addKey(B),x.push(j)))}switch(E.type){case"add":var L=new ke().addKeys(o.values?w.map(function(W){return T(W)}):w),S=w.concat(o.values?x.filter(function(W){return W=T(W),!L.hasKey(W)&&(L.addKey(W),!0)}):x.map(function(W){return T(W)}).filter(function(W){return!L.hasKey(W)&&(L.addKey(W),!0)}));break;case"put":var F=new ke().addKeys(E.values.map(function(W){return T(W)}));S=w.filter(function(W){return!F.hasKey(o.values?T(W):W)}).concat(o.values?x:x.map(function(W){return T(W)}));break;case"delete":var q=new ke().addKeys(E.keys);S=w.filter(function(W){return!q.hasKey(o.values?T(W):W)});break;case"deleteRange":var Y=E.range;S=w.filter(function(W){return!Ha(T(W),Y)})}return S},n);return P===n?n:(P.sort(function(w,E){return oe(v(w),v(E))||oe(T(w),T(E))}),o.limit&&o.limit<1/0&&(P.length>o.limit?P.length=o.limit:n.length===o.limit&&P.length<o.limit&&(l.dirty=!0)),h?Object.freeze(P):P)}function Bc(n,o){return oe(n.lower,o.lower)===0&&oe(n.upper,o.upper)===0&&!!n.lowerOpen==!!o.lowerOpen&&!!n.upperOpen==!!o.upperOpen}function Od(n,o){return function(s,u,l,h){if(s===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=oe(s,u))===0){if(l&&h)return 0;if(l)return 1;if(h)return-1}return u}(n.lower,o.lower,n.lowerOpen,o.lowerOpen)<=0&&0<=function(s,u,l,h){if(s===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=oe(s,u))===0){if(l&&h)return 0;if(l)return-1;if(h)return 1}return u}(n.upper,o.upper,n.upperOpen,o.upperOpen)}function Sd(n,o,s,u){n.subscribers.add(s),u.addEventListener("abort",function(){var l,h;n.subscribers.delete(s),n.subscribers.size===0&&(l=n,h=o,setTimeout(function(){l.subscribers.size===0&&Sn(h,l)},3e3))})}var Pd={stack:"dbcore",level:0,name:"Cache",create:function(n){var o=n.schema.name;return i(i({},n),{transaction:function(s,u,l){var h,p,y=n.transaction(s,u,l);return u==="readwrite"&&(p=(h=new AbortController).signal,l=function(b){return function(){if(h.abort(),u==="readwrite"){for(var T=new Set,O=0,v=s;O<v.length;O++){var P=v[O],w=Kn["idb://".concat(o,"/").concat(P)];if(w){var E=n.table(P),S=w.optimisticOps.filter(function(W){return W.trans===y});if(y._explicit&&b&&y.mutatedParts)for(var x=0,k=Object.values(w.queries.query);x<k.length;x++)for(var C=0,M=(L=k[x]).slice();C<M.length;C++)qa((F=M[C]).obsSet,y.mutatedParts)&&(Sn(L,F),F.subscribers.forEach(function(W){return T.add(W)}));else if(0<S.length){w.optimisticOps=w.optimisticOps.filter(function(W){return W.trans!==y});for(var j=0,B=Object.values(w.queries.query);j<B.length;j++)for(var L,F,q,Y=0,U=(L=B[j]).slice();Y<U.length;Y++)(F=U[Y]).res!=null&&y.mutatedParts&&(b&&!F.dirty?(q=Object.isFrozen(F.res),q=Ac(F.res,F.req,S,E,F,q),F.dirty?(Sn(L,F),F.subscribers.forEach(function(W){return T.add(W)})):q!==F.res&&(F.res=q,F.promise=Z.resolve({result:q}))):(F.dirty&&Sn(L,F),F.subscribers.forEach(function(W){return T.add(W)})))}}}T.forEach(function(W){return W()})}}},y.addEventListener("abort",l(!1),{signal:p}),y.addEventListener("error",l(!1),{signal:p}),y.addEventListener("complete",l(!0),{signal:p})),y},table:function(s){var u=n.table(s),l=u.schema.primaryKey;return i(i({},u),{mutate:function(h){var p=H.trans;if(l.outbound||p.db._options.cache==="disabled"||p.explicit||p.idbtrans.mode!=="readwrite")return u.mutate(h);var y=Kn["idb://".concat(o,"/").concat(s)];return y?(p=u.mutate(h),h.type!=="add"&&h.type!=="put"||!(50<=h.values.length||$a(l,h).some(function(b){return b==null}))?(y.optimisticOps.push(h),h.mutatedParts&&oi(h.mutatedParts),p.then(function(b){0<b.numFailures&&(Sn(y.optimisticOps,h),(b=Kc(0,h,b))&&y.optimisticOps.push(b),h.mutatedParts&&oi(h.mutatedParts))}),p.catch(function(){Sn(y.optimisticOps,h),h.mutatedParts&&oi(h.mutatedParts)})):p.then(function(b){var T=Kc(0,i(i({},h),{values:h.values.map(function(O,v){var P;return b.failures[v]?O:(O=(P=l.keyPath)!==null&&P!==void 0&&P.includes(".")?Se(O):i({},O),ae(O,l.keyPath,b.results[v]),O)})}),b);y.optimisticOps.push(T),queueMicrotask(function(){return h.mutatedParts&&oi(h.mutatedParts)})}),p):u.mutate(h)},query:function(h){if(!Nc(H,u)||!jc("query",h))return u.query(h);var p=((T=H.trans)===null||T===void 0?void 0:T.db._options.cache)==="immutable",v=H,y=v.requery,b=v.signal,T=function(E,S,x,k){var C=Kn["idb://".concat(E,"/").concat(S)];if(!C)return[];if(!(S=C.queries[x]))return[null,!1,C,null];var M=S[(k.query?k.query.index.name:null)||""];if(!M)return[null,!1,C,null];switch(x){case"query":var j=M.find(function(B){return B.req.limit===k.limit&&B.req.values===k.values&&Bc(B.req.query.range,k.query.range)});return j?[j,!0,C,M]:[M.find(function(B){return("limit"in B.req?B.req.limit:1/0)>=k.limit&&(!k.values||B.req.values)&&Od(B.req.query.range,k.query.range)}),!1,C,M];case"count":return j=M.find(function(B){return Bc(B.req.query.range,k.query.range)}),[j,!!j,C,M]}}(o,s,"query",h),O=T[0],v=T[1],P=T[2],w=T[3];return O&&v?O.obsSet=h.obsSet:(v=u.query(h).then(function(E){var S=E.result;if(O&&(O.res=S),p){for(var x=0,k=S.length;x<k;++x)Object.freeze(S[x]);Object.freeze(S)}else E.result=Se(S);return E}).catch(function(E){return w&&O&&Sn(w,O),Promise.reject(E)}),O={obsSet:h.obsSet,promise:v,subscribers:new Set,type:"query",req:h,dirty:!1},w?w.push(O):(w=[O],(P=P||(Kn["idb://".concat(o,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[h.query.index.name||""]=w)),Sd(O,w,y,b),O.promise.then(function(E){return{result:Ac(E.result,h,P==null?void 0:P.optimisticOps,u,O,p)}})}})}})}};function ai(n,o){return new Proxy(n,{get:function(s,u,l){return u==="db"?o:Reflect.get(s,u,l)}})}var kt=(Te.prototype.version=function(n){if(isNaN(n)||n<.1)throw new z.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var o=this._versions,s=o.filter(function(u){return u._cfg.version===n})[0];return s||(s=new this.Version(n),o.push(s),o.sort(gd),s.stores({}),this._state.autoSchema=!1,s)},Te.prototype._whenReady=function(n){var o=this;return this.idbdb&&(this._state.openComplete||H.letThrough||this._vip)?n():new Z(function(s,u){if(o._state.openComplete)return u(new z.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void u(new z.DatabaseClosed);o.open().catch(ce)}o._state.dbReadyPromise.then(s,u)}).then(n)},Te.prototype.use=function(n){var o=n.stack,s=n.create,u=n.level,l=n.name;return l&&this.unuse({stack:o,name:l}),n=this._middlewares[o]||(this._middlewares[o]=[]),n.push({stack:o,create:s,level:u??10,name:l}),n.sort(function(h,p){return h.level-p.level}),this},Te.prototype.unuse=function(n){var o=n.stack,s=n.name,u=n.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(l){return u?l.create!==u:!!s&&l.name!==s})),this},Te.prototype.open=function(){var n=this;return Mn(Zt,function(){return _d(n)})},Te.prototype._close=function(){var n=this._state,o=nr.indexOf(this);if(0<=o&&nr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new Z(function(s){n.dbReadyResolve=s}),n.openCanceller=new Z(function(s,u){n.cancelOpen=u}))},Te.prototype.close=function(s){var o=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,s=this._state;o?(s.isBeingOpened&&s.cancelOpen(new z.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new z.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},Te.prototype.delete=function(n){var o=this;n===void 0&&(n={disableAutoOpen:!0});var s=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new Z(function(l,h){function p(){o.close(n);var y=o._deps.indexedDB.deleteDatabase(o.name);y.onsuccess=ge(function(){var b,T,O;b=o._deps,T=o.name,O=b.indexedDB,b=b.IDBKeyRange,Aa(O)||T===Wo||Ka(O,b).delete(T).catch(ce),l()}),y.onerror=gt(h),y.onblocked=o._fireOnBlocked}if(s)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(p):p()})},Te.prototype.backendDB=function(){return this.idbdb},Te.prototype.isOpen=function(){return this.idbdb!==null},Te.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},Te.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Te.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Te.prototype,"tables",{get:function(){var n=this;return f(this._allTables).map(function(o){return n._allTables[o]})},enumerable:!1,configurable:!0}),Te.prototype.transaction=function(){var n=(function(o,s,u){var l=arguments.length;if(l<2)throw new z.InvalidArgument("Too few arguments");for(var h=new Array(l-1);--l;)h[l-1]=arguments[l];return u=h.pop(),[o,mt(h),u]}).apply(this,arguments);return this._transaction.apply(this,n)},Te.prototype._transaction=function(n,o,s){var u=this,l=H.trans;l&&l.db===this&&n.indexOf("!")===-1||(l=null);var h,p,y=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(p=o.map(function(T){if(T=T instanceof u.Table?T.name:T,typeof T!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return T}),n=="r"||n===Ra)h=Ra;else{if(n!="rw"&&n!=Ea)throw new z.InvalidArgument("Invalid transaction mode: "+n);h=Ea}if(l){if(l.mode===Ra&&h===Ea){if(!y)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");l=null}l&&p.forEach(function(T){if(l&&l.storeNames.indexOf(T)===-1){if(!y)throw new z.SubTransaction("Table "+T+" not included in parent transaction.");l=null}}),y&&l&&!l.active&&(l=null)}}catch(T){return l?l._promise(null,function(O,v){v(T)}):_e(T)}var b=(function T(O,v,P,w,E){return Z.resolve().then(function(){var S=H.transless||H,x=O._createTransaction(v,P,O._dbSchema,w);if(x.explicit=!0,S={trans:x,transless:S},w)x.idbtrans=w.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(M){return M.name===pa.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return T(O,v,P,null,E)})):_e(M)}var k,C=da(E);return C&&tr(),S=Z.follow(function(){var M;(k=E.call(x,x))&&(C?(M=$t.bind(null,null),k.then(M,M)):typeof k.next=="function"&&typeof k.throw=="function"&&(k=Za(k)))},S),(k&&typeof k.then=="function"?Z.resolve(k).then(function(M){return x.active?M:_e(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):S.then(function(){return k})).then(function(M){return w&&x._resolve(),x._completion.then(function(){return M})}).catch(function(M){return x._reject(M),_e(M)})})}).bind(null,this,h,p,l,s);return l?l._promise(h,b,"lock"):H.trans?Mn(H.transless,function(){return u._whenReady(b)}):this._whenReady(b)},Te.prototype.table=function(n){if(!R(this._allTables,n))throw new z.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},Te);function Te(n,o){var s=this;this._middlewares={},this.verno=0;var u=Te.dependencies;this._options=o=i({addons:Te.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},u=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var l,h,p,y,b,T={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};T.dbReadyPromise=new Z(function(v){T.dbReadyResolve=v}),T.openCanceller=new Z(function(v,P){T.cancelOpen=P}),this._state=T,this.name=n,this.on=Fr(this,"populate","blocked","versionchange","close",{ready:[ma,ce]}),this.on.ready.subscribe=X(this.on.ready.subscribe,function(v){return function(P,w){Te.vip(function(){var E,S=s._state;S.openComplete?(S.dbOpenError||Z.resolve().then(P),w&&v(P)):S.onReadyBeingFired?(S.onReadyBeingFired.push(P),w&&v(P)):(v(P),E=s,w||v(function x(){E.on.ready.unsubscribe(P),E.on.ready.unsubscribe(x)}))})}}),this.Collection=(l=this,qr(ld.prototype,function(k,x){this.db=l;var w=mc,E=null;if(x)try{w=x()}catch(C){E=C}var S=k._ctx,x=S.table,k=x.hook.reading.fire;this._ctx={table:x,index:S.index,isPrimKey:!S.index||x.schema.primKey.keyPath&&S.index===x.schema.primKey.name,range:w,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:E,or:S.or,valueMapper:k!==Nr?k:null}})),this.Table=(h=this,qr(bc.prototype,function(v,P,w){this.db=h,this._tx=w,this.name=v,this.schema=P,this.hook=h._allTables[v]?h._allTables[v].hook:Fr(null,{creating:[td,ce],reading:[ed,Nr],updating:[rd,ce],deleting:[nd,ce]})})),this.Transaction=(p=this,qr(dd.prototype,function(v,P,w,E,S){var x=this;this.db=p,this.mode=v,this.storeNames=P,this.schema=w,this.chromeTransactionDurability=E,this.idbtrans=null,this.on=Fr(this,"complete","error","abort"),this.parent=S||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Z(function(k,C){x._resolve=k,x._reject=C}),this._completion.then(function(){x.active=!1,x.on.complete.fire()},function(k){var C=x.active;return x.active=!1,x.on.error.fire(k),x.parent?x.parent._reject(k):C&&x.idbtrans&&x.idbtrans.abort(),_e(k)})})),this.Version=(y=this,qr(wd.prototype,function(v){this.db=y,this._cfg={version:v,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(b=this,qr(Rc.prototype,function(v,P,w){if(this.db=b,this._ctx={table:v,index:P===":id"?null:P,or:w},this._cmp=this._ascending=oe,this._descending=function(E,S){return oe(S,E)},this._max=function(E,S){return 0<oe(E,S)?E:S},this._min=function(E,S){return oe(E,S)<0?E:S},this._IDBKeyRange=b._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})),this.on("versionchange",function(v){0<v.newVersion?console.warn("Another connection wants to upgrade database '".concat(s.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(s.name,"'. Closing db now to resume the delete request.")),s.close({disableAutoOpen:!1})}),this.on("blocked",function(v){!v.newVersion||v.newVersion<v.oldVersion?console.warn("Dexie.delete('".concat(s.name,"') was blocked")):console.warn("Upgrade '".concat(s.name,"' blocked by other connection holding version ").concat(v.oldVersion/10))}),this._maxKey=Zr(o.IDBKeyRange),this._createTransaction=function(v,P,w,E){return new s.Transaction(v,P,w,s._options.chromeTransactionDurability,E)},this._fireOnBlocked=function(v){s.on("blocked").fire(v),nr.filter(function(P){return P.name===s.name&&P!==s&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(v)})},this.use(Rd),this.use(Pd),this.use(Ed),this.use(Td),this.use(xd);var O=new Proxy(this,{get:function(v,P,w){if(P==="_vip")return!0;if(P==="table")return function(S){return ai(s.table(S),O)};var E=Reflect.get(v,P,w);return E instanceof bc?ai(E,O):P==="tables"?E.map(function(S){return ai(S,O)}):P==="_createTransaction"?function(){return ai(E.apply(this,arguments),O)}:E}});this.vip=O,u.forEach(function(v){return v(s)})}var si,tt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Id=(Va.prototype.subscribe=function(n,o,s){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:o,complete:s})},Va.prototype[tt]=function(){return this},Va);function Va(n){this._subscribe=n}try{si={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{si={indexedDB:null,IDBKeyRange:null}}function Fc(n){var o,s=!1,u=new Id(function(l){var h=da(n),p,y=!1,b={},T={},O={get closed(){return y},unsubscribe:function(){y||(y=!0,p&&p.abort(),v&&zt.storagemutated.unsubscribe(w))}};l.start&&l.start(O);var v=!1,P=function(){return xa(E)},w=function(S){ri(b,S),qa(T,b)&&P()},E=function(){var S,x,k;!y&&si.indexedDB&&(b={},S={},p&&p.abort(),p=new AbortController,k=function(C){var M=Xn();try{h&&tr();var j=Wt(n,C);return j=h?j.finally($t):j}finally{M&&er()}}(x={subscr:S,signal:p.signal,requery:P,querier:n,trans:null}),Promise.resolve(k).then(function(C){s=!0,o=C,y||x.signal.aborted||(b={},function(M){for(var j in M)if(R(M,j))return;return 1}(T=S)||v||(zt(Yr,w),v=!0),xa(function(){return!y&&l.next&&l.next(C)}))},function(C){s=!1,["DatabaseClosedError","AbortError"].includes(C==null?void 0:C.name)||y||xa(function(){y||l.error&&l.error(C)})}))};return setTimeout(P,0),O});return u.hasValue=function(){return s},u.getValue=function(){return o},u}var An=kt;function za(n){var o=Gt;try{Gt=!0,zt.storagemutated.fire(n),Ya(n,!0)}finally{Gt=o}}D(An,i(i({},Ko),{delete:function(n){return new An(n,{addons:[]}).delete()},exists:function(n){return new An(n,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return o=An.dependencies,s=o.indexedDB,o=o.IDBKeyRange,(Aa(s)?Promise.resolve(s.databases()).then(function(u){return u.map(function(l){return l.name}).filter(function(l){return l!==Wo})}):Ka(s,o).toCollection().primaryKeys()).then(n)}catch{return _e(new z.MissingAPI)}var o,s},defineClass:function(){return function(n){m(this,n)}},ignoreTransaction:function(n){return H.trans?Mn(H.transless,n):n()},vip:Ba,async:function(n){return function(){try{var o=Za(n.apply(this,arguments));return o&&typeof o.then=="function"?o:Z.resolve(o)}catch(s){return _e(s)}}},spawn:function(n,o,s){try{var u=Za(n.apply(s,o||[]));return u&&typeof u.then=="function"?u:Z.resolve(u)}catch(l){return _e(l)}},currentTransaction:{get:function(){return H.trans||null}},waitFor:function(n,o){return o=Z.resolve(typeof n=="function"?An.ignoreTransaction(n):n).timeout(o||6e4),H.trans?H.trans.waitFor(o):o},Promise:Z,debug:{get:function(){return yt},set:function(n){uc(n)}},derive:A,extend:m,props:D,override:X,Events:Fr,on:zt,liveQuery:Fc,extendObservabilitySet:ri,getByKeyPath:ue,setByKeyPath:ae,delByKeyPath:function(n,o){typeof o=="string"?ae(n,o,void 0):"length"in o&&[].map.call(o,function(s){ae(n,s,void 0)})},shallowClone:be,deepClone:Se,getObjectDiff:Wa,cmp:oe,asap:de,minKey:-1/0,addons:[],connections:nr,errnames:pa,dependencies:si,cache:Kn,semVer:"4.0.11",version:"4.0.11".split(".").map(function(n){return parseInt(n)}).reduce(function(n,o,s){return n+o/Math.pow(10,2*s)})})),An.maxKey=Zr(An.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(zt(Yr,function(n){Gt||(n=new CustomEvent(Ia,{detail:n}),Gt=!0,dispatchEvent(n),Gt=!1)}),addEventListener(Ia,function(n){n=n.detail,Gt||za(n)}));var ir,Gt=!1,qc=function(){};return typeof BroadcastChannel<"u"&&((qc=function(){(ir=new BroadcastChannel(Ia)).onmessage=function(n){return n.data&&za(n.data)}})(),typeof ir.unref=="function"&&ir.unref(),zt(Yr,function(n){Gt||ir.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!kt.disableBfCache&&n.persisted){yt&&console.debug("Dexie: handling persisted pagehide"),ir!=null&&ir.close();for(var o=0,s=nr;o<s.length;o++)s[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!kt.disableBfCache&&n.persisted&&(yt&&console.debug("Dexie: handling persisted pageshow"),qc(),za({all:new ke(-1/0,[[]])}))})),Z.rejectionMapper=function(n,o){return!n||n instanceof Qn||n instanceof TypeError||n instanceof SyntaxError||!n.name||!sc[n.name]?n:(o=new sc[n.name](o||n.message,n),"stack"in n&&K(o,"stack",{get:function(){return this.inner.stack}}),o)},uc(yt),i(kt,Object.freeze({__proto__:null,Dexie:kt,liveQuery:Fc,Entity:yc,cmp:oe,PropModification:Ur,replacePrefix:function(n,o){return new Ur({replacePrefix:[n,o]})},add:function(n){return new Ur({add:n})},remove:function(n){return new Ur({remove:n})},default:kt,RangeSet:ke,mergeRanges:Hr,rangesOverlap:Ic}),{default:kt}),kt})}(wi)),wi.exports}var dv=hv();const vs=lv(dv),Sl=Symbol.for("Dexie"),Ni=globalThis[Sl]||(globalThis[Sl]=vs);if(vs.semVer!==Ni.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${vs.semVer} and ${Ni.semVer}`);const{liveQuery:fb,mergeRanges:hb,rangesOverlap:db,RangeSet:pb,cmp:mb,Entity:yb,PropModification:gb,replacePrefix:vb,add:bb,remove:wb}=Ni,pn=new Ni("dining-menu");pn.version(1).stores({configuration:"++id",menus:"++id, date",venues:"++id, apiName, name",devices:"++id"});pn.on("populate",async e=>{try{const t=await e.table("devices").add({id:1,name:'Mimo Adapt-IQV 10.1" Digital Signage Tablet',model:"MCT-10HPQ",dimensions:[{orientation:"landscape",width:1280,height:800},{orientation:"portrait",width:800,height:1280}]}),r=await e.table("venues").add({apiName:"Breakfast",name:"Breakfast"}),i=await e.table("venues").add({apiName:"Lunch Homecooking",name:"Lunch Homecooking"}),a=await e.table("venues").add({apiName:"Dinner Homecooking",name:"Dinner Homecooking"}),c=await e.table("venues").add({apiName:"Soup of the Day",name:"Soup of the Day"}),f=await e.table("venues").add({apiName:"Vegetarian Bar",name:"Vegetarian Bar"});await e.table("configuration").add({id:1,auth:{kiosk:"1234",configuration:"123456"},api:{url:"https://oncampusdining.com/api/menu/js/",campus:"cedarville"},orientation:"landscape",showBezel:!1,layout:{component:"GridLayout",colors:{primary:"#003865",accent:"#fcb716",gray:"#efefef"},canvas:{bgColor:"#efefef",color:"#000000"},bezel:{width:80,bgColor:"#000000"},header:{height:75,bgColor:"#003865",color:"#ffffff"}},device:{id:t,name:'Mimo Adapt-IQV 10.1" Digital Signage Tablet',model:"MCT-10HPQ",dimensions:[{orientation:"landscape",width:1280,height:800},{orientation:"portrait",width:800,height:1280}]},menus:[{venueId:r,startTime:"07:00",endTime:"10:00"},{venueId:i,startTime:"10:30",endTime:"14:00"},{venueId:a,startTime:"16:30",endTime:"20:00"}]})}catch(t){console.error("Error seeding db",t)}});const pv=()=>pn.venues.toArray(),mv=e=>{e.filter(t=>t.name!=="No Venues Found").forEach(async t=>{await pn.venues.where("apiName").equals(t.name).first()||pn.venues.add({name:t.name,apiName:t.name})})},yv=async(e=qe.Now.plainDateISO().toString())=>await pn.menus.where("date").equals(e.toString()).first(),gv=e=>pn.menus.add(e).then(t=>({id:t,...e})),vv=async e=>yv(e.date).then(t=>t||(mv(e.venues),gv(e)));/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bv(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const wv=Object.assign,_v=Object.prototype.hasOwnProperty,bs=(e,t)=>_v.call(e,t),dr=Array.isArray,_i=e=>jh(e)==="[object Map]",Tv=e=>typeof e=="function",xv=e=>typeof e=="string",No=e=>typeof e=="symbol",la=e=>e!==null&&typeof e=="object",Rv=Object.prototype.toString,jh=e=>Rv.call(e),Ev=e=>jh(e).slice(8,-1),ec=e=>xv(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pr=(e,t)=>!Object.is(e,t);let Pl;const tc=()=>Pl||(Pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe,Kh=0,oo,io;function Ov(e,t=!1){if(e.flags|=8,t){e.next=io,io=e;return}e.next=oo,oo=e}function nc(){Kh++}function rc(){if(--Kh>0)return;if(io){let t=io;for(io=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;oo;){let t=oo;for(oo=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=r}}if(e)throw e}function Sv(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pv(e){let t,r=e.depsTail,i=r;for(;i;){const a=i.prevDep;i.version===-1?(i===r&&(r=a),Bh(i),kv(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=a}e.deps=t,e.depsTail=r}function Iv(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ah(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ah(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===mo)||(e.globalVersion=mo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Iv(e))))return;e.flags|=2;const t=e.dep,r=xe,i=un;xe=e,un=!0;try{Sv(e);const a=e.fn(e._value);(t.version===0||pr(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{xe=r,un=i,Pv(e),e.flags&=-3}}function Bh(e,t=!1){const{dep:r,prevSub:i,nextSub:a}=e;if(i&&(i.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=i,e.nextSub=void 0),r.subs===e&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let c=r.computed.deps;c;c=c.nextDep)Bh(c,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function kv(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let un=!0;const Fh=[];function Dv(){Fh.push(un),un=!1}function Cv(){const e=Fh.pop();un=e===void 0?!0:e}let mo=0;class Mv{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!xe||!un||xe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==xe)r=this.activeLink=new Mv(xe,this),xe.deps?(r.prevDep=xe.depsTail,xe.depsTail.nextDep=r,xe.depsTail=r):xe.deps=xe.depsTail=r,qh(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=xe.depsTail,r.nextDep=void 0,xe.depsTail.nextDep=r,xe.depsTail=r,xe.deps===r&&(xe.deps=i)}return r}trigger(t){this.version++,mo++,this.notify(t)}notify(t){nc();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{rc()}}}function qh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)qh(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ws=new WeakMap,qn=Symbol(""),_s=Symbol(""),yo=Symbol("");function Ue(e,t,r){if(un&&xe){let i=ws.get(e);i||ws.set(e,i=new Map);let a=i.get(r);a||(i.set(r,a=new oc),a.map=i,a.key=r),a.track()}}function nn(e,t,r,i,a,c){const f=ws.get(e);if(!f){mo++;return}const d=m=>{m&&m.trigger()};if(nc(),t==="clear")f.forEach(d);else{const m=dr(e),g=m&&ec(r);if(m&&r==="length"){const I=Number(i);f.forEach((R,D)=>{(D==="length"||D===yo||!No(D)&&D>=I)&&d(R)})}else switch((r!==void 0||f.has(void 0))&&d(f.get(r)),g&&d(f.get(yo)),t){case"add":m?g&&d(f.get("length")):(d(f.get(qn)),_i(e)&&d(f.get(_s)));break;case"delete":m||(d(f.get(qn)),_i(e)&&d(f.get(_s)));break;case"set":_i(e)&&d(f.get(qn));break}}rc()}function fr(e){const t=fe(e);return t===e?t:(Ue(t,"iterate",yo),mn(e)?t:t.map(Ae))}function ic(e){return Ue(e=fe(e),"iterate",yo),e}const Nv={__proto__:null,[Symbol.iterator](){return ss(this,Symbol.iterator,Ae)},concat(...e){return fr(this).concat(...e.map(t=>dr(t)?fr(t):t))},entries(){return ss(this,"entries",e=>(e[1]=Ae(e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,r=>r.map(Ae),arguments)},find(e,t){return Dt(this,"find",e,t,Ae,arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,Ae,arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return us(this,"includes",e)},indexOf(...e){return us(this,"indexOf",e)},join(e){return fr(this).join(e)},lastIndexOf(...e){return us(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return Xr(this,"pop")},push(...e){return Xr(this,"push",e)},reduce(e,...t){return Il(this,"reduce",e,t)},reduceRight(e,...t){return Il(this,"reduceRight",e,t)},shift(){return Xr(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return Xr(this,"splice",e)},toReversed(){return fr(this).toReversed()},toSorted(e){return fr(this).toSorted(e)},toSpliced(...e){return fr(this).toSpliced(...e)},unshift(...e){return Xr(this,"unshift",e)},values(){return ss(this,"values",Ae)}};function ss(e,t,r){const i=ic(e),a=i[t]();return i!==e&&!mn(e)&&(a._next=a.next,a.next=()=>{const c=a._next();return c.value&&(c.value=r(c.value)),c}),a}const jv=Array.prototype;function Dt(e,t,r,i,a,c){const f=ic(e),d=f!==e&&!mn(e),m=f[t];if(m!==jv[t]){const R=m.apply(e,c);return d?Ae(R):R}let g=r;f!==e&&(d?g=function(R,D){return r.call(this,Ae(R),D,e)}:r.length>2&&(g=function(R,D){return r.call(this,R,D,e)}));const I=m.call(f,g,i);return d&&a?a(I):I}function Il(e,t,r,i){const a=ic(e);let c=r;return a!==e&&(mn(e)?r.length>3&&(c=function(f,d,m){return r.call(this,f,d,m,e)}):c=function(f,d,m){return r.call(this,f,Ae(d),m,e)}),a[t](c,...i)}function us(e,t,r){const i=fe(e);Ue(i,"iterate",yo);const a=i[t](...r);return(a===-1||a===!1)&&Gv(r[0])?(r[0]=fe(r[0]),i[t](...r)):a}function Xr(e,t,r=[]){Dv(),nc();const i=fe(e)[t].apply(e,r);return rc(),Cv(),i}const Kv=bv("__proto__,__v_isRef,__isVue"),Uh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(No));function Av(e){No(e)||(e=String(e));const t=fe(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class Lh{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const a=this._isReadonly,c=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return c;if(r==="__v_raw")return i===(a?c?Hv:Wh:c?$v:Zh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const f=dr(t);if(!a){let m;if(f&&(m=Nv[r]))return m;if(r==="hasOwnProperty")return Av}const d=Reflect.get(t,r,mr(t)?t:i);return(No(r)?Uh.has(r):Kv(r))||(a||Ue(t,"get",r),c)?d:mr(d)?f&&ec(r)?d:d.value:la(d)?a?Hh(d):$h(d):d}}class Bv extends Lh{constructor(t=!1){super(!1,t)}set(t,r,i,a){let c=t[r];if(!this._isShallow){const m=wr(c);if(!mn(i)&&!wr(i)&&(c=fe(c),i=fe(i)),!dr(t)&&mr(c)&&!mr(i))return m?!1:(c.value=i,!0)}const f=dr(t)&&ec(r)?Number(r)<t.length:bs(t,r),d=Reflect.set(t,r,i,mr(t)?t:a);return t===fe(a)&&(f?pr(i,c)&&nn(t,"set",r,i):nn(t,"add",r,i)),d}deleteProperty(t,r){const i=bs(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&i&&nn(t,"delete",r,void 0),a}has(t,r){const i=Reflect.has(t,r);return(!No(r)||!Uh.has(r))&&Ue(t,"has",r),i}ownKeys(t){return Ue(t,"iterate",dr(t)?"length":qn),Reflect.ownKeys(t)}}class Fv extends Lh{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const qv=new Bv,Uv=new Fv,Ts=e=>e,pi=e=>Reflect.getPrototypeOf(e);function Lv(e,t,r){return function(...i){const a=this.__v_raw,c=fe(a),f=_i(c),d=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,g=a[e](...i),I=r?Ts:t?xs:Ae;return!t&&Ue(c,"iterate",m?_s:qn),{next(){const{value:R,done:D}=g.next();return D?{value:R,done:D}:{value:d?[I(R[0]),I(R[1])]:I(R),done:D}},[Symbol.iterator](){return this}}}}function mi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yv(e,t){const r={get(a){const c=this.__v_raw,f=fe(c),d=fe(a);e||(pr(a,d)&&Ue(f,"get",a),Ue(f,"get",d));const{has:m}=pi(f),g=t?Ts:e?xs:Ae;if(m.call(f,a))return g(c.get(a));if(m.call(f,d))return g(c.get(d));c!==f&&c.get(a)},get size(){const a=this.__v_raw;return!e&&Ue(fe(a),"iterate",qn),Reflect.get(a,"size",a)},has(a){const c=this.__v_raw,f=fe(c),d=fe(a);return e||(pr(a,d)&&Ue(f,"has",a),Ue(f,"has",d)),a===d?c.has(a):c.has(a)||c.has(d)},forEach(a,c){const f=this,d=f.__v_raw,m=fe(d),g=t?Ts:e?xs:Ae;return!e&&Ue(m,"iterate",qn),d.forEach((I,R)=>a.call(c,g(I),g(R),f))}};return wv(r,e?{add:mi("add"),set:mi("set"),delete:mi("delete"),clear:mi("clear")}:{add(a){!t&&!mn(a)&&!wr(a)&&(a=fe(a));const c=fe(this);return pi(c).has.call(c,a)||(c.add(a),nn(c,"add",a,a)),this},set(a,c){!t&&!mn(c)&&!wr(c)&&(c=fe(c));const f=fe(this),{has:d,get:m}=pi(f);let g=d.call(f,a);g||(a=fe(a),g=d.call(f,a));const I=m.call(f,a);return f.set(a,c),g?pr(c,I)&&nn(f,"set",a,c):nn(f,"add",a,c),this},delete(a){const c=fe(this),{has:f,get:d}=pi(c);let m=f.call(c,a);m||(a=fe(a),m=f.call(c,a)),d&&d.call(c,a);const g=c.delete(a);return m&&nn(c,"delete",a,void 0),g},clear(){const a=fe(this),c=a.size!==0,f=a.clear();return c&&nn(a,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=Lv(a,e,t)}),r}function Yh(e,t){const r=Yv(e,t);return(i,a,c)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?i:Reflect.get(bs(r,a)&&a in i?r:i,a,c)}const Zv={get:Yh(!1,!1)},Wv={get:Yh(!0,!1)},Zh=new WeakMap,$v=new WeakMap,Wh=new WeakMap,Hv=new WeakMap;function Vv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zv(e){return e.__v_skip||!Object.isExtensible(e)?0:Vv(Ev(e))}function $h(e){return wr(e)?e:Vh(e,!1,qv,Zv,Zh)}function Hh(e){return Vh(e,!0,Uv,Wv,Wh)}function Vh(e,t,r,i,a){if(!la(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=zv(e);if(c===0)return e;const f=a.get(e);if(f)return f;const d=new Proxy(e,c===2?i:r);return a.set(e,d),d}function wr(e){return!!(e&&e.__v_isReadonly)}function mn(e){return!!(e&&e.__v_isShallow)}function Gv(e){return e?!!e.__v_raw:!1}function fe(e){const t=e&&e.__v_raw;return t?fe(t):e}const Ae=e=>la(e)?$h(e):e,xs=e=>la(e)?Hh(e):e;function mr(e){return e?e.__v_isRef===!0:!1}function kl(e){return Qv(e,!1)}function Qv(e,t){return mr(e)?e:new Jv(e,t)}class Jv{constructor(t,r){this.dep=new oc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:fe(t),this._value=r?t:Ae(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||mn(t)||wr(t);t=i?t:fe(t),pr(t,r)&&(this._rawValue=t,this._value=i?t:Ae(t),this.dep.trigger())}}class Xv{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new oc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=mo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return Ov(this,!0),!0}get value(){const t=this.dep.track();return Ah(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function eb(e,t,r=!1){let i,a;return Tv(e)?i=e:(i=e.get,a=e.set),new Xv(i,a,r)}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/tc().requestIdleCallback;tc().cancelIdleCallback;{const e=tc(),t=(r,i)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(i),c=>{a.length>1?a.forEach(f=>f(c)):a[0](c)}};t("__VUE_INSTANCE_SETTERS__",r=>r),t("__VUE_SSR_SETTERS__",r=>zh=r)}let zh=!1;const ut=(e,t)=>eb(e,t,zh),tb=()=>pn.configuration.where("id").equals(1).first();function nb(){const e=kl();tb().then(N=>e.value=N);const t=ut(()=>!!(e!=null&&e.value)),r=ut(()=>{var N;return(N=e.value)==null?void 0:N.orientation}),i=kl();pv().then(N=>{i.value=N});const a=ut(()=>{var N;return(N=e.value)==null?void 0:N.menus.map(K=>{var $;const A=($=i.value)==null?void 0:$.find(V=>V.id===K.venueId);return{...K,venueName:A}})}),c=ut(()=>{var K;const N=qe.Now.plainTimeISO().toString();return(K=a.value)==null?void 0:K.find(A=>{const $=qe.PlainTime.from(A.startTime),V=qe.PlainTime.from(A.endTime);return qe.PlainTime.compare(N,$)!==-1&&qe.PlainTime.compare(V,N)!==-1})}),f=ut(()=>{var K;const N=qe.Now.plainTimeISO().toString();return(K=a.value)==null?void 0:K.find(A=>{const $=qe.PlainTime.from(A.startTime);return qe.PlainTime.compare(N,$)===-1})}),d=ut(()=>{var N;return(N=e.value)==null?void 0:N.device}),m=ut(()=>{var N,K;return(K=(N=d.value)==null?void 0:N.dimensions)==null?void 0:K.find(A=>A.orientation===r.value)}),g=ut(()=>{var N;return(N=e.value)==null?void 0:N.layout}),I=ut(()=>{var N;return(N=e.value)==null?void 0:N.auth}),R=ut(()=>{var N;return(N=e.value)==null?void 0:N.showBezel}),D=ut(()=>{if(e.value)return new URL(`${e.value.api.url}?campus=${e.value.api.campus}`)});return{auth:I,apiUrl:D,configuration:e,hasConfig:t,orientation:r,layout:g,device:d,deviceDimension:m,allMenus:a,activeMenu:c,upcomingMenu:f,showBezel:R}}const{apiUrl:Qt}=nb(),rb=async(e=qe.Now.plainDateISO().toString())=>{var i;if(!Qt.value)return;Qt.value.searchParams.has("startDate")?Qt.value.searchParams.set("startDate",e):Qt.value.searchParams.append("startDate",e),Qt.value.searchParams.has("_t")?Qt.value.searchParams.set("_t",qe.Now.instant().epochMilliseconds.toString()):Qt.value.searchParams.append("_t",qe.Now.instant().epochMilliseconds.toString());const r=await(await fetch(Qt.value.href)).text();return sv((i=new Function(`${r};return menuData;`)())==null?void 0:i[0])},Dl=async(e=qe.Now.plainDateISO().toString())=>{const t=await rb(e);if(t)return await vv(uv(t))};function ob(){var e;(e=navigator.serviceWorker.ready)==null||e.then(t=>{t.periodicSync.register("fetch-pioneer-menu",{minInterval:1*60*1e3}).then(()=>{console.log("Periodic Sync registered")})}).catch(console.error)}function ib(){navigator.permissions.query({name:"periodic-background-sync"}).then(e=>{e.state==="granted"&&ob()}),self.addEventListener("periodicsync",e=>{if(e.tag==="fetch-pioneer-menu"){console.clear();const t=qe.Now.plainDateISO();console.log(`fetching data for ${t.toString()}`),e.waitUntil(Dl(t.toString())),console.log(`fetching data for ${t.add({days:1}).toString()}`),e.waitUntil(Dl(t.add({days:1}).toString()))}})}ip([{"revision":null,"url":"assets/DeviceLayout-BV9Zl_zT.js"},{"revision":null,"url":"assets/GridLayout-C4IqsFMN.js"},{"revision":null,"url":"assets/index-BgARasPN.js"},{"revision":null,"url":"assets/index-DDHV4wc0.css"},{"revision":"7da797a96a961d84fa20210499a5e57c","url":"icons/Dining Device.html"},{"revision":"5748a427d000c7117dde8a2515cfb0df","url":"index.html"},{"revision":"e90d54e9c9114e4b5338794581a9fedc","url":"registerSW.js"},{"revision":"cdfb988048a9bb53fd0dc16cc2b9e52e","url":"manifest.webmanifest"}]);Ld();Ud();ib();
